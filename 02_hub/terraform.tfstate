{
  "version": 4,
  "terraform_version": "1.7.3",
  "serial": 54,
  "lineage": "f4502f71-f977-95bb-6d52-67b9f9b3a84b",
  "outputs": {
    "dns_zone_apps": {
      "value": {
        "name": "apps.houssem17.com",
        "resource_group_name": "rg-lzaks-hub-weu"
      },
      "type": [
        "object",
        {
          "name": "string",
          "resource_group_name": "string"
        }
      ]
    },
    "firewall": {
      "value": {
        "enabled": true,
        "policy_id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/firewallPolicies/firewall-policy",
        "private_ip": "172.16.0.4"
      },
      "type": [
        "object",
        {
          "enabled": "bool",
          "policy_id": "string",
          "private_ip": "string"
        }
      ]
    },
    "vnet_hub": {
      "value": {
        "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub"
      },
      "type": [
        "object",
        {
          "id": "string"
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "azurerm_subscription",
      "name": "subscription_hub",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "display_name": "Microsoft-Azure-T",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725",
            "location_placement_id": "Internal_2014-09-01",
            "quota_id": "Internal_2014-09-01",
            "spending_limit": "Off",
            "state": "Enabled",
            "subscription_id": "38977b70-47bf-4da5-a492-88712fce8725",
            "tags": {
              "Division": "Core",
              "Environment": "Hybrid",
              "Purpose": "UserTenant",
              "TimeZone": "_P29145_France_444350001"
            },
            "tenant_id": "a8f7faa1-3e2e-4d84-a6cb-daf7eb97d6e4",
            "timeouts": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "http",
      "name": "firewall_workbook",
      "provider": "provider[\"registry.terraform.io/hashicorp/http\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "body": "{\n  \"version\": \"Notebook/1.0\",\n  \"items\": [\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"## Azure Firewall Workbook\\r\\n---\\r\\n\"\n      },\n      \"name\": \"text - 23\"\n    },\n    {\n      \"type\": 11,\n      \"content\": {\n        \"version\": \"LinkItem/1.0\",\n        \"style\": \"tabs\",\n        \"links\": [\n          {\n            \"id\": \"20847ce8-91bc-4d8b-b878-a5a41c95c31c\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall Overview\",\n            \"subTarget\": \"AFOverview\",\n            \"preText\": \"Azure Firewall Overview\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"f564709d-1658-46a1-8b44-892210e13017\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - Application rule log statistics\",\n            \"subTarget\": \"AFAppRule\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"1f6661e2-f873-4d56-879d-4d085d8cf1d4\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - Network rule log statistics\",\n            \"subTarget\": \"AFNetRule\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"ef1548c5-ef55-4eaa-8a81-b049cb93b56c\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - DNS Proxy\",\n            \"subTarget\": \"AFDNSProxy\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"18a4a585-2176-4d9f-907c-8e8d5f984efa\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall Premium - IDPS\",\n            \"subTarget\": \"AFIDSIPS\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"97dc7364-961d-4c19-a730-7b9024f46b91\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - Investigation\",\n            \"subTarget\": \"AFInvestigate\",\n            \"style\": \"link\"\n          }\n        ]\n      },\n      \"name\": \"links - 24\"\n    },\n    {\n      \"type\": 9,\n      \"content\": {\n        \"version\": \"KqlParameterItem/1.0\",\n        \"parameters\": [\n          {\n            \"id\": \"ab7d6c51-d7df-436c-96a2-429163aa50ec\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"TimeRange\",\n            \"type\": 4,\n            \"isRequired\": true,\n            \"isGlobal\": true,\n            \"value\": {\n              \"durationMs\": 7776000000\n            },\n            \"typeSettings\": {\n              \"selectableValues\": [\n                {\n                  \"durationMs\": 300000\n                },\n                {\n                  \"durationMs\": 900000\n                },\n                {\n                  \"durationMs\": 1800000\n                },\n                {\n                  \"durationMs\": 3600000\n                },\n                {\n                  \"durationMs\": 14400000\n                },\n                {\n                  \"durationMs\": 43200000\n                },\n                {\n                  \"durationMs\": 86400000\n                },\n                {\n                  \"durationMs\": 172800000\n                },\n                {\n                  \"durationMs\": 259200000\n                },\n                {\n                  \"durationMs\": 604800000\n                },\n                {\n                  \"durationMs\": 1209600000\n                },\n                {\n                  \"durationMs\": 2419200000\n                },\n                {\n                  \"durationMs\": 2592000000\n                },\n                {\n                  \"durationMs\": 5184000000\n                },\n                {\n                  \"durationMs\": 7776000000\n                }\n              ],\n              \"allowCustom\": false\n            }\n          },\n          {\n            \"id\": \"add90eb3-ff5f-4b19-9658-ff15c8043af5\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"Workspaces\",\n            \"type\": 5,\n            \"isRequired\": true,\n            \"multiSelect\": true,\n            \"quote\": \"'\",\n            \"delimiter\": \",\",\n            \"query\": \"where type =~ 'microsoft.operationalinsights/workspaces'\\r\\n| project id, name\\r\\n| order by name desc\",\n            \"crossComponentResources\": [\n              \"value::selected\"\n            ],\n            \"value\": [\n              \"value::100\"\n            ],\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [\n                \"value::100\"\n              ]\n            },\n            \"queryType\": 1,\n            \"resourceType\": \"microsoft.resourcegraph/resources\"\n          },\n          {\n            \"id\": \"5084e141-6c56-4d7f-bd8a-09f7ef9af1bc\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"Resource\",\n            \"label\": \"Azure Firewalls\",\n            \"type\": 5,\n            \"isRequired\": true,\n            \"multiSelect\": true,\n            \"quote\": \"'\",\n            \"delimiter\": \",\",\n            \"query\": \"where type =~ 'Microsoft.Network/azureFirewalls'\\r\\n| project id, name\",\n            \"crossComponentResources\": [\n              \"value::selected\"\n            ],\n            \"value\": [\n              \"value::all\"\n            ],\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [\n                \"value::all\"\n              ]\n            },\n            \"queryType\": 1,\n            \"resourceType\": \"microsoft.resourcegraph/resources\"\n          },\n          {\n            \"id\": \"13d9f6e9-9290-4b1e-b0d0-a7c0ebdc1aed\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"Help\",\n            \"label\": \"Show Help\",\n            \"type\": 10,\n            \"description\": \"This will show some help information to help you understand the page you are on\",\n            \"isRequired\": true,\n            \"typeSettings\": {\n              \"additionalResourceOptions\": []\n            },\n            \"jsonData\": \"[\\r\\n { \\\"value\\\": \\\"Yes\\\", \\\"label\\\": \\\"Yes\\\"},\\r\\n {\\\"value\\\": \\\"No\\\", \\\"label\\\": \\\"No\\\", \\\"selected\\\":true },\\r\\n { \\\"value\\\": \\\"Change Log\\\", \\\"label\\\": \\\"Change Log\\\"}\\r\\n]\"\n          },\n          {\n            \"id\": \"68f2cb32-03d4-4307-8eb5-1f66dfc09a85\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"FirewallResources\",\n            \"label\": \"Show Resources\",\n            \"type\": 2,\n            \"description\": \"The is only used on the Overview page.\",\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [],\n              \"showDefault\": false\n            },\n            \"jsonData\": \"[\\r\\n { \\\"value\\\": \\\"Yes\\\", \\\"label\\\": \\\"Yes\\\", \\\"selected\\\":true},\\r\\n {\\\"value\\\": \\\"No\\\", \\\"label\\\": \\\"No\\\" }\\r\\n]\",\n            \"value\": \"No\"\n          },\n          {\n            \"id\": \"53aa8daf-29de-40a1-9147-c0970e32fac4\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"GeoLocation\",\n            \"label\": \"GeoLocationCSV\",\n            \"type\": 2,\n            \"description\": \"Supplied as a value for GeoLocation lookup on queries: Read more here - https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin#ipv4-lookup---matching-rows-only\",\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [],\n              \"showDefault\": false\n            },\n            \"jsonData\": \"\\r\\n[\\r\\n{\\r\\n\\\"value\\\": \\\"https://raw.githubusercontent.com/datasets/geoip2-ipv4/master/data/geoip2-ipv4.csv\\\", \\\"label\\\": \\\"GeoLocationDefault\\\", \\\"selected\\\": \\\"true\\\"  \\r\\n}\\r\\n]\\r\\n\\r\\n\"\n          }\n        ],\n        \"style\": \"pills\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\"\n      },\n      \"name\": \"parameters - 1\"\n    },\n    {\n      \"type\": 12,\n      \"content\": {\n        \"version\": \"NotebookGroup/1.0\",\n        \"groupType\": \"editable\",\n        \"items\": [\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Overview - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|v1.0\\t|Initial Version|\\r\\n|V1.1.0\\t|Split up the data sets, Overview, Application Rule Logs, Network Rule Logs, DNS Proxy Logs. Added in Investigation visibility with Azure Firewall + Azure Graph. Added in visibility to multiple workspaces and filtering to Firewall resources. |\\r\\n|V1.2.0 | Added new filteres, \\\"Show Help\\\", \\\"Show Resources\\\", \\\"GeoLocationCSV\\\", Updated query parsing to the Overview queries. Improved overall performance in large data scale performance with new parsing requirements.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFOverview\"\n              }\n            ],\n            \"name\": \"text - 40\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall - App Rules - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|v1.0.0 | Initial Version\\r\\n|V1.2.0 | Added in new Querires for Azure Firewall features, parsing is now used differently. Added Web Category.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFAppRule\"\n              },\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              }\n            ],\n            \"name\": \"text - 63\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall - Network Rule - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.0.0 | Initial Version\\r\\n|V1.2.0 | Added in new Querires for Azure Firewall features, parsing is now used differently. Added in GeoLocation queries, updated main query to use GeoLocation data.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFNetRule\"\n              }\n            ],\n            \"name\": \"text - 64\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall - DNSProxy - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.1.0 | Initial Version\\r\\n|V1.2.0 | No modifications were made\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFDNSProxy\"\n              }\n            ],\n            \"name\": \"text - 65\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall Prem - IDPS - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.2.0 | Initial Version\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFIDSIPS\"\n              },\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              }\n            ],\n            \"name\": \"text - 66\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall Prem - IDPS - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.0.0 | Initial Version\\r\\n|V1.2.0 | Added IDPS Logs to the investgation experience, Added in GeoLocation infromation. Updated the KQL logic to be faster for large data volume.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFInvestigate\"\n              }\n            ],\n            \"name\": \"text - 67\"\n          }\n        ]\n      },\n      \"name\": \"ChangeLogGroup\"\n    },\n    {\n      \"type\": 12,\n      \"content\": {\n        \"version\": \"NotebookGroup/1.0\",\n        \"groupType\": \"editable\",\n        \"items\": [\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Overview page has the following features.\\r\\n\\r\\n- All Firewall Data Log Analytics Volume (Total)\\r\\n- All Firewall Data Log Analytics Volume (Per Firewall)\\r\\n- All Firewall Event Categories\\r\\n- All Firewall Event Categories over time\\r\\n- Azure Firewall Metrics data\\r\\n  - Traffic\\r\\n  - SNAT Port\\r\\n  - Network Rule Count\\r\\n  - Application Rule Count\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nStart by looking at the workbook filters, examples would be TimeRange, Workspace, Azure Firewall. Note these are filtered based on your azure portal settings of \\\"Default subscription filter\\\". Selecting more resources or more workspaces has an impact on speed of results depending on the data volume of your workspaces. Why TimeRange is a large factor when looking at looking at extremely large data sets of volume(example over 1 Billion logs) so multiple filters have been offered to finetune the results without having to build your own queries.\\r\\n\\r\\nIf this is your first time looking at this workbook, my suggestion is to use 14 days(this is the fastest cached data in Log Analytics), a single workspace, a single firewall, if you're wanting to see the results of one firewall. Best to know where your firewall is sending it's logs too to confirm you didn't select a workspace that doesn't have that firewalls data. How to check, go to the Azure Firewall, click Diagnostic settings, see what Log Analytics workspace is currently configured.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, and sending to workspace your azure ad user had RBAC permissions to. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\\r\\n- Azure Metrics requires resource permissions of the Firewall you're wanting data on. \"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFOverview\"\n            },\n            \"name\": \"text - 59\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Application rule log statistics page has the following features.\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- Unique Source IP Address*\\r\\n- Application Rule Usage\\r\\n- Denied/Allowed FQDN over time\\r\\n- Denied/Allowed FQDN count\\r\\n- Denied/Allowed Web Categories over time\\r\\n- Denied/Allowed Web Categories count\\r\\n- Pre-parsed Azure Firewall Application Rule Logs with a search feature.\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll see the unique source of IP addresses based on the global filters you have in place, this is showing only the top 10 IPAddresses, you can modify the KQL query to show more if needed if you click the \\\"Edit\\\" button. We added in the logic to show the volume over time, under the IP address/count information. If you click on the highest count (my example is 415,786 count, 10.0.24.4 ipaddress) it'll filter everything on the Application rule log statistic page to this IP address specifically. (Only Exception is the Rule Usage). Note this could cause other data sets to become blank as a result, sometimes you only have Approved or Denied access based on the configuration of the firewall.\\r\\n\\r\\nIf you're wanting to search for something a little more specific other than IPAddress filter, you can use the \\\"Search\\\" bar under the \\\"All IP Address events\\\" query to create a custom filter to the parsed logs. Example could be an FQDN \\\"wdcp.microsoft.com\\\" to pull up those logs specifically with that name in it.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, specifically requires Application Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFAppRule\"\n            },\n            \"name\": \"text - 1\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Network rule log statistics page has the following features.\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- Rule Actions*\\r\\n\\r\\n- Target Ports*\\r\\n\\r\\n- DNAT Actions*\\r\\n\\r\\n- GeoLocation\\r\\n\\r\\n- Actions over time(Time scrub enabled)\\r\\n\\r\\n- Pre-parsed Network Rule data with GeoLocation added\\r\\n\\r\\n  *Note: GeoLocation is using an public file, you have to modify your GeoLocation Global Filter tab to add your own data.*\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll get see pie charts on the screen, each of these can be clicked on to filter the data below. You'll have to click on the color of the wheel in order to use the filter feature. Downfall of this, if it's an extremely small data set, its hard to click on that color due to the challenge of even seeing it. These filters are a top down approach, meaning what clicked on top, filters below. If you'd like, feel free to test this out now. Under \\\"Target Ports, filterable by Target Port\\\" find port 53 ( pretty common port). Click on the wheel with the color that's associated to port 53. You'll see everything change below only showing data that has port 53 associated to it. If you'd like to remove this filter you have a few options. \\r\\n\\r\\n1. Click the \\\"Go back\\\" at the top right of the wheel\\r\\n2. Refresh the whole workbook\\r\\n3. Refresh the whole browser window\\r\\n\\r\\n*A note about the new feature added \\\"GeoLocation\\\", this is public data shared through the Log Analytics developer team to show the feature to associate IP addresses with a GeoLocation file. This had been added to the workbook to show you what's possible, it's encouraged for you to use your own data which could be further enriched. If you had Lat/Long data, you could even add in a map feature into this workbook to show you where the traffic is mostly.*\\r\\n\\r\\nMid-way down the page you'll see the \\\"Actions, by time\\\", if we saw a large spike and wanted to lower the window of traffic, select on the left side(where you're wanting to start, before the event occurred) drag, and move it over to the right. Example March 24th - March 27th. When i was looking over 14 days of time. This will filter the \\\"All IP Addresses events\\\" down to this new time window.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, specifically requires Network Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFNetRule\"\n            },\n            \"name\": \"text - 2\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - DNS Proxy page has the following features.\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- DNS Traffic by count (Time scrub enabled)\\r\\n- DNS Proxy by Request Name, by Count*\\r\\n- DNS Proxy Request by ClientIP, by Count*\\r\\n- Count over time of Proxy Requests by ClientIP\\r\\n- Pre-parsed DNS Proxy data\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll see the DNS Proxy traffic count, this is a great way to start to narrow down the proxy traffic over a period of time. Example we're looking at the 14 day window, but there was an odd spike or dip in proxy traffic, why? use the time scrub feature to select on the left side(where you're wanting to start, before the event occurred) drag, and move it over to the right. Example March 24th - March 27th.\\r\\n\\r\\nAfter adding our second time filter to the page, move forward to looking at the DNS requests. You might see a large spike in a specific DNS request, could be something you're not even familiar with. Using an example, i see a DNS request for \\\"md-fpp31tsvhx4s.blob.core.windows.net\\\" for 300K times in my current filters. By selecting this Request Name, it'll filter on the right showing me which clients are requesting this DNS traffic. Which after clicking on my request, i see 2 different IP addresses now. Oddly though, one is much smaller than the other. Lets select that Ip address to add an additional filter to the logs. Now we can see the logs related to that machine client ip, specifically around that DNS request name. This might help you narrow down if there are any actions that need to be taken on your firewall.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, specifically requires DNS Proxy Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFDNSProxy\"\n            },\n            \"name\": \"text - 3\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall Premium- IDPS page has the following features.\\r\\n\\r\\n*As noted on the title, these logs are only created on the Azure Firewall Premium sku*\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- IDPS Actions Count*\\r\\n- IDPS Protocol Count*\\r\\n- IDPS SignatureID Count*\\r\\n- IDPS SourceIP Count*\\r\\n- Azure Firewall IDPS count over time (Time Scrub Enabled)\\r\\n- Azure Firewall IDPS logs with GeoLocation\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll see Pie Charts offering multiple filtering options to your IDPS logs, showing Alerts, Protocols, SignatureIDs and Sources of the logs. Lets start by selecting an ClientIP address(SourceIP) under the \\\"IDPS SourceIP Count, filterable by SourceIP\\\". I clicked on the largest one, you might of noticed most of the traffic under the IDPS logs are alerts, Mostly TCP to this ClientIP address and there could be some specific SignatureID's are being triggered. Looking further into the logs, you should expand the Source IP to see the different IP Addresses this client has talked to within the past 14 days(current global filter). The majority of the traffic is going to XX.XX.XX.XX, which is something to remember.\\r\\n\\r\\nGoing further down, you might noticed a spike in traffic, lets use the time scrub feature to narrow down the time window to that spike. Start by selecting on the left side(where you're wanting to start time to be, before the event occurred) drag, and move it over to the right(the end time). Example March 24th - March 27th.\\r\\n\\r\\n*Note; The GeoLocation + Data can take a long time to refresh.*\\r\\n\\r\\nYou should now be able to see data we filtered down to, with it based on  GeoLocation/Signature ID's\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Premium Diagnostic settings enabled, specifically requires IDPS Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFIDSIPS\"\n            },\n            \"name\": \"text - 4\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Investigation page has the following features.\\r\\n\\r\\n*Note, this is a combination of all the logs within the Azure Firewall workbook. Some logs are from the Azure Firewall Premium sku*\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- IFQDN Traffic by Count*\\r\\n- SourceIP Address*\\r\\n- SourceIPAddress Resource Lookup (Azure Resource Graph)\\r\\n- FQDN Lookup logs\\r\\n- Azure Firewall Threat Intel\\r\\n- Azure Firewall Premium with GeoLocation- IDPS\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nThis is the page where we narrow down everything, You should considering adding your own twist based on your own investigations to this page. Leverage this as a template of where to start and how to move forward.\\r\\n\\r\\nStarting out we see FQDN and IP Address are the page's first filters offered.\\r\\n\\r\\nLooking at source count, you might see something that has a large count. Like the following example \\\"watson.telemetry.microsoft.com\\\".  Click on the \\\"Deny\\\"/'Count' line to use the filter feature for the whole page.\\r\\n\\r\\nThis narrowed down our large list of client (SourceIP) address to a smaller list, which could be used to find out which client is being the loudest or maybe something that sneaked in that wasn't suppose to be talking to this FQDN in the first place. Click on an IPAddress(SourceIP). \\r\\n\\r\\nAzure Resource Graph is then used to find which machine this is, which Azure Resource NIC, Public IP address, Subnet, etc.\\r\\n\\r\\nUse the other data sets to help see the logs you've filtered based on the FQDN + IPAddress above. \\r\\n\\r\\n*Note, FQDN isn't required for the Azure Resource Graph lookup.*\\r\\n\\r\\nSome log sources might be blank, that's perfectly acceptable in this scenario as we're filtering down to alerts and events.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- All Azure Firewall Diagnostic Logs\\r\\n- RBAC Permissions for Azure Resource Graph lookup.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFInvestigate\"\n            },\n            \"name\": \"text - 5\"\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"Help\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"Yes\"\n      },\n      \"name\": \"Get-Help\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall - overview\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"name\": \"Main title\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"where type =~ 'Microsoft.Network/azureFirewalls'\\r\\n| extend Tier = trim(' ', tostring(properties.sku.tier))\\r\\n| extend Status = trim(' ', tostring(iif(isempty(properties.ipConfigurations.[0].properties.provisioningState),properties.provisioningState,properties.ipConfigurations.[0].properties.provisioningState)))\\r\\n| extend Premium = iff(Tier == \\\"Premium\\\", \\\"Yes\\\", \\\"No\\\")\\r\\n| extend Standard = iff(Tier == \\\"Standard\\\", \\\"Yes\\\", \\\"No\\\")\\r\\n| extend ProvisionedState = iff(Status == \\\"Succeeded\\\", \\\"Running\\\", \\\"Not Running\\\")\\r\\n| extend Policy = trim(' ', tostring(properties.firewallPolicy.id))\\r\\n| extend ApplicationRule1 = trim(' ', tostring(properties.applicationRuleCollections.[0].id))\\r\\n| extend ApplicationRule2 = trim(' ', tostring(properties.applicationRuleCollections.[0].id))\\r\\n| extend ApplicationRule3 = iff(ApplicationRule1 == \\\"\\\", \\\"N/A\\\", \\\"\\\")\\r\\n| extend ApplicationRule4 = iff(ApplicationRule2 contains \\\"subscription\\\", \\\"Configured\\\", \\\"\\\")\\r\\n| extend ApplicationRuleClassic = strcat(ApplicationRule3, ApplicationRule4)\\r\\n| extend NetworkRule1 = trim(' ', tostring(properties.networkRuleCollections.[0].id))\\r\\n| extend NetworkRule2 = trim(' ', tostring(properties.networkRuleCollections.[0].id))\\r\\n| extend NetworkRule3 = iff(NetworkRule1 == \\\"\\\", \\\"N/A\\\", \\\"\\\")\\r\\n| extend NetworkRule4 = iff(NetworkRule1 contains \\\"subscription\\\", \\\"Configured\\\", \\\"\\\")\\r\\n| extend NetworkRuleClassic = strcat(NetworkRule3, NetworkRule4)\\r\\n| project Firewall=id, Premium, Standard, ProvisionedState,FirewallPolicy= Policy, ApplicationRuleClassic, NetworkRuleClassic, location, resourceGroup, subscriptionId, tenantId\",\n        \"size\": 1,\n        \"title\": \"Azure Firewall Resource List\",\n        \"queryType\": 1,\n        \"resourceType\": \"microsoft.resourcegraph/resources\",\n        \"crossComponentResources\": [\n          \"value::selected\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"Premium\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Yes\",\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"No\",\n                    \"representation\": \"grayBlue\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": null,\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"Standard\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Yes\",\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"No\",\n                    \"representation\": \"grayBlue\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": null,\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"ProvisionedState\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Running\",\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Not Running\",\n                    \"representation\": \"grayBlue\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"ApplicationRuleClassic\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"N/A\",\n                    \"representation\": \"gray\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"NetworkRuleClassic\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"N/A\",\n                    \"representation\": \"gray\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"FirewallResources\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"Yes\"\n      },\n      \"customWidth\": \"100\",\n      \"name\": \"query - 60\",\n      \"styleSettings\": {\n        \"margin\": \"0\"\n      }\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics \\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\" \\r\\n| summarize Volume=count() by bin(TimeGenerated, {TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Events, by time: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 16\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\" \\r\\n| summarize Volume=count() by Resource, bin(TimeGenerated, {TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Events, by firewall over time: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportParameterName\": \"TopEvent\",\n        \"exportDefaultValue\": \"{\\\"Resource\\\":\\\"*\\\",\\\"ResourceGroup\\\":\\\"*\\\"}\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"linechart\",\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"Resource\",\n            \"formatter\": 1\n          },\n          \"leftContent\": {\n            \"columnMatch\": \"amount\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"palette\": \"auto\"\n            },\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          },\n          \"showBorder\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"Firewall per Resource Group\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| project Category, ResourceType, OperationName);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by OperationName\\r\\n    | project Category=OperationName, Volume\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | summarize Volume=count() by OperationName\\r\\n    | project Category=OperationName, Volume\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by Category\\r\\n)\\r\\n| sort by Volume desc\",\n        \"size\": 0,\n        \"title\": \"Events, by category: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"Category\",\n        \"exportParameterName\": \"SelectedCategory\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\",\n        \"tileSettings\": {\n          \"showBorder\": false,\n          \"titleContent\": {\n            \"columnMatch\": \"Category\",\n            \"formatter\": 1\n          },\n          \"leftContent\": {\n            \"columnMatch\": \"Volume\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"palette\": \"auto\"\n            },\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"Events by category\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| project Category, ResourceType, OperationName, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by OperationName, bin(TimeGenerated, {TimeRange:grain})\\r\\n    | project Category=OperationName, Volume, TimeGenerated\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | summarize Volume=count() by OperationName, bin(TimeGenerated, {TimeRange:grain})\\r\\n    | project Category=OperationName, Volume, TimeGenerated\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by Category, bin(TimeGenerated, {TimeRange:grain})\\r\\n)\\r\\n| sort by Volume desc\",\n        \"size\": 0,\n        \"title\": \"Events categories, by time: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"Events categories by time\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"### Firewall Metrics\\r\\nThe data below dosen't read from the Log Analytics workpsace, it's reading directly from the resources which requires resource visibility. \\r\\nClick [here for more information on Azure Metrics](https://docs.microsoft.com/en-us/azure/azure-monitor/platform/data-platform-metrics)\\r\\n\",\n        \"style\": \"info\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"name\": \"text - 39\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--Throughput\",\n            \"aggregation\": 4,\n            \"splitBy\": null,\n            \"columnName\": \"All Firewall Throughput Average\"\n          }\n        ],\n        \"title\": \"Average Throughput of Firewall Traffic\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--SNATPortUtilization\",\n            \"aggregation\": 4,\n            \"splitBy\": null\n          }\n        ],\n        \"title\": \"SNAT Port Utilization\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25 - Copy\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--NetworkRuleHit\",\n            \"aggregation\": 1,\n            \"splitBy\": null\n          }\n        ],\n        \"title\": \"Network Rule Hitcount (SUM)\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25 - Copy - Copy\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--ApplicationRuleHit\",\n            \"aggregation\": 1,\n            \"splitBy\": null\n          }\n        ],\n        \"title\": \"Application Rule Hitcount (SUM)\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25 - Copy - Copy - Copy\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"---\\r\\n# Azure Firewall - Application rule log statistics\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"name\": \"text - 14\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize Amount=count() by SourceIP\\r\\n| join kind = inner\\r\\n( union (\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n    | make-series Trend = count() default = 0 on bin(TimeGenerated, 1d) from {TimeRange:start} to {TimeRange:end} step {TimeRange:grain} by SourceIP) on SourceIP\\r\\n    | project-away SourceIP1, TimeGenerated\\r\\n    | top 10 by Amount\\r\\n    | sort by Amount\\r\\n\",\n        \"size\": 1,\n        \"title\": \"Unique Source IP addresses, filterable by SelectedSourceIP: Query Time ({$queryTime})\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"SourceIP\",\n        \"exportParameterName\": \"SelectedSourceIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"tiles\",\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"Amount\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"showIcon\": true\n            }\n          },\n          \"subtitleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 1,\n            \"formatOptions\": {\n              \"showIcon\": true\n            }\n          },\n          \"secondaryContent\": {\n            \"columnMatch\": \"Trend\",\n            \"formatter\": 9,\n            \"formatOptions\": {\n              \"showIcon\": true\n            }\n          },\n          \"showBorder\": false\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 4\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where RuleCollection matches regex \\\".*\\\" \\r\\n| summarize Count = count(), last_log = datetime_diff(\\\"second\\\", now(), max(TimeGenerated)) by RuleCollection, Rule, WebCategory\",\n        \"size\": 1,\n        \"title\": \"Application Rule Usage : Query Time ({$queryTime})\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"Count\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            },\n            {\n              \"columnMatch\": \"last_log\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"greenRed\"\n              },\n              \"numberFormat\": {\n                \"unit\": 24,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false\n                }\n              }\n            }\n          ],\n          \"sortBy\": [\n            {\n              \"itemKey\": \"$gen_heatmap_last_log_4\",\n              \"sortOrder\": 1\n            }\n          ]\n        },\n        \"sortBy\": [\n          {\n            \"itemKey\": \"$gen_heatmap_last_log_4\",\n            \"sortOrder\": 1\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 36\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize count() by FQDN, bin(TimeGenerated,{TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Denied FQDN's over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"tileSettings\": {\n          \"showBorder\": false\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 3\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize count() by FQDN\\r\\n| sort by count_ desc\\r\\n\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Denied FQDN's by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"sortBy\": [\n            {\n              \"itemKey\": \"$gen_heatmap_count__1\",\n              \"sortOrder\": 2\n            }\n          ]\n        },\n        \"sortBy\": [\n          {\n            \"itemKey\": \"$gen_heatmap_count__1\",\n            \"sortOrder\": 2\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 7\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n    | where Resource in~ (split(\\\"AzureFirewall_hub1, firewall-lat, FW-Test-DNATPIP, lg-NS-FW-netsec, SOC-NS-FW\\\", \\\", \\\"))\\r\\n    | project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n    | where msg_s has \\\" Reason:\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n        and msg_s !has \\\"No rule matched\\\"\\r\\n        and msg_s has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | where msg_s has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    ) \\r\\n| where Action == \\\"Allow\\\"\\r\\n| summarize count() by FQDN, bin(TimeGenerated, 6h)\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Allowed FQDN's over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\" and msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"Allow\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"   \\r\\n| summarize count() by FQDN\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Allowed FQDN's by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        },\n        \"sortBy\": []\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 2\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n    (\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n    | where Resource in~ (split(\\\"AzureFirewall_hub1, firewall-lat, FW-Test-DNATPIP, lg-NS-FW-netsec, SOC-NS-FW\\\", \\\", \\\"))\\r\\n    | project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" URL \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s has \\\". Url\\\"\\r\\n        and msg_s has \\\". No rule matched\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s has \\\". No rule matched\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n    | where msg_s has \\\" Reason:\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n        and msg_s !has \\\"No rule matched\\\"\\r\\n        and msg_s !has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | where msg_s has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    )\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Allow\\\"\\r\\n| where '*' == SourceIP or '*' == \\\"*\\\"  \\r\\n| summarize count() by WebCategory, bin(TimeGenerated, 6hrs)\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Allowed Web Categories over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"chartSettings\": {\n          \"showLegend\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url: \\\" Url \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Allow\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by WebCategory\\r\\n| sort by count_ desc\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Allowed Web Categories by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        },\n        \"chartSettings\": {\n          \"showLegend\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\" . Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize count() by WebCategory, bin(TimeGenerated,{TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Denied Web Categories over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"chartSettings\": {\n          \"showLegend\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection:\\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by WebCategory\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Denied Web Catgories by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        },\n        \"sortBy\": []\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 2 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize by TimeGenerated, FQDN, Protocol, Action, SourceIP, SourcePort, DestinationPort , ResourceId , ResourceGroup , RuleCollection, Rule, WebCategory, SubscriptionId\\r\\n\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"All IP addresses events: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"name\": \"query - 9\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"---\\r\\n# Azure Firewall - Network rule log statistics\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"name\": \"text - 14\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize count() by Action\",\n        \"size\": 3,\n        \"title\": \"Rule actions, filterable by RuleAction\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"RuleAction\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 7\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize Count=count() by DestinationPort\",\n        \"size\": 3,\n        \"title\": \"Target ports, filterable by TargetPort\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"DestinationPort\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 10\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"DNAT'ed\\\"\\r\\n| summarize Amount=count() by NatDestination\\r\\n\",\n        \"size\": 3,\n        \"title\": \"DNAT actions, filterable by NatDestination\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"NatDestination\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 12\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nlet materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| project DestinationIP\\r\\n| evaluate ipv4_lookup (geoData, DestinationIP,  network, false)\\r\\n| summarize count() by continent_name\\r\\n\",\n        \"size\": 2,\n        \"title\": \"GeoLocation\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showRefreshButton\": true,\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"netcontinent\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 61\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize amount = count() by Action , SourceIP\\r\\n| sort by amount desc\",\n        \"size\": 0,\n        \"title\": \"Rule actions, by IP addresses\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"Action\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"amount\",\n              \"formatter\": 3,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            },\n            {\n              \"columnMatch\": \"eventCount\",\n              \"formatter\": 3,\n              \"formatOptions\": {\n                \"min\": 0,\n                \"palette\": \"blue\"\n              }\n            }\n          ],\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"Action\"\n            ],\n            \"expandTopLevel\": false,\n            \"finalBy\": \"Action\"\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 8\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"   \\r\\n| summarize AMOUNT=count() by DestinationPort, SourceIP\\r\\n| sort by AMOUNT desc\",\n        \"size\": 0,\n        \"title\": \"Target ports, by Source IP: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"DestinationPort\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"AMOUNT\",\n              \"formatter\": 3,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"DestinationPort\"\n            ],\n            \"expandTopLevel\": false\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 11\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"DNAT'ed\\\"\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize Amount=count() by NatDestination, bin(TimeGenerated, {TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"DNAT'ed over time\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 13\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nlet materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| project DestinationIP, TimeGenerated\\r\\n| evaluate ipv4_lookup (geoData, DestinationIP,  network, false)\\r\\n| summarize Amount=count() by continent_name, bin(TimeGenerated, {TimeRange:grain})\\r\\n\\r\\n\",\n        \"size\": 0,\n        \"title\": \"GeoLocation over time\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 13 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize count() by Action, bin(TimeGenerated, {TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Actions, by time\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeBrushParameterName\": \"ActionsByTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"name\": \"query - 15\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nlet materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize by TimeGenerated,Protocol, ICMPType, Action,SourceIP, SourcePort, DestinationIP , DestinationPort , NatDestination, ResourceId , ResourceGroup , SubscriptionId\\r\\n| evaluate ipv4_lookup (geoData, DestinationIP,  network, false)\\r\\n\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"All IP addresses events with GeoLocation: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"ActionsByTimeBrush\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"name\": \"query - 22\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall -DNS Proxy\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"name\": \"text - 41\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project Resource, TimeGenerated\\r\\n| summarize count() by Resource, bin(TimeGenerated,{TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"DNSProxy Traffic by count per Firewall: Query Time({$queryTime}) \",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeBrushParameterName\": \"DNSTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"linechart\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"name\": \"query - 30 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| summarize count() by Request_Name\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"title\": \"DNSProxy count by Request Name, filterable by Request_Name\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"exportFieldName\": \"Request_Name\",\n        \"exportParameterName\": \"DNSRequestName\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 30 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| where '{DNSRequestName}' == Request_Name or '{DNSRequestName}' == \\\"*\\\"\\r\\n| summarize count() by ClientIP\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"title\": \"DNSProxy Request count by ClientIP, filterable by ClientIP\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"exportFieldName\": \"ClientIP\",\n        \"exportParameterName\": \"DNSClientIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 30 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| where '{DNSClientIP}' == ClientIP or '{DNSClientIP}' == \\\"*\\\"\\r\\n| where '{DNSRequestName}' == Request_Name or '{DNSRequestName}' == \\\"*\\\"\\r\\n| summarize count() by ClientIP, bin(TimeGenerated, {TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"DNS Proxy Request over time by ClientIP\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"linechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 30 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| where '{DNSClientIP}' == ClientIP or '{DNSClientIP}' == \\\"*\\\"\\r\\n| where '{DNSRequestName}' == Request_Name or '{DNSRequestName}' == \\\"*\\\"\\r\\n| summarize by TimeGenerated, ResourceId, ClientIP, ClientPort, QueryID, Request_Type, Request_Class, Request_Name, Request_Protocol, Request_Size, EDNSO_DO, EDNS0_Buffersize, Responce_Code, Responce_Flags, Responce_Size, Response_Duration, SubscriptionId\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"DNS Proxy Information: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"name\": \"query - 30\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall Premium - IDPS\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"name\": \"text - 42\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| summarize count() by Action\",\n        \"size\": 2,\n        \"title\": \"IDPS Actions Count, filterable by Action\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSAction\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 44\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| summarize count() by Protocol\",\n        \"size\": 2,\n        \"title\": \"IDPS Protocol Count, filterable by Protocol\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSProtocol\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| summarize count() by SignatureID\\r\\n\",\n        \"size\": 2,\n        \"title\": \"IDPS SignatureID Count, filterable by SignatureID\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSSignatureID\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| summarize count() by SourceIP, DestIP\\r\\n| sort by count_ desc\",\n        \"size\": 2,\n        \"title\": \"IDPS SourceIP Count, filterable by SourceIP\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSSourceIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SourceIP\",\n              \"formatter\": 5\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"SourceIP\"\n            ],\n            \"expandTopLevel\": false\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n//| project-away Category, ResourceId, msg_s, SubscriptionId, ResourceProvider, ResourceType, OperationName, Type\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by Action\",\n        \"size\": 0,\n        \"title\": \"Filtered IDPS Actions by Count\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 44 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n//| project-away Category, ResourceId, msg_s, SubscriptionId, ResourceProvider, ResourceType, OperationName, Type\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by Protocol\",\n        \"size\": 0,\n        \"title\": \"Filtered IDPS Protocols by Count\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n//| project-away Category, ResourceId, msg_s, SubscriptionId, ResourceProvider, ResourceType, OperationName, Type\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by SignatureID\",\n        \"size\": 0,\n        \"title\": \"Filtered IDPS SignatureIDs by Count\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize Volume=count() by DestIP, SourceIP\\r\\n| sort by Volume desc\",\n        \"size\": 0,\n        \"title\": \"Filtered SourceIP, filterable by DestIP\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"DestIP\",\n        \"exportParameterName\": \"IDSIPSDestIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SourceIP\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"Volume\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"SourceIP\"\n            ],\n            \"expandTopLevel\": false\n          }\n        },\n        \"tileSettings\": {\n          \"showBorder\": false,\n          \"titleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 1\n          },\n          \"leftContent\": {\n            \"columnMatch\": \"Volume\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"palette\": \"auto\"\n            },\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          }\n        },\n        \"graphSettings\": {\n          \"type\": 0,\n          \"topContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 1\n          },\n          \"centerContent\": {\n            \"columnMatch\": \"Volume\",\n            \"formatter\": 1,\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message, Resource\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| where '{IDSIPSDestIP}' == DestIP or '{IDSIPSDestIP}' == \\\"*\\\"\\r\\n| summarize count() by Resource, bin(TimeGenerated,{TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Azure Firewall IDPS count over time\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeBrushParameterName\": \"AFIDSIPSBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SourceIP\",\n              \"formatter\": 5\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"SourceIP\"\n            ],\n            \"expandTopLevel\": false\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"name\": \"query - 45\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, SignatureID, Message, Priority, Classification, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, Resource\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| where '{IDSIPSDestIP}' == DestIP or '{IDSIPSDestIP}' == \\\"*\\\"\\r\\n| evaluate ipv4_lookup (geoData, DestIP,  network, false)\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Azure Firewall IDPS logs with GeoLocation: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"AFIDSIPSBrush\",\n        \"timeBrushParameterName\": \"AFIDSIPSBrush\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"Message\",\n              \"country_name\"\n            ],\n            \"expandTopLevel\": true\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"name\": \"query - 45 - Copy\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall - Investigation\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"name\": \"text - 43\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize count() by FQDN, Action\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"title\": \"FQDN Traffic by Count, filterable by FQDN: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"FQDN\",\n        \"exportParameterName\": \"FullName\",\n        \"exportDefaultValue\": \"*\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"FQDN\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"minimumIntegerDigits\": 1,\n                  \"maximumFractionDigits\": 1,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"FQDN\"\n            ],\n            \"expandTopLevel\": true\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"35\",\n      \"name\": \"query - 29 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where SourceIP \u003c\u003e \\\"\\\"\\r\\n| where FQDN == \\\"{FullName:label}\\\" or '{FullName}' == \\\"*\\\"\\r\\n| summarize count() by SourceIP, SubscriptionId\\r\\n| sort by count_\",\n        \"size\": 0,\n        \"title\": \"SourceIP Address, filterable: Query Time({$queryTime})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportedParameters\": [\n          {\n            \"fieldName\": \"SourceIP\",\n            \"parameterName\": \"InvestigateIP\",\n            \"parameterType\": 1,\n            \"defaultValue\": \"privateIPAddress\"\n          },\n          {\n            \"fieldName\": \"SourceIP\",\n            \"parameterName\": \"InvestigateIPWC\",\n            \"parameterType\": 1,\n            \"defaultValue\": \"*\"\n          },\n          {\n            \"fieldName\": \"SubscriptionId\",\n            \"parameterName\": \"SelectedSubscriptionId\",\n            \"parameterType\": 1,\n            \"defaultValue\": \"-\"\n          }\n        ],\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SubscriptionId\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"filter\": true\n        },\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 4,\n            \"formatOptions\": {\n              \"palette\": \"orange\"\n            },\n            \"numberFormat\": {\n              \"unit\": 0,\n              \"options\": {\n                \"style\": \"decimal\",\n                \"useGrouping\": false\n              }\n            }\n          },\n          \"showBorder\": true,\n          \"size\": \"auto\"\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"15\",\n      \"name\": \"query - 33\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"Resources\\r\\n| where type =~ 'microsoft.network/networkinterfaces'\\r\\n| where properties contains \\\"{InvestigateIP}\\\"\\r\\n| extend NSG = properties['networkSecurityGroup']['id']\\r\\n| parse NSG with \\\"/subscriptions/\\\" NetworkSecurityGroup_Sub \\\"/resourceGroups/\\\" NetworkSecurityGroup_rg \\\"/providers/Microsoft.Network/networkSecurityGroups/\\\" NetworkSecurityGroup_Name\\r\\n| project id, PrivateIPAddress = tostring(properties['ipConfigurations'][0]['properties']['privateIPAddress']),  PublicIPAddress = tostring(properties['ipConfigurations'][0]['properties']['publicIPAddress']['id']), VirtualMachine = tostring(properties['virtualMachine']['id']), subnet = tostring(properties['ipConfigurations'][0]['properties']['subnet']['id']), NetworkSecurityGroup = NetworkSecurityGroup_Name, properties, subscriptionId, tenantId\",\n        \"size\": 0,\n        \"title\": \"SourceIPAddress Resource Lookup: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"exportFieldName\": \"id\",\n        \"exportParameterName\": \"Testid\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 1,\n        \"resourceType\": \"microsoft.resourcegraph/resources\",\n        \"crossComponentResources\": [\n          \"value::selected\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"properties\",\n              \"formatter\": 5\n            }\n          ],\n          \"filter\": true\n        },\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 4,\n            \"formatOptions\": {\n              \"palette\": \"orange\"\n            },\n            \"numberFormat\": {\n              \"unit\": 0,\n              \"options\": {\n                \"style\": \"decimal\",\n                \"useGrouping\": false\n              }\n            }\n          },\n          \"showBorder\": true,\n          \"size\": \"auto\"\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 33 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\" and msg_s !has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where SourceIP == \\\"{InvestigateIPWC:label}\\\" or '{InvestigateIPWC}' == \\\"*\\\"\\r\\n| where FQDN == \\\"{FullName:label}\\\" or '{FullName}' == \\\"*\\\"\\r\\n| summarize by TimeGenerated, FQDN, Protocol, Action, SourceIP, SourcePort, DestinationPort , ResourceId , ResourceGroup , RuleCollection, Rule, WebCategory, SubscriptionId\\r\\n\\r\\n\\r\\n\",\n        \"size\": 0,\n        \"title\": \"FQDN Lookup logs: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"100\",\n      \"name\": \"query - 33\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName == \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where msg_s contains \\\"{InvestigateIPWC:label}\\\" or '{InvestigateIPWC}' == \\\"*\\\"\\r\\n| where msg_s \u003c\u003e \\\" request from  to . Action: . ThreatIntel: \\\"\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url: \\\" Url \\\". Action: \\\" Action \\\". ThreatIntel: \\\" ThreatIntelMsg\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". ThreatIntel: \\\" ThreatIntelMsg\\r\\n)\\r\\n| summarize by TimeGenerated, Protocol, SourceIP, SourcePort, FQDN, DestinationPort, Url, Action, ThreatIntelMsg\",\n        \"size\": 0,\n        \"title\": \"Azure Firewall Threat Intel: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There is no Azure Firewall Threat Intel for your filtered results\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"sortBy\": [\n            {\n              \"itemKey\": \"TimeGenerated\",\n              \"sortOrder\": 1\n            }\n          ]\n        },\n        \"sortBy\": [\n          {\n            \"itemKey\": \"TimeGenerated\",\n            \"sortOrder\": 1\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"name\": \"query - 29\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where msg_s contains \\\"{InvestigateIPWC:label}\\\" or '{InvestigateIPWC}' == \\\"*\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| summarize by TimeGenerated, SignatureID, Message, Priority, Classification, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, Resource\\r\\n| evaluate ipv4_lookup (geoData, DestIP,  network, false)\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Azure Firewall Premium with GeoLocation- IDPS: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"$gen_group\",\n              \"formatter\": 0,\n              \"formatOptions\": {\n                \"customColumnWidthSetting\": \"60ch\"\n              }\n            },\n            {\n              \"columnMatch\": \"Message\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"country_name\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"$gen_group\",\n              \"formatter\": 0,\n              \"formatOptions\": {\n                \"customColumnWidthSetting\": \"60ch\"\n              }\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"Message\",\n              \"country_name\"\n            ],\n            \"expandTopLevel\": true\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"name\": \"query - 58\"\n    }\n  ],\n  \"fallbackResourceIds\": [\n    \"Azure Monitor\"\n  ],\n  \"fromTemplateId\": \"sentinel-UserWorkbook\",\n  \"$schema\": \"https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json\"\n}\n",
            "ca_cert_pem": null,
            "id": "https://raw.githubusercontent.com/Azure/Azure-Network-Security/master/Azure%20Firewall/Workbook%20-%20Azure%20Firewall%20Monitor%20Workbook/Azure%20Firewall_Gallery.json",
            "insecure": null,
            "method": null,
            "request_body": null,
            "request_headers": null,
            "request_timeout_ms": null,
            "response_body": "{\n  \"version\": \"Notebook/1.0\",\n  \"items\": [\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"## Azure Firewall Workbook\\r\\n---\\r\\n\"\n      },\n      \"name\": \"text - 23\"\n    },\n    {\n      \"type\": 11,\n      \"content\": {\n        \"version\": \"LinkItem/1.0\",\n        \"style\": \"tabs\",\n        \"links\": [\n          {\n            \"id\": \"20847ce8-91bc-4d8b-b878-a5a41c95c31c\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall Overview\",\n            \"subTarget\": \"AFOverview\",\n            \"preText\": \"Azure Firewall Overview\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"f564709d-1658-46a1-8b44-892210e13017\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - Application rule log statistics\",\n            \"subTarget\": \"AFAppRule\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"1f6661e2-f873-4d56-879d-4d085d8cf1d4\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - Network rule log statistics\",\n            \"subTarget\": \"AFNetRule\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"ef1548c5-ef55-4eaa-8a81-b049cb93b56c\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - DNS Proxy\",\n            \"subTarget\": \"AFDNSProxy\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"18a4a585-2176-4d9f-907c-8e8d5f984efa\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall Premium - IDPS\",\n            \"subTarget\": \"AFIDSIPS\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"97dc7364-961d-4c19-a730-7b9024f46b91\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - Investigation\",\n            \"subTarget\": \"AFInvestigate\",\n            \"style\": \"link\"\n          }\n        ]\n      },\n      \"name\": \"links - 24\"\n    },\n    {\n      \"type\": 9,\n      \"content\": {\n        \"version\": \"KqlParameterItem/1.0\",\n        \"parameters\": [\n          {\n            \"id\": \"ab7d6c51-d7df-436c-96a2-429163aa50ec\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"TimeRange\",\n            \"type\": 4,\n            \"isRequired\": true,\n            \"isGlobal\": true,\n            \"value\": {\n              \"durationMs\": 7776000000\n            },\n            \"typeSettings\": {\n              \"selectableValues\": [\n                {\n                  \"durationMs\": 300000\n                },\n                {\n                  \"durationMs\": 900000\n                },\n                {\n                  \"durationMs\": 1800000\n                },\n                {\n                  \"durationMs\": 3600000\n                },\n                {\n                  \"durationMs\": 14400000\n                },\n                {\n                  \"durationMs\": 43200000\n                },\n                {\n                  \"durationMs\": 86400000\n                },\n                {\n                  \"durationMs\": 172800000\n                },\n                {\n                  \"durationMs\": 259200000\n                },\n                {\n                  \"durationMs\": 604800000\n                },\n                {\n                  \"durationMs\": 1209600000\n                },\n                {\n                  \"durationMs\": 2419200000\n                },\n                {\n                  \"durationMs\": 2592000000\n                },\n                {\n                  \"durationMs\": 5184000000\n                },\n                {\n                  \"durationMs\": 7776000000\n                }\n              ],\n              \"allowCustom\": false\n            }\n          },\n          {\n            \"id\": \"add90eb3-ff5f-4b19-9658-ff15c8043af5\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"Workspaces\",\n            \"type\": 5,\n            \"isRequired\": true,\n            \"multiSelect\": true,\n            \"quote\": \"'\",\n            \"delimiter\": \",\",\n            \"query\": \"where type =~ 'microsoft.operationalinsights/workspaces'\\r\\n| project id, name\\r\\n| order by name desc\",\n            \"crossComponentResources\": [\n              \"value::selected\"\n            ],\n            \"value\": [\n              \"value::100\"\n            ],\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [\n                \"value::100\"\n              ]\n            },\n            \"queryType\": 1,\n            \"resourceType\": \"microsoft.resourcegraph/resources\"\n          },\n          {\n            \"id\": \"5084e141-6c56-4d7f-bd8a-09f7ef9af1bc\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"Resource\",\n            \"label\": \"Azure Firewalls\",\n            \"type\": 5,\n            \"isRequired\": true,\n            \"multiSelect\": true,\n            \"quote\": \"'\",\n            \"delimiter\": \",\",\n            \"query\": \"where type =~ 'Microsoft.Network/azureFirewalls'\\r\\n| project id, name\",\n            \"crossComponentResources\": [\n              \"value::selected\"\n            ],\n            \"value\": [\n              \"value::all\"\n            ],\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [\n                \"value::all\"\n              ]\n            },\n            \"queryType\": 1,\n            \"resourceType\": \"microsoft.resourcegraph/resources\"\n          },\n          {\n            \"id\": \"13d9f6e9-9290-4b1e-b0d0-a7c0ebdc1aed\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"Help\",\n            \"label\": \"Show Help\",\n            \"type\": 10,\n            \"description\": \"This will show some help information to help you understand the page you are on\",\n            \"isRequired\": true,\n            \"typeSettings\": {\n              \"additionalResourceOptions\": []\n            },\n            \"jsonData\": \"[\\r\\n { \\\"value\\\": \\\"Yes\\\", \\\"label\\\": \\\"Yes\\\"},\\r\\n {\\\"value\\\": \\\"No\\\", \\\"label\\\": \\\"No\\\", \\\"selected\\\":true },\\r\\n { \\\"value\\\": \\\"Change Log\\\", \\\"label\\\": \\\"Change Log\\\"}\\r\\n]\"\n          },\n          {\n            \"id\": \"68f2cb32-03d4-4307-8eb5-1f66dfc09a85\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"FirewallResources\",\n            \"label\": \"Show Resources\",\n            \"type\": 2,\n            \"description\": \"The is only used on the Overview page.\",\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [],\n              \"showDefault\": false\n            },\n            \"jsonData\": \"[\\r\\n { \\\"value\\\": \\\"Yes\\\", \\\"label\\\": \\\"Yes\\\", \\\"selected\\\":true},\\r\\n {\\\"value\\\": \\\"No\\\", \\\"label\\\": \\\"No\\\" }\\r\\n]\",\n            \"value\": \"No\"\n          },\n          {\n            \"id\": \"53aa8daf-29de-40a1-9147-c0970e32fac4\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"GeoLocation\",\n            \"label\": \"GeoLocationCSV\",\n            \"type\": 2,\n            \"description\": \"Supplied as a value for GeoLocation lookup on queries: Read more here - https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin#ipv4-lookup---matching-rows-only\",\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [],\n              \"showDefault\": false\n            },\n            \"jsonData\": \"\\r\\n[\\r\\n{\\r\\n\\\"value\\\": \\\"https://raw.githubusercontent.com/datasets/geoip2-ipv4/master/data/geoip2-ipv4.csv\\\", \\\"label\\\": \\\"GeoLocationDefault\\\", \\\"selected\\\": \\\"true\\\"  \\r\\n}\\r\\n]\\r\\n\\r\\n\"\n          }\n        ],\n        \"style\": \"pills\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\"\n      },\n      \"name\": \"parameters - 1\"\n    },\n    {\n      \"type\": 12,\n      \"content\": {\n        \"version\": \"NotebookGroup/1.0\",\n        \"groupType\": \"editable\",\n        \"items\": [\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Overview - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|v1.0\\t|Initial Version|\\r\\n|V1.1.0\\t|Split up the data sets, Overview, Application Rule Logs, Network Rule Logs, DNS Proxy Logs. Added in Investigation visibility with Azure Firewall + Azure Graph. Added in visibility to multiple workspaces and filtering to Firewall resources. |\\r\\n|V1.2.0 | Added new filteres, \\\"Show Help\\\", \\\"Show Resources\\\", \\\"GeoLocationCSV\\\", Updated query parsing to the Overview queries. Improved overall performance in large data scale performance with new parsing requirements.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFOverview\"\n              }\n            ],\n            \"name\": \"text - 40\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall - App Rules - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|v1.0.0 | Initial Version\\r\\n|V1.2.0 | Added in new Querires for Azure Firewall features, parsing is now used differently. Added Web Category.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFAppRule\"\n              },\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              }\n            ],\n            \"name\": \"text - 63\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall - Network Rule - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.0.0 | Initial Version\\r\\n|V1.2.0 | Added in new Querires for Azure Firewall features, parsing is now used differently. Added in GeoLocation queries, updated main query to use GeoLocation data.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFNetRule\"\n              }\n            ],\n            \"name\": \"text - 64\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall - DNSProxy - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.1.0 | Initial Version\\r\\n|V1.2.0 | No modifications were made\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFDNSProxy\"\n              }\n            ],\n            \"name\": \"text - 65\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall Prem - IDPS - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.2.0 | Initial Version\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFIDSIPS\"\n              },\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              }\n            ],\n            \"name\": \"text - 66\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall Prem - IDPS - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.0.0 | Initial Version\\r\\n|V1.2.0 | Added IDPS Logs to the investgation experience, Added in GeoLocation infromation. Updated the KQL logic to be faster for large data volume.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFInvestigate\"\n              }\n            ],\n            \"name\": \"text - 67\"\n          }\n        ]\n      },\n      \"name\": \"ChangeLogGroup\"\n    },\n    {\n      \"type\": 12,\n      \"content\": {\n        \"version\": \"NotebookGroup/1.0\",\n        \"groupType\": \"editable\",\n        \"items\": [\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Overview page has the following features.\\r\\n\\r\\n- All Firewall Data Log Analytics Volume (Total)\\r\\n- All Firewall Data Log Analytics Volume (Per Firewall)\\r\\n- All Firewall Event Categories\\r\\n- All Firewall Event Categories over time\\r\\n- Azure Firewall Metrics data\\r\\n  - Traffic\\r\\n  - SNAT Port\\r\\n  - Network Rule Count\\r\\n  - Application Rule Count\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nStart by looking at the workbook filters, examples would be TimeRange, Workspace, Azure Firewall. Note these are filtered based on your azure portal settings of \\\"Default subscription filter\\\". Selecting more resources or more workspaces has an impact on speed of results depending on the data volume of your workspaces. Why TimeRange is a large factor when looking at looking at extremely large data sets of volume(example over 1 Billion logs) so multiple filters have been offered to finetune the results without having to build your own queries.\\r\\n\\r\\nIf this is your first time looking at this workbook, my suggestion is to use 14 days(this is the fastest cached data in Log Analytics), a single workspace, a single firewall, if you're wanting to see the results of one firewall. Best to know where your firewall is sending it's logs too to confirm you didn't select a workspace that doesn't have that firewalls data. How to check, go to the Azure Firewall, click Diagnostic settings, see what Log Analytics workspace is currently configured.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, and sending to workspace your azure ad user had RBAC permissions to. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\\r\\n- Azure Metrics requires resource permissions of the Firewall you're wanting data on. \"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFOverview\"\n            },\n            \"name\": \"text - 59\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Application rule log statistics page has the following features.\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- Unique Source IP Address*\\r\\n- Application Rule Usage\\r\\n- Denied/Allowed FQDN over time\\r\\n- Denied/Allowed FQDN count\\r\\n- Denied/Allowed Web Categories over time\\r\\n- Denied/Allowed Web Categories count\\r\\n- Pre-parsed Azure Firewall Application Rule Logs with a search feature.\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll see the unique source of IP addresses based on the global filters you have in place, this is showing only the top 10 IPAddresses, you can modify the KQL query to show more if needed if you click the \\\"Edit\\\" button. We added in the logic to show the volume over time, under the IP address/count information. If you click on the highest count (my example is 415,786 count, 10.0.24.4 ipaddress) it'll filter everything on the Application rule log statistic page to this IP address specifically. (Only Exception is the Rule Usage). Note this could cause other data sets to become blank as a result, sometimes you only have Approved or Denied access based on the configuration of the firewall.\\r\\n\\r\\nIf you're wanting to search for something a little more specific other than IPAddress filter, you can use the \\\"Search\\\" bar under the \\\"All IP Address events\\\" query to create a custom filter to the parsed logs. Example could be an FQDN \\\"wdcp.microsoft.com\\\" to pull up those logs specifically with that name in it.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, specifically requires Application Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFAppRule\"\n            },\n            \"name\": \"text - 1\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Network rule log statistics page has the following features.\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- Rule Actions*\\r\\n\\r\\n- Target Ports*\\r\\n\\r\\n- DNAT Actions*\\r\\n\\r\\n- GeoLocation\\r\\n\\r\\n- Actions over time(Time scrub enabled)\\r\\n\\r\\n- Pre-parsed Network Rule data with GeoLocation added\\r\\n\\r\\n  *Note: GeoLocation is using an public file, you have to modify your GeoLocation Global Filter tab to add your own data.*\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll get see pie charts on the screen, each of these can be clicked on to filter the data below. You'll have to click on the color of the wheel in order to use the filter feature. Downfall of this, if it's an extremely small data set, its hard to click on that color due to the challenge of even seeing it. These filters are a top down approach, meaning what clicked on top, filters below. If you'd like, feel free to test this out now. Under \\\"Target Ports, filterable by Target Port\\\" find port 53 ( pretty common port). Click on the wheel with the color that's associated to port 53. You'll see everything change below only showing data that has port 53 associated to it. If you'd like to remove this filter you have a few options. \\r\\n\\r\\n1. Click the \\\"Go back\\\" at the top right of the wheel\\r\\n2. Refresh the whole workbook\\r\\n3. Refresh the whole browser window\\r\\n\\r\\n*A note about the new feature added \\\"GeoLocation\\\", this is public data shared through the Log Analytics developer team to show the feature to associate IP addresses with a GeoLocation file. This had been added to the workbook to show you what's possible, it's encouraged for you to use your own data which could be further enriched. If you had Lat/Long data, you could even add in a map feature into this workbook to show you where the traffic is mostly.*\\r\\n\\r\\nMid-way down the page you'll see the \\\"Actions, by time\\\", if we saw a large spike and wanted to lower the window of traffic, select on the left side(where you're wanting to start, before the event occurred) drag, and move it over to the right. Example March 24th - March 27th. When i was looking over 14 days of time. This will filter the \\\"All IP Addresses events\\\" down to this new time window.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, specifically requires Network Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFNetRule\"\n            },\n            \"name\": \"text - 2\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - DNS Proxy page has the following features.\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- DNS Traffic by count (Time scrub enabled)\\r\\n- DNS Proxy by Request Name, by Count*\\r\\n- DNS Proxy Request by ClientIP, by Count*\\r\\n- Count over time of Proxy Requests by ClientIP\\r\\n- Pre-parsed DNS Proxy data\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll see the DNS Proxy traffic count, this is a great way to start to narrow down the proxy traffic over a period of time. Example we're looking at the 14 day window, but there was an odd spike or dip in proxy traffic, why? use the time scrub feature to select on the left side(where you're wanting to start, before the event occurred) drag, and move it over to the right. Example March 24th - March 27th.\\r\\n\\r\\nAfter adding our second time filter to the page, move forward to looking at the DNS requests. You might see a large spike in a specific DNS request, could be something you're not even familiar with. Using an example, i see a DNS request for \\\"md-fpp31tsvhx4s.blob.core.windows.net\\\" for 300K times in my current filters. By selecting this Request Name, it'll filter on the right showing me which clients are requesting this DNS traffic. Which after clicking on my request, i see 2 different IP addresses now. Oddly though, one is much smaller than the other. Lets select that Ip address to add an additional filter to the logs. Now we can see the logs related to that machine client ip, specifically around that DNS request name. This might help you narrow down if there are any actions that need to be taken on your firewall.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, specifically requires DNS Proxy Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFDNSProxy\"\n            },\n            \"name\": \"text - 3\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall Premium- IDPS page has the following features.\\r\\n\\r\\n*As noted on the title, these logs are only created on the Azure Firewall Premium sku*\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- IDPS Actions Count*\\r\\n- IDPS Protocol Count*\\r\\n- IDPS SignatureID Count*\\r\\n- IDPS SourceIP Count*\\r\\n- Azure Firewall IDPS count over time (Time Scrub Enabled)\\r\\n- Azure Firewall IDPS logs with GeoLocation\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll see Pie Charts offering multiple filtering options to your IDPS logs, showing Alerts, Protocols, SignatureIDs and Sources of the logs. Lets start by selecting an ClientIP address(SourceIP) under the \\\"IDPS SourceIP Count, filterable by SourceIP\\\". I clicked on the largest one, you might of noticed most of the traffic under the IDPS logs are alerts, Mostly TCP to this ClientIP address and there could be some specific SignatureID's are being triggered. Looking further into the logs, you should expand the Source IP to see the different IP Addresses this client has talked to within the past 14 days(current global filter). The majority of the traffic is going to XX.XX.XX.XX, which is something to remember.\\r\\n\\r\\nGoing further down, you might noticed a spike in traffic, lets use the time scrub feature to narrow down the time window to that spike. Start by selecting on the left side(where you're wanting to start time to be, before the event occurred) drag, and move it over to the right(the end time). Example March 24th - March 27th.\\r\\n\\r\\n*Note; The GeoLocation + Data can take a long time to refresh.*\\r\\n\\r\\nYou should now be able to see data we filtered down to, with it based on  GeoLocation/Signature ID's\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Premium Diagnostic settings enabled, specifically requires IDPS Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFIDSIPS\"\n            },\n            \"name\": \"text - 4\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Investigation page has the following features.\\r\\n\\r\\n*Note, this is a combination of all the logs within the Azure Firewall workbook. Some logs are from the Azure Firewall Premium sku*\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- IFQDN Traffic by Count*\\r\\n- SourceIP Address*\\r\\n- SourceIPAddress Resource Lookup (Azure Resource Graph)\\r\\n- FQDN Lookup logs\\r\\n- Azure Firewall Threat Intel\\r\\n- Azure Firewall Premium with GeoLocation- IDPS\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nThis is the page where we narrow down everything, You should considering adding your own twist based on your own investigations to this page. Leverage this as a template of where to start and how to move forward.\\r\\n\\r\\nStarting out we see FQDN and IP Address are the page's first filters offered.\\r\\n\\r\\nLooking at source count, you might see something that has a large count. Like the following example \\\"watson.telemetry.microsoft.com\\\".  Click on the \\\"Deny\\\"/'Count' line to use the filter feature for the whole page.\\r\\n\\r\\nThis narrowed down our large list of client (SourceIP) address to a smaller list, which could be used to find out which client is being the loudest or maybe something that sneaked in that wasn't suppose to be talking to this FQDN in the first place. Click on an IPAddress(SourceIP). \\r\\n\\r\\nAzure Resource Graph is then used to find which machine this is, which Azure Resource NIC, Public IP address, Subnet, etc.\\r\\n\\r\\nUse the other data sets to help see the logs you've filtered based on the FQDN + IPAddress above. \\r\\n\\r\\n*Note, FQDN isn't required for the Azure Resource Graph lookup.*\\r\\n\\r\\nSome log sources might be blank, that's perfectly acceptable in this scenario as we're filtering down to alerts and events.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- All Azure Firewall Diagnostic Logs\\r\\n- RBAC Permissions for Azure Resource Graph lookup.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFInvestigate\"\n            },\n            \"name\": \"text - 5\"\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"Help\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"Yes\"\n      },\n      \"name\": \"Get-Help\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall - overview\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"name\": \"Main title\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"where type =~ 'Microsoft.Network/azureFirewalls'\\r\\n| extend Tier = trim(' ', tostring(properties.sku.tier))\\r\\n| extend Status = trim(' ', tostring(iif(isempty(properties.ipConfigurations.[0].properties.provisioningState),properties.provisioningState,properties.ipConfigurations.[0].properties.provisioningState)))\\r\\n| extend Premium = iff(Tier == \\\"Premium\\\", \\\"Yes\\\", \\\"No\\\")\\r\\n| extend Standard = iff(Tier == \\\"Standard\\\", \\\"Yes\\\", \\\"No\\\")\\r\\n| extend ProvisionedState = iff(Status == \\\"Succeeded\\\", \\\"Running\\\", \\\"Not Running\\\")\\r\\n| extend Policy = trim(' ', tostring(properties.firewallPolicy.id))\\r\\n| extend ApplicationRule1 = trim(' ', tostring(properties.applicationRuleCollections.[0].id))\\r\\n| extend ApplicationRule2 = trim(' ', tostring(properties.applicationRuleCollections.[0].id))\\r\\n| extend ApplicationRule3 = iff(ApplicationRule1 == \\\"\\\", \\\"N/A\\\", \\\"\\\")\\r\\n| extend ApplicationRule4 = iff(ApplicationRule2 contains \\\"subscription\\\", \\\"Configured\\\", \\\"\\\")\\r\\n| extend ApplicationRuleClassic = strcat(ApplicationRule3, ApplicationRule4)\\r\\n| extend NetworkRule1 = trim(' ', tostring(properties.networkRuleCollections.[0].id))\\r\\n| extend NetworkRule2 = trim(' ', tostring(properties.networkRuleCollections.[0].id))\\r\\n| extend NetworkRule3 = iff(NetworkRule1 == \\\"\\\", \\\"N/A\\\", \\\"\\\")\\r\\n| extend NetworkRule4 = iff(NetworkRule1 contains \\\"subscription\\\", \\\"Configured\\\", \\\"\\\")\\r\\n| extend NetworkRuleClassic = strcat(NetworkRule3, NetworkRule4)\\r\\n| project Firewall=id, Premium, Standard, ProvisionedState,FirewallPolicy= Policy, ApplicationRuleClassic, NetworkRuleClassic, location, resourceGroup, subscriptionId, tenantId\",\n        \"size\": 1,\n        \"title\": \"Azure Firewall Resource List\",\n        \"queryType\": 1,\n        \"resourceType\": \"microsoft.resourcegraph/resources\",\n        \"crossComponentResources\": [\n          \"value::selected\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"Premium\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Yes\",\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"No\",\n                    \"representation\": \"grayBlue\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": null,\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"Standard\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Yes\",\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"No\",\n                    \"representation\": \"grayBlue\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": null,\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"ProvisionedState\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Running\",\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Not Running\",\n                    \"representation\": \"grayBlue\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"ApplicationRuleClassic\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"N/A\",\n                    \"representation\": \"gray\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"NetworkRuleClassic\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"N/A\",\n                    \"representation\": \"gray\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"FirewallResources\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"Yes\"\n      },\n      \"customWidth\": \"100\",\n      \"name\": \"query - 60\",\n      \"styleSettings\": {\n        \"margin\": \"0\"\n      }\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics \\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\" \\r\\n| summarize Volume=count() by bin(TimeGenerated, {TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Events, by time: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 16\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\" \\r\\n| summarize Volume=count() by Resource, bin(TimeGenerated, {TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Events, by firewall over time: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportParameterName\": \"TopEvent\",\n        \"exportDefaultValue\": \"{\\\"Resource\\\":\\\"*\\\",\\\"ResourceGroup\\\":\\\"*\\\"}\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"linechart\",\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"Resource\",\n            \"formatter\": 1\n          },\n          \"leftContent\": {\n            \"columnMatch\": \"amount\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"palette\": \"auto\"\n            },\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          },\n          \"showBorder\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"Firewall per Resource Group\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| project Category, ResourceType, OperationName);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by OperationName\\r\\n    | project Category=OperationName, Volume\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | summarize Volume=count() by OperationName\\r\\n    | project Category=OperationName, Volume\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by Category\\r\\n)\\r\\n| sort by Volume desc\",\n        \"size\": 0,\n        \"title\": \"Events, by category: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"Category\",\n        \"exportParameterName\": \"SelectedCategory\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\",\n        \"tileSettings\": {\n          \"showBorder\": false,\n          \"titleContent\": {\n            \"columnMatch\": \"Category\",\n            \"formatter\": 1\n          },\n          \"leftContent\": {\n            \"columnMatch\": \"Volume\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"palette\": \"auto\"\n            },\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"Events by category\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| project Category, ResourceType, OperationName, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by OperationName, bin(TimeGenerated, {TimeRange:grain})\\r\\n    | project Category=OperationName, Volume, TimeGenerated\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | summarize Volume=count() by OperationName, bin(TimeGenerated, {TimeRange:grain})\\r\\n    | project Category=OperationName, Volume, TimeGenerated\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by Category, bin(TimeGenerated, {TimeRange:grain})\\r\\n)\\r\\n| sort by Volume desc\",\n        \"size\": 0,\n        \"title\": \"Events categories, by time: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"Events categories by time\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"### Firewall Metrics\\r\\nThe data below dosen't read from the Log Analytics workpsace, it's reading directly from the resources which requires resource visibility. \\r\\nClick [here for more information on Azure Metrics](https://docs.microsoft.com/en-us/azure/azure-monitor/platform/data-platform-metrics)\\r\\n\",\n        \"style\": \"info\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"name\": \"text - 39\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--Throughput\",\n            \"aggregation\": 4,\n            \"splitBy\": null,\n            \"columnName\": \"All Firewall Throughput Average\"\n          }\n        ],\n        \"title\": \"Average Throughput of Firewall Traffic\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--SNATPortUtilization\",\n            \"aggregation\": 4,\n            \"splitBy\": null\n          }\n        ],\n        \"title\": \"SNAT Port Utilization\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25 - Copy\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--NetworkRuleHit\",\n            \"aggregation\": 1,\n            \"splitBy\": null\n          }\n        ],\n        \"title\": \"Network Rule Hitcount (SUM)\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25 - Copy - Copy\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--ApplicationRuleHit\",\n            \"aggregation\": 1,\n            \"splitBy\": null\n          }\n        ],\n        \"title\": \"Application Rule Hitcount (SUM)\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25 - Copy - Copy - Copy\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"---\\r\\n# Azure Firewall - Application rule log statistics\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"name\": \"text - 14\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize Amount=count() by SourceIP\\r\\n| join kind = inner\\r\\n( union (\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n    | make-series Trend = count() default = 0 on bin(TimeGenerated, 1d) from {TimeRange:start} to {TimeRange:end} step {TimeRange:grain} by SourceIP) on SourceIP\\r\\n    | project-away SourceIP1, TimeGenerated\\r\\n    | top 10 by Amount\\r\\n    | sort by Amount\\r\\n\",\n        \"size\": 1,\n        \"title\": \"Unique Source IP addresses, filterable by SelectedSourceIP: Query Time ({$queryTime})\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"SourceIP\",\n        \"exportParameterName\": \"SelectedSourceIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"tiles\",\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"Amount\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"showIcon\": true\n            }\n          },\n          \"subtitleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 1,\n            \"formatOptions\": {\n              \"showIcon\": true\n            }\n          },\n          \"secondaryContent\": {\n            \"columnMatch\": \"Trend\",\n            \"formatter\": 9,\n            \"formatOptions\": {\n              \"showIcon\": true\n            }\n          },\n          \"showBorder\": false\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 4\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where RuleCollection matches regex \\\".*\\\" \\r\\n| summarize Count = count(), last_log = datetime_diff(\\\"second\\\", now(), max(TimeGenerated)) by RuleCollection, Rule, WebCategory\",\n        \"size\": 1,\n        \"title\": \"Application Rule Usage : Query Time ({$queryTime})\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"Count\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            },\n            {\n              \"columnMatch\": \"last_log\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"greenRed\"\n              },\n              \"numberFormat\": {\n                \"unit\": 24,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false\n                }\n              }\n            }\n          ],\n          \"sortBy\": [\n            {\n              \"itemKey\": \"$gen_heatmap_last_log_4\",\n              \"sortOrder\": 1\n            }\n          ]\n        },\n        \"sortBy\": [\n          {\n            \"itemKey\": \"$gen_heatmap_last_log_4\",\n            \"sortOrder\": 1\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 36\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize count() by FQDN, bin(TimeGenerated,{TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Denied FQDN's over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"tileSettings\": {\n          \"showBorder\": false\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 3\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize count() by FQDN\\r\\n| sort by count_ desc\\r\\n\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Denied FQDN's by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"sortBy\": [\n            {\n              \"itemKey\": \"$gen_heatmap_count__1\",\n              \"sortOrder\": 2\n            }\n          ]\n        },\n        \"sortBy\": [\n          {\n            \"itemKey\": \"$gen_heatmap_count__1\",\n            \"sortOrder\": 2\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 7\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n    | where Resource in~ (split(\\\"AzureFirewall_hub1, firewall-lat, FW-Test-DNATPIP, lg-NS-FW-netsec, SOC-NS-FW\\\", \\\", \\\"))\\r\\n    | project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n    | where msg_s has \\\" Reason:\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n        and msg_s !has \\\"No rule matched\\\"\\r\\n        and msg_s has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | where msg_s has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    ) \\r\\n| where Action == \\\"Allow\\\"\\r\\n| summarize count() by FQDN, bin(TimeGenerated, 6h)\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Allowed FQDN's over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\" and msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"Allow\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"   \\r\\n| summarize count() by FQDN\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Allowed FQDN's by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        },\n        \"sortBy\": []\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 2\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n    (\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n    | where Resource in~ (split(\\\"AzureFirewall_hub1, firewall-lat, FW-Test-DNATPIP, lg-NS-FW-netsec, SOC-NS-FW\\\", \\\", \\\"))\\r\\n    | project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" URL \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s has \\\". Url\\\"\\r\\n        and msg_s has \\\". No rule matched\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s has \\\". No rule matched\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n    | where msg_s has \\\" Reason:\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n        and msg_s !has \\\"No rule matched\\\"\\r\\n        and msg_s !has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | where msg_s has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    )\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Allow\\\"\\r\\n| where '*' == SourceIP or '*' == \\\"*\\\"  \\r\\n| summarize count() by WebCategory, bin(TimeGenerated, 6hrs)\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Allowed Web Categories over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"chartSettings\": {\n          \"showLegend\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url: \\\" Url \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Allow\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by WebCategory\\r\\n| sort by count_ desc\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Allowed Web Categories by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        },\n        \"chartSettings\": {\n          \"showLegend\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\" . Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize count() by WebCategory, bin(TimeGenerated,{TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Denied Web Categories over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"chartSettings\": {\n          \"showLegend\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection:\\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by WebCategory\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Denied Web Catgories by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        },\n        \"sortBy\": []\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 2 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize by TimeGenerated, FQDN, Protocol, Action, SourceIP, SourcePort, DestinationPort , ResourceId , ResourceGroup , RuleCollection, Rule, WebCategory, SubscriptionId\\r\\n\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"All IP addresses events: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"name\": \"query - 9\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"---\\r\\n# Azure Firewall - Network rule log statistics\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"name\": \"text - 14\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize count() by Action\",\n        \"size\": 3,\n        \"title\": \"Rule actions, filterable by RuleAction\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"RuleAction\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 7\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize Count=count() by DestinationPort\",\n        \"size\": 3,\n        \"title\": \"Target ports, filterable by TargetPort\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"DestinationPort\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 10\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"DNAT'ed\\\"\\r\\n| summarize Amount=count() by NatDestination\\r\\n\",\n        \"size\": 3,\n        \"title\": \"DNAT actions, filterable by NatDestination\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"NatDestination\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 12\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nlet materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| project DestinationIP\\r\\n| evaluate ipv4_lookup (geoData, DestinationIP,  network, false)\\r\\n| summarize count() by continent_name\\r\\n\",\n        \"size\": 2,\n        \"title\": \"GeoLocation\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showRefreshButton\": true,\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"netcontinent\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 61\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize amount = count() by Action , SourceIP\\r\\n| sort by amount desc\",\n        \"size\": 0,\n        \"title\": \"Rule actions, by IP addresses\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"Action\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"amount\",\n              \"formatter\": 3,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            },\n            {\n              \"columnMatch\": \"eventCount\",\n              \"formatter\": 3,\n              \"formatOptions\": {\n                \"min\": 0,\n                \"palette\": \"blue\"\n              }\n            }\n          ],\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"Action\"\n            ],\n            \"expandTopLevel\": false,\n            \"finalBy\": \"Action\"\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 8\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"   \\r\\n| summarize AMOUNT=count() by DestinationPort, SourceIP\\r\\n| sort by AMOUNT desc\",\n        \"size\": 0,\n        \"title\": \"Target ports, by Source IP: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"DestinationPort\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"AMOUNT\",\n              \"formatter\": 3,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"DestinationPort\"\n            ],\n            \"expandTopLevel\": false\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 11\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"DNAT'ed\\\"\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize Amount=count() by NatDestination, bin(TimeGenerated, {TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"DNAT'ed over time\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 13\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nlet materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| project DestinationIP, TimeGenerated\\r\\n| evaluate ipv4_lookup (geoData, DestinationIP,  network, false)\\r\\n| summarize Amount=count() by continent_name, bin(TimeGenerated, {TimeRange:grain})\\r\\n\\r\\n\",\n        \"size\": 0,\n        \"title\": \"GeoLocation over time\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 13 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize count() by Action, bin(TimeGenerated, {TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Actions, by time\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeBrushParameterName\": \"ActionsByTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"name\": \"query - 15\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nlet materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize by TimeGenerated,Protocol, ICMPType, Action,SourceIP, SourcePort, DestinationIP , DestinationPort , NatDestination, ResourceId , ResourceGroup , SubscriptionId\\r\\n| evaluate ipv4_lookup (geoData, DestinationIP,  network, false)\\r\\n\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"All IP addresses events with GeoLocation: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"ActionsByTimeBrush\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"name\": \"query - 22\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall -DNS Proxy\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"name\": \"text - 41\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project Resource, TimeGenerated\\r\\n| summarize count() by Resource, bin(TimeGenerated,{TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"DNSProxy Traffic by count per Firewall: Query Time({$queryTime}) \",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeBrushParameterName\": \"DNSTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"linechart\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"name\": \"query - 30 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| summarize count() by Request_Name\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"title\": \"DNSProxy count by Request Name, filterable by Request_Name\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"exportFieldName\": \"Request_Name\",\n        \"exportParameterName\": \"DNSRequestName\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 30 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| where '{DNSRequestName}' == Request_Name or '{DNSRequestName}' == \\\"*\\\"\\r\\n| summarize count() by ClientIP\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"title\": \"DNSProxy Request count by ClientIP, filterable by ClientIP\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"exportFieldName\": \"ClientIP\",\n        \"exportParameterName\": \"DNSClientIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 30 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| where '{DNSClientIP}' == ClientIP or '{DNSClientIP}' == \\\"*\\\"\\r\\n| where '{DNSRequestName}' == Request_Name or '{DNSRequestName}' == \\\"*\\\"\\r\\n| summarize count() by ClientIP, bin(TimeGenerated, {TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"DNS Proxy Request over time by ClientIP\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"linechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 30 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| where '{DNSClientIP}' == ClientIP or '{DNSClientIP}' == \\\"*\\\"\\r\\n| where '{DNSRequestName}' == Request_Name or '{DNSRequestName}' == \\\"*\\\"\\r\\n| summarize by TimeGenerated, ResourceId, ClientIP, ClientPort, QueryID, Request_Type, Request_Class, Request_Name, Request_Protocol, Request_Size, EDNSO_DO, EDNS0_Buffersize, Responce_Code, Responce_Flags, Responce_Size, Response_Duration, SubscriptionId\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"DNS Proxy Information: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"name\": \"query - 30\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall Premium - IDPS\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"name\": \"text - 42\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| summarize count() by Action\",\n        \"size\": 2,\n        \"title\": \"IDPS Actions Count, filterable by Action\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSAction\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 44\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| summarize count() by Protocol\",\n        \"size\": 2,\n        \"title\": \"IDPS Protocol Count, filterable by Protocol\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSProtocol\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| summarize count() by SignatureID\\r\\n\",\n        \"size\": 2,\n        \"title\": \"IDPS SignatureID Count, filterable by SignatureID\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSSignatureID\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| summarize count() by SourceIP, DestIP\\r\\n| sort by count_ desc\",\n        \"size\": 2,\n        \"title\": \"IDPS SourceIP Count, filterable by SourceIP\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSSourceIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SourceIP\",\n              \"formatter\": 5\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"SourceIP\"\n            ],\n            \"expandTopLevel\": false\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n//| project-away Category, ResourceId, msg_s, SubscriptionId, ResourceProvider, ResourceType, OperationName, Type\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by Action\",\n        \"size\": 0,\n        \"title\": \"Filtered IDPS Actions by Count\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 44 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n//| project-away Category, ResourceId, msg_s, SubscriptionId, ResourceProvider, ResourceType, OperationName, Type\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by Protocol\",\n        \"size\": 0,\n        \"title\": \"Filtered IDPS Protocols by Count\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n//| project-away Category, ResourceId, msg_s, SubscriptionId, ResourceProvider, ResourceType, OperationName, Type\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by SignatureID\",\n        \"size\": 0,\n        \"title\": \"Filtered IDPS SignatureIDs by Count\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize Volume=count() by DestIP, SourceIP\\r\\n| sort by Volume desc\",\n        \"size\": 0,\n        \"title\": \"Filtered SourceIP, filterable by DestIP\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"DestIP\",\n        \"exportParameterName\": \"IDSIPSDestIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SourceIP\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"Volume\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"SourceIP\"\n            ],\n            \"expandTopLevel\": false\n          }\n        },\n        \"tileSettings\": {\n          \"showBorder\": false,\n          \"titleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 1\n          },\n          \"leftContent\": {\n            \"columnMatch\": \"Volume\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"palette\": \"auto\"\n            },\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          }\n        },\n        \"graphSettings\": {\n          \"type\": 0,\n          \"topContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 1\n          },\n          \"centerContent\": {\n            \"columnMatch\": \"Volume\",\n            \"formatter\": 1,\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message, Resource\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| where '{IDSIPSDestIP}' == DestIP or '{IDSIPSDestIP}' == \\\"*\\\"\\r\\n| summarize count() by Resource, bin(TimeGenerated,{TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Azure Firewall IDPS count over time\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeBrushParameterName\": \"AFIDSIPSBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SourceIP\",\n              \"formatter\": 5\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"SourceIP\"\n            ],\n            \"expandTopLevel\": false\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"name\": \"query - 45\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, SignatureID, Message, Priority, Classification, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, Resource\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| where '{IDSIPSDestIP}' == DestIP or '{IDSIPSDestIP}' == \\\"*\\\"\\r\\n| evaluate ipv4_lookup (geoData, DestIP,  network, false)\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Azure Firewall IDPS logs with GeoLocation: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"AFIDSIPSBrush\",\n        \"timeBrushParameterName\": \"AFIDSIPSBrush\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"Message\",\n              \"country_name\"\n            ],\n            \"expandTopLevel\": true\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"name\": \"query - 45 - Copy\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall - Investigation\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"name\": \"text - 43\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize count() by FQDN, Action\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"title\": \"FQDN Traffic by Count, filterable by FQDN: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"FQDN\",\n        \"exportParameterName\": \"FullName\",\n        \"exportDefaultValue\": \"*\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"FQDN\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"minimumIntegerDigits\": 1,\n                  \"maximumFractionDigits\": 1,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"FQDN\"\n            ],\n            \"expandTopLevel\": true\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"35\",\n      \"name\": \"query - 29 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where SourceIP \u003c\u003e \\\"\\\"\\r\\n| where FQDN == \\\"{FullName:label}\\\" or '{FullName}' == \\\"*\\\"\\r\\n| summarize count() by SourceIP, SubscriptionId\\r\\n| sort by count_\",\n        \"size\": 0,\n        \"title\": \"SourceIP Address, filterable: Query Time({$queryTime})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportedParameters\": [\n          {\n            \"fieldName\": \"SourceIP\",\n            \"parameterName\": \"InvestigateIP\",\n            \"parameterType\": 1,\n            \"defaultValue\": \"privateIPAddress\"\n          },\n          {\n            \"fieldName\": \"SourceIP\",\n            \"parameterName\": \"InvestigateIPWC\",\n            \"parameterType\": 1,\n            \"defaultValue\": \"*\"\n          },\n          {\n            \"fieldName\": \"SubscriptionId\",\n            \"parameterName\": \"SelectedSubscriptionId\",\n            \"parameterType\": 1,\n            \"defaultValue\": \"-\"\n          }\n        ],\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SubscriptionId\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"filter\": true\n        },\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 4,\n            \"formatOptions\": {\n              \"palette\": \"orange\"\n            },\n            \"numberFormat\": {\n              \"unit\": 0,\n              \"options\": {\n                \"style\": \"decimal\",\n                \"useGrouping\": false\n              }\n            }\n          },\n          \"showBorder\": true,\n          \"size\": \"auto\"\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"15\",\n      \"name\": \"query - 33\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"Resources\\r\\n| where type =~ 'microsoft.network/networkinterfaces'\\r\\n| where properties contains \\\"{InvestigateIP}\\\"\\r\\n| extend NSG = properties['networkSecurityGroup']['id']\\r\\n| parse NSG with \\\"/subscriptions/\\\" NetworkSecurityGroup_Sub \\\"/resourceGroups/\\\" NetworkSecurityGroup_rg \\\"/providers/Microsoft.Network/networkSecurityGroups/\\\" NetworkSecurityGroup_Name\\r\\n| project id, PrivateIPAddress = tostring(properties['ipConfigurations'][0]['properties']['privateIPAddress']),  PublicIPAddress = tostring(properties['ipConfigurations'][0]['properties']['publicIPAddress']['id']), VirtualMachine = tostring(properties['virtualMachine']['id']), subnet = tostring(properties['ipConfigurations'][0]['properties']['subnet']['id']), NetworkSecurityGroup = NetworkSecurityGroup_Name, properties, subscriptionId, tenantId\",\n        \"size\": 0,\n        \"title\": \"SourceIPAddress Resource Lookup: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"exportFieldName\": \"id\",\n        \"exportParameterName\": \"Testid\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 1,\n        \"resourceType\": \"microsoft.resourcegraph/resources\",\n        \"crossComponentResources\": [\n          \"value::selected\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"properties\",\n              \"formatter\": 5\n            }\n          ],\n          \"filter\": true\n        },\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 4,\n            \"formatOptions\": {\n              \"palette\": \"orange\"\n            },\n            \"numberFormat\": {\n              \"unit\": 0,\n              \"options\": {\n                \"style\": \"decimal\",\n                \"useGrouping\": false\n              }\n            }\n          },\n          \"showBorder\": true,\n          \"size\": \"auto\"\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 33 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\" and msg_s !has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where SourceIP == \\\"{InvestigateIPWC:label}\\\" or '{InvestigateIPWC}' == \\\"*\\\"\\r\\n| where FQDN == \\\"{FullName:label}\\\" or '{FullName}' == \\\"*\\\"\\r\\n| summarize by TimeGenerated, FQDN, Protocol, Action, SourceIP, SourcePort, DestinationPort , ResourceId , ResourceGroup , RuleCollection, Rule, WebCategory, SubscriptionId\\r\\n\\r\\n\\r\\n\",\n        \"size\": 0,\n        \"title\": \"FQDN Lookup logs: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"100\",\n      \"name\": \"query - 33\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName == \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where msg_s contains \\\"{InvestigateIPWC:label}\\\" or '{InvestigateIPWC}' == \\\"*\\\"\\r\\n| where msg_s \u003c\u003e \\\" request from  to . Action: . ThreatIntel: \\\"\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url: \\\" Url \\\". Action: \\\" Action \\\". ThreatIntel: \\\" ThreatIntelMsg\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". ThreatIntel: \\\" ThreatIntelMsg\\r\\n)\\r\\n| summarize by TimeGenerated, Protocol, SourceIP, SourcePort, FQDN, DestinationPort, Url, Action, ThreatIntelMsg\",\n        \"size\": 0,\n        \"title\": \"Azure Firewall Threat Intel: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There is no Azure Firewall Threat Intel for your filtered results\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"sortBy\": [\n            {\n              \"itemKey\": \"TimeGenerated\",\n              \"sortOrder\": 1\n            }\n          ]\n        },\n        \"sortBy\": [\n          {\n            \"itemKey\": \"TimeGenerated\",\n            \"sortOrder\": 1\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"name\": \"query - 29\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where msg_s contains \\\"{InvestigateIPWC:label}\\\" or '{InvestigateIPWC}' == \\\"*\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| summarize by TimeGenerated, SignatureID, Message, Priority, Classification, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, Resource\\r\\n| evaluate ipv4_lookup (geoData, DestIP,  network, false)\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Azure Firewall Premium with GeoLocation- IDPS: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"$gen_group\",\n              \"formatter\": 0,\n              \"formatOptions\": {\n                \"customColumnWidthSetting\": \"60ch\"\n              }\n            },\n            {\n              \"columnMatch\": \"Message\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"country_name\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"$gen_group\",\n              \"formatter\": 0,\n              \"formatOptions\": {\n                \"customColumnWidthSetting\": \"60ch\"\n              }\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"Message\",\n              \"country_name\"\n            ],\n            \"expandTopLevel\": true\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"name\": \"query - 58\"\n    }\n  ],\n  \"fallbackResourceIds\": [\n    \"Azure Monitor\"\n  ],\n  \"fromTemplateId\": \"sentinel-UserWorkbook\",\n  \"$schema\": \"https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json\"\n}\n",
            "response_body_base64": "ewogICJ2ZXJzaW9uIjogIk5vdGVib29rLzEuMCIsCiAgIml0ZW1zIjogWwogICAgewogICAgICAidHlwZSI6IDEsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJqc29uIjogIiMjIEF6dXJlIEZpcmV3YWxsIFdvcmtib29rXHJcbi0tLVxyXG4iCiAgICAgIH0sCiAgICAgICJuYW1lIjogInRleHQgLSAyMyIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMTEsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIkxpbmtJdGVtLzEuMCIsCiAgICAgICAgInN0eWxlIjogInRhYnMiLAogICAgICAgICJsaW5rcyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgImlkIjogIjIwODQ3Y2U4LTkxYmMtNGQ4Yi1iODc4LWE1YTQxYzk1YzMxYyIsCiAgICAgICAgICAgICJjZWxsVmFsdWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICAgICAibGlua1RhcmdldCI6ICJwYXJhbWV0ZXIiLAogICAgICAgICAgICAibGlua0xhYmVsIjogIkF6dXJlIEZpcmV3YWxsIE92ZXJ2aWV3IiwKICAgICAgICAgICAgInN1YlRhcmdldCI6ICJBRk92ZXJ2aWV3IiwKICAgICAgICAgICAgInByZVRleHQiOiAiQXp1cmUgRmlyZXdhbGwgT3ZlcnZpZXciLAogICAgICAgICAgICAic3R5bGUiOiAibGluayIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJpZCI6ICJmNTY0NzA5ZC0xNjU4LTQ2YTEtOGI0NC04OTIyMTBlMTMwMTciLAogICAgICAgICAgICAiY2VsbFZhbHVlIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAgICAgImxpbmtUYXJnZXQiOiAicGFyYW1ldGVyIiwKICAgICAgICAgICAgImxpbmtMYWJlbCI6ICJBenVyZSBGaXJld2FsbCAtIEFwcGxpY2F0aW9uIHJ1bGUgbG9nIHN0YXRpc3RpY3MiLAogICAgICAgICAgICAic3ViVGFyZ2V0IjogIkFGQXBwUnVsZSIsCiAgICAgICAgICAgICJzdHlsZSI6ICJsaW5rIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgImlkIjogIjFmNjY2MWUyLWY4NzMtNGQ1Ni04NzlkLTRkMDg1ZDhjZjFkNCIsCiAgICAgICAgICAgICJjZWxsVmFsdWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICAgICAibGlua1RhcmdldCI6ICJwYXJhbWV0ZXIiLAogICAgICAgICAgICAibGlua0xhYmVsIjogIkF6dXJlIEZpcmV3YWxsIC0gTmV0d29yayBydWxlIGxvZyBzdGF0aXN0aWNzIiwKICAgICAgICAgICAgInN1YlRhcmdldCI6ICJBRk5ldFJ1bGUiLAogICAgICAgICAgICAic3R5bGUiOiAibGluayIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJpZCI6ICJlZjE1NDhjNS1lZjU1LTRlYWEtOGE4MS1iMDQ5Y2I5M2I1NmMiLAogICAgICAgICAgICAiY2VsbFZhbHVlIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAgICAgImxpbmtUYXJnZXQiOiAicGFyYW1ldGVyIiwKICAgICAgICAgICAgImxpbmtMYWJlbCI6ICJBenVyZSBGaXJld2FsbCAtIEROUyBQcm94eSIsCiAgICAgICAgICAgICJzdWJUYXJnZXQiOiAiQUZETlNQcm94eSIsCiAgICAgICAgICAgICJzdHlsZSI6ICJsaW5rIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgImlkIjogIjE4YTRhNTg1LTIxNzYtNGQ5Zi05MDdjLThlOGQ1Zjk4NGVmYSIsCiAgICAgICAgICAgICJjZWxsVmFsdWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICAgICAibGlua1RhcmdldCI6ICJwYXJhbWV0ZXIiLAogICAgICAgICAgICAibGlua0xhYmVsIjogIkF6dXJlIEZpcmV3YWxsIFByZW1pdW0gLSBJRFBTIiwKICAgICAgICAgICAgInN1YlRhcmdldCI6ICJBRklEU0lQUyIsCiAgICAgICAgICAgICJzdHlsZSI6ICJsaW5rIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgImlkIjogIjk3ZGM3MzY0LTk2MWQtNGMxOS1hNzMwLTdiOTAyNGY0NmI5MSIsCiAgICAgICAgICAgICJjZWxsVmFsdWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICAgICAibGlua1RhcmdldCI6ICJwYXJhbWV0ZXIiLAogICAgICAgICAgICAibGlua0xhYmVsIjogIkF6dXJlIEZpcmV3YWxsIC0gSW52ZXN0aWdhdGlvbiIsCiAgICAgICAgICAgICJzdWJUYXJnZXQiOiAiQUZJbnZlc3RpZ2F0ZSIsCiAgICAgICAgICAgICJzdHlsZSI6ICJsaW5rIgogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgIm5hbWUiOiAibGlua3MgLSAyNCIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogOSwKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsUGFyYW1ldGVySXRlbS8xLjAiLAogICAgICAgICJwYXJhbWV0ZXJzIjogWwogICAgICAgICAgewogICAgICAgICAgICAiaWQiOiAiYWI3ZDZjNTEtZDdkZi00MzZjLTk2YTItNDI5MTYzYWE1MGVjIiwKICAgICAgICAgICAgInZlcnNpb24iOiAiS3FsUGFyYW1ldGVySXRlbS8xLjAiLAogICAgICAgICAgICAibmFtZSI6ICJUaW1lUmFuZ2UiLAogICAgICAgICAgICAidHlwZSI6IDQsCiAgICAgICAgICAgICJpc1JlcXVpcmVkIjogdHJ1ZSwKICAgICAgICAgICAgImlzR2xvYmFsIjogdHJ1ZSwKICAgICAgICAgICAgInZhbHVlIjogewogICAgICAgICAgICAgICJkdXJhdGlvbk1zIjogNzc3NjAwMDAwMAogICAgICAgICAgICB9LAogICAgICAgICAgICAidHlwZVNldHRpbmdzIjogewogICAgICAgICAgICAgICJzZWxlY3RhYmxlVmFsdWVzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAiZHVyYXRpb25NcyI6IDMwMDAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgImR1cmF0aW9uTXMiOiA5MDAwMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICJkdXJhdGlvbk1zIjogMTgwMDAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgImR1cmF0aW9uTXMiOiAzNjAwMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAiZHVyYXRpb25NcyI6IDE0NDAwMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAiZHVyYXRpb25NcyI6IDQzMjAwMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAiZHVyYXRpb25NcyI6IDg2NDAwMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAiZHVyYXRpb25NcyI6IDE3MjgwMDAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgImR1cmF0aW9uTXMiOiAyNTkyMDAwMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICJkdXJhdGlvbk1zIjogNjA0ODAwMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAiZHVyYXRpb25NcyI6IDEyMDk2MDAwMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICJkdXJhdGlvbk1zIjogMjQxOTIwMDAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgImR1cmF0aW9uTXMiOiAyNTkyMDAwMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAiZHVyYXRpb25NcyI6IDUxODQwMDAwMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICJkdXJhdGlvbk1zIjogNzc3NjAwMDAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgImFsbG93Q3VzdG9tIjogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgImlkIjogImFkZDkwZWIzLWZmNWYtNGIxOS05NjU4LWZmMTVjODA0M2FmNSIsCiAgICAgICAgICAgICJ2ZXJzaW9uIjogIktxbFBhcmFtZXRlckl0ZW0vMS4wIiwKICAgICAgICAgICAgIm5hbWUiOiAiV29ya3NwYWNlcyIsCiAgICAgICAgICAgICJ0eXBlIjogNSwKICAgICAgICAgICAgImlzUmVxdWlyZWQiOiB0cnVlLAogICAgICAgICAgICAibXVsdGlTZWxlY3QiOiB0cnVlLAogICAgICAgICAgICAicXVvdGUiOiAiJyIsCiAgICAgICAgICAgICJkZWxpbWl0ZXIiOiAiLCIsCiAgICAgICAgICAgICJxdWVyeSI6ICJ3aGVyZSB0eXBlID1+ICdtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzJ1xyXG58IHByb2plY3QgaWQsIG5hbWVcclxufCBvcmRlciBieSBuYW1lIGRlc2MiLAogICAgICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAgICAgInZhbHVlOjpzZWxlY3RlZCIKICAgICAgICAgICAgXSwKICAgICAgICAgICAgInZhbHVlIjogWwogICAgICAgICAgICAgICJ2YWx1ZTo6MTAwIgogICAgICAgICAgICBdLAogICAgICAgICAgICAidHlwZVNldHRpbmdzIjogewogICAgICAgICAgICAgICJhZGRpdGlvbmFsUmVzb3VyY2VPcHRpb25zIjogWwogICAgICAgICAgICAgICAgInZhbHVlOjoxMDAiCiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICAicXVlcnlUeXBlIjogMSwKICAgICAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQucmVzb3VyY2VncmFwaC9yZXNvdXJjZXMiCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAiaWQiOiAiNTA4NGUxNDEtNmM1Ni00ZDdmLWJkOGEtMDlmN2VmOWFmMWJjIiwKICAgICAgICAgICAgInZlcnNpb24iOiAiS3FsUGFyYW1ldGVySXRlbS8xLjAiLAogICAgICAgICAgICAibmFtZSI6ICJSZXNvdXJjZSIsCiAgICAgICAgICAgICJsYWJlbCI6ICJBenVyZSBGaXJld2FsbHMiLAogICAgICAgICAgICAidHlwZSI6IDUsCiAgICAgICAgICAgICJpc1JlcXVpcmVkIjogdHJ1ZSwKICAgICAgICAgICAgIm11bHRpU2VsZWN0IjogdHJ1ZSwKICAgICAgICAgICAgInF1b3RlIjogIiciLAogICAgICAgICAgICAiZGVsaW1pdGVyIjogIiwiLAogICAgICAgICAgICAicXVlcnkiOiAid2hlcmUgdHlwZSA9fiAnTWljcm9zb2Z0Lk5ldHdvcmsvYXp1cmVGaXJld2FsbHMnXHJcbnwgcHJvamVjdCBpZCwgbmFtZSIsCiAgICAgICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICAgICAidmFsdWU6OnNlbGVjdGVkIgogICAgICAgICAgICBdLAogICAgICAgICAgICAidmFsdWUiOiBbCiAgICAgICAgICAgICAgInZhbHVlOjphbGwiCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJ0eXBlU2V0dGluZ3MiOiB7CiAgICAgICAgICAgICAgImFkZGl0aW9uYWxSZXNvdXJjZU9wdGlvbnMiOiBbCiAgICAgICAgICAgICAgICAidmFsdWU6OmFsbCIKICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJxdWVyeVR5cGUiOiAxLAogICAgICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5yZXNvdXJjZWdyYXBoL3Jlc291cmNlcyIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJpZCI6ICIxM2Q5ZjZlOS05MjkwLTRiMWUtYjBkMC1hN2MwZWJkYzFhZWQiLAogICAgICAgICAgICAidmVyc2lvbiI6ICJLcWxQYXJhbWV0ZXJJdGVtLzEuMCIsCiAgICAgICAgICAgICJuYW1lIjogIkhlbHAiLAogICAgICAgICAgICAibGFiZWwiOiAiU2hvdyBIZWxwIiwKICAgICAgICAgICAgInR5cGUiOiAxMCwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoaXMgd2lsbCBzaG93IHNvbWUgaGVscCBpbmZvcm1hdGlvbiB0byBoZWxwIHlvdSB1bmRlcnN0YW5kIHRoZSBwYWdlIHlvdSBhcmUgb24iLAogICAgICAgICAgICAiaXNSZXF1aXJlZCI6IHRydWUsCiAgICAgICAgICAgICJ0eXBlU2V0dGluZ3MiOiB7CiAgICAgICAgICAgICAgImFkZGl0aW9uYWxSZXNvdXJjZU9wdGlvbnMiOiBbXQogICAgICAgICAgICB9LAogICAgICAgICAgICAianNvbkRhdGEiOiAiW1xyXG4geyBcInZhbHVlXCI6IFwiWWVzXCIsIFwibGFiZWxcIjogXCJZZXNcIn0sXHJcbiB7XCJ2YWx1ZVwiOiBcIk5vXCIsIFwibGFiZWxcIjogXCJOb1wiLCBcInNlbGVjdGVkXCI6dHJ1ZSB9LFxyXG4geyBcInZhbHVlXCI6IFwiQ2hhbmdlIExvZ1wiLCBcImxhYmVsXCI6IFwiQ2hhbmdlIExvZ1wifVxyXG5dIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgImlkIjogIjY4ZjJjYjMyLTAzZDQtNDMwNy04ZWI1LTFmNjZkZmMwOWE4NSIsCiAgICAgICAgICAgICJ2ZXJzaW9uIjogIktxbFBhcmFtZXRlckl0ZW0vMS4wIiwKICAgICAgICAgICAgIm5hbWUiOiAiRmlyZXdhbGxSZXNvdXJjZXMiLAogICAgICAgICAgICAibGFiZWwiOiAiU2hvdyBSZXNvdXJjZXMiLAogICAgICAgICAgICAidHlwZSI6IDIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgaXMgb25seSB1c2VkIG9uIHRoZSBPdmVydmlldyBwYWdlLiIsCiAgICAgICAgICAgICJ0eXBlU2V0dGluZ3MiOiB7CiAgICAgICAgICAgICAgImFkZGl0aW9uYWxSZXNvdXJjZU9wdGlvbnMiOiBbXSwKICAgICAgICAgICAgICAic2hvd0RlZmF1bHQiOiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICAianNvbkRhdGEiOiAiW1xyXG4geyBcInZhbHVlXCI6IFwiWWVzXCIsIFwibGFiZWxcIjogXCJZZXNcIiwgXCJzZWxlY3RlZFwiOnRydWV9LFxyXG4ge1widmFsdWVcIjogXCJOb1wiLCBcImxhYmVsXCI6IFwiTm9cIiB9XHJcbl0iLAogICAgICAgICAgICAidmFsdWUiOiAiTm8iCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAiaWQiOiAiNTNhYThkYWYtMjlkZS00MGExLTkxNDctYzA5NzBlMzJmYWM0IiwKICAgICAgICAgICAgInZlcnNpb24iOiAiS3FsUGFyYW1ldGVySXRlbS8xLjAiLAogICAgICAgICAgICAibmFtZSI6ICJHZW9Mb2NhdGlvbiIsCiAgICAgICAgICAgICJsYWJlbCI6ICJHZW9Mb2NhdGlvbkNTViIsCiAgICAgICAgICAgICJ0eXBlIjogMiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlN1cHBsaWVkIGFzIGEgdmFsdWUgZm9yIEdlb0xvY2F0aW9uIGxvb2t1cCBvbiBxdWVyaWVzOiBSZWFkIG1vcmUgaGVyZSAtIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2RhdGEtZXhwbG9yZXIva3VzdG8vcXVlcnkvaXB2NC1sb29rdXAtcGx1Z2luI2lwdjQtbG9va3VwLS0tbWF0Y2hpbmctcm93cy1vbmx5IiwKICAgICAgICAgICAgInR5cGVTZXR0aW5ncyI6IHsKICAgICAgICAgICAgICAiYWRkaXRpb25hbFJlc291cmNlT3B0aW9ucyI6IFtdLAogICAgICAgICAgICAgICJzaG93RGVmYXVsdCI6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJqc29uRGF0YSI6ICJcclxuW1xyXG57XHJcblwidmFsdWVcIjogXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGF0YXNldHMvZ2VvaXAyLWlwdjQvbWFzdGVyL2RhdGEvZ2VvaXAyLWlwdjQuY3N2XCIsIFwibGFiZWxcIjogXCJHZW9Mb2NhdGlvbkRlZmF1bHRcIiwgXCJzZWxlY3RlZFwiOiBcInRydWVcIiAgXHJcbn1cclxuXVxyXG5cclxuIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInN0eWxlIjogInBpbGxzIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiCiAgICAgIH0sCiAgICAgICJuYW1lIjogInBhcmFtZXRlcnMgLSAxIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAxMiwKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiTm90ZWJvb2tHcm91cC8xLjAiLAogICAgICAgICJncm91cFR5cGUiOiAiZWRpdGFibGUiLAogICAgICAgICJpdGVtcyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgInR5cGUiOiAxLAogICAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgICAianNvbiI6ICIjIyMgT3ZlcnZpZXcgLSBDaGFuZ2UgTG9nXHJcbnxWZXJzaW9ufERlc2NyaXB0aW9ufFxyXG58LS0tfC0tLXxcclxufHYxLjBcdHxJbml0aWFsIFZlcnNpb258XHJcbnxWMS4xLjBcdHxTcGxpdCB1cCB0aGUgZGF0YSBzZXRzLCBPdmVydmlldywgQXBwbGljYXRpb24gUnVsZSBMb2dzLCBOZXR3b3JrIFJ1bGUgTG9ncywgRE5TIFByb3h5IExvZ3MuIEFkZGVkIGluIEludmVzdGlnYXRpb24gdmlzaWJpbGl0eSB3aXRoIEF6dXJlIEZpcmV3YWxsICsgQXp1cmUgR3JhcGguIEFkZGVkIGluIHZpc2liaWxpdHkgdG8gbXVsdGlwbGUgd29ya3NwYWNlcyBhbmQgZmlsdGVyaW5nIHRvIEZpcmV3YWxsIHJlc291cmNlcy4gfFxyXG58VjEuMi4wIHwgQWRkZWQgbmV3IGZpbHRlcmVzLCBcIlNob3cgSGVscFwiLCBcIlNob3cgUmVzb3VyY2VzXCIsIFwiR2VvTG9jYXRpb25DU1ZcIiwgVXBkYXRlZCBxdWVyeSBwYXJzaW5nIHRvIHRoZSBPdmVydmlldyBxdWVyaWVzLiBJbXByb3ZlZCBvdmVyYWxsIHBlcmZvcm1hbmNlIGluIGxhcmdlIGRhdGEgc2NhbGUgcGVyZm9ybWFuY2Ugd2l0aCBuZXcgcGFyc2luZyByZXF1aXJlbWVudHMuIgogICAgICAgICAgICB9LAogICAgICAgICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXRpZXMiOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInBhcmFtZXRlck5hbWUiOiAiSGVscCIsCiAgICAgICAgICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICAgICAgICAgInZhbHVlIjogIkNoYW5nZSBMb2ciCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICAgICAgICAgInZhbHVlIjogIkFGT3ZlcnZpZXciCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICAibmFtZSI6ICJ0ZXh0IC0gNDAiCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAidHlwZSI6IDEsCiAgICAgICAgICAgICJjb250ZW50IjogewogICAgICAgICAgICAgICJqc29uIjogIiMjIyBBenVyZSBGaXJld2FsbCAtIEFwcCBSdWxlcyAtIENoYW5nZSBMb2dcclxufFZlcnNpb258RGVzY3JpcHRpb258XHJcbnwtLS18LS0tfFxyXG58djEuMC4wIHwgSW5pdGlhbCBWZXJzaW9uXHJcbnxWMS4yLjAgfCBBZGRlZCBpbiBuZXcgUXVlcmlyZXMgZm9yIEF6dXJlIEZpcmV3YWxsIGZlYXR1cmVzLCBwYXJzaW5nIGlzIG5vdyB1c2VkIGRpZmZlcmVudGx5LiBBZGRlZCBXZWIgQ2F0ZWdvcnkuIgogICAgICAgICAgICB9LAogICAgICAgICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXRpZXMiOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJBRkFwcFJ1bGUiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJIZWxwIiwKICAgICAgICAgICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiAiQ2hhbmdlIExvZyIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJuYW1lIjogInRleHQgLSA2MyIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJ0eXBlIjogMSwKICAgICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICAgImpzb24iOiAiIyMjIEF6dXJlIEZpcmV3YWxsIC0gTmV0d29yayBSdWxlIC0gQ2hhbmdlIExvZ1xyXG58VmVyc2lvbnxEZXNjcmlwdGlvbnxcclxufC0tLXwtLS18XHJcbnxWMS4wLjAgfCBJbml0aWFsIFZlcnNpb25cclxufFYxLjIuMCB8IEFkZGVkIGluIG5ldyBRdWVyaXJlcyBmb3IgQXp1cmUgRmlyZXdhbGwgZmVhdHVyZXMsIHBhcnNpbmcgaXMgbm93IHVzZWQgZGlmZmVyZW50bHkuIEFkZGVkIGluIEdlb0xvY2F0aW9uIHF1ZXJpZXMsIHVwZGF0ZWQgbWFpbiBxdWVyeSB0byB1c2UgR2VvTG9jYXRpb24gZGF0YS4iCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdGllcyI6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJIZWxwIiwKICAgICAgICAgICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiAiQ2hhbmdlIExvZyIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAgICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiAiQUZOZXRSdWxlIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgIm5hbWUiOiAidGV4dCAtIDY0IgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgInR5cGUiOiAxLAogICAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgICAianNvbiI6ICIjIyMgQXp1cmUgRmlyZXdhbGwgLSBETlNQcm94eSAtIENoYW5nZSBMb2dcclxufFZlcnNpb258RGVzY3JpcHRpb258XHJcbnwtLS18LS0tfFxyXG58VjEuMS4wIHwgSW5pdGlhbCBWZXJzaW9uXHJcbnxWMS4yLjAgfCBObyBtb2RpZmljYXRpb25zIHdlcmUgbWFkZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0aWVzIjogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJwYXJhbWV0ZXJOYW1lIjogIkhlbHAiLAogICAgICAgICAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJDaGFuZ2UgTG9nIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJBRkROU1Byb3h5IgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgIm5hbWUiOiAidGV4dCAtIDY1IgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgInR5cGUiOiAxLAogICAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgICAianNvbiI6ICIjIyMgQXp1cmUgRmlyZXdhbGwgUHJlbSAtIElEUFMgLSBDaGFuZ2UgTG9nXHJcbnxWZXJzaW9ufERlc2NyaXB0aW9ufFxyXG58LS0tfC0tLXxcclxufFYxLjIuMCB8IEluaXRpYWwgVmVyc2lvbiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0aWVzIjogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAgICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiAiQUZJRFNJUFMiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJIZWxwIiwKICAgICAgICAgICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiAiQ2hhbmdlIExvZyIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJuYW1lIjogInRleHQgLSA2NiIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJ0eXBlIjogMSwKICAgICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICAgImpzb24iOiAiIyMjIEF6dXJlIEZpcmV3YWxsIFByZW0gLSBJRFBTIC0gQ2hhbmdlIExvZ1xyXG58VmVyc2lvbnxEZXNjcmlwdGlvbnxcclxufC0tLXwtLS18XHJcbnxWMS4wLjAgfCBJbml0aWFsIFZlcnNpb25cclxufFYxLjIuMCB8IEFkZGVkIElEUFMgTG9ncyB0byB0aGUgaW52ZXN0Z2F0aW9uIGV4cGVyaWVuY2UsIEFkZGVkIGluIEdlb0xvY2F0aW9uIGluZnJvbWF0aW9uLiBVcGRhdGVkIHRoZSBLUUwgbG9naWMgdG8gYmUgZmFzdGVyIGZvciBsYXJnZSBkYXRhIHZvbHVtZS4iCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdGllcyI6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJIZWxwIiwKICAgICAgICAgICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiAiQ2hhbmdlIExvZyIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAgICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiAiQUZJbnZlc3RpZ2F0ZSIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJuYW1lIjogInRleHQgLSA2NyIKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgICJuYW1lIjogIkNoYW5nZUxvZ0dyb3VwIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAxMiwKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiTm90ZWJvb2tHcm91cC8xLjAiLAogICAgICAgICJncm91cFR5cGUiOiAiZWRpdGFibGUiLAogICAgICAgICJpdGVtcyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgInR5cGUiOiAxLAogICAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgICAianNvbiI6ICIjIyMjIyBXaGF0J3Mgb24gdGhpcyBwYWdlP1xyXG5cclxuVGhlIEF6dXJlIEZpcmV3YWxsIC0gT3ZlcnZpZXcgcGFnZSBoYXMgdGhlIGZvbGxvd2luZyBmZWF0dXJlcy5cclxuXHJcbi0gQWxsIEZpcmV3YWxsIERhdGEgTG9nIEFuYWx5dGljcyBWb2x1bWUgKFRvdGFsKVxyXG4tIEFsbCBGaXJld2FsbCBEYXRhIExvZyBBbmFseXRpY3MgVm9sdW1lIChQZXIgRmlyZXdhbGwpXHJcbi0gQWxsIEZpcmV3YWxsIEV2ZW50IENhdGVnb3JpZXNcclxuLSBBbGwgRmlyZXdhbGwgRXZlbnQgQ2F0ZWdvcmllcyBvdmVyIHRpbWVcclxuLSBBenVyZSBGaXJld2FsbCBNZXRyaWNzIGRhdGFcclxuICAtIFRyYWZmaWNcclxuICAtIFNOQVQgUG9ydFxyXG4gIC0gTmV0d29yayBSdWxlIENvdW50XHJcbiAgLSBBcHBsaWNhdGlvbiBSdWxlIENvdW50XHJcblxyXG4jIyMjIyBIb3cgdG8gdXNlIHRoaXMgcGFnZT9cclxuXHJcblN0YXJ0IGJ5IGxvb2tpbmcgYXQgdGhlIHdvcmtib29rIGZpbHRlcnMsIGV4YW1wbGVzIHdvdWxkIGJlIFRpbWVSYW5nZSwgV29ya3NwYWNlLCBBenVyZSBGaXJld2FsbC4gTm90ZSB0aGVzZSBhcmUgZmlsdGVyZWQgYmFzZWQgb24geW91ciBhenVyZSBwb3J0YWwgc2V0dGluZ3Mgb2YgXCJEZWZhdWx0IHN1YnNjcmlwdGlvbiBmaWx0ZXJcIi4gU2VsZWN0aW5nIG1vcmUgcmVzb3VyY2VzIG9yIG1vcmUgd29ya3NwYWNlcyBoYXMgYW4gaW1wYWN0IG9uIHNwZWVkIG9mIHJlc3VsdHMgZGVwZW5kaW5nIG9uIHRoZSBkYXRhIHZvbHVtZSBvZiB5b3VyIHdvcmtzcGFjZXMuIFdoeSBUaW1lUmFuZ2UgaXMgYSBsYXJnZSBmYWN0b3Igd2hlbiBsb29raW5nIGF0IGxvb2tpbmcgYXQgZXh0cmVtZWx5IGxhcmdlIGRhdGEgc2V0cyBvZiB2b2x1bWUoZXhhbXBsZSBvdmVyIDEgQmlsbGlvbiBsb2dzKSBzbyBtdWx0aXBsZSBmaWx0ZXJzIGhhdmUgYmVlbiBvZmZlcmVkIHRvIGZpbmV0dW5lIHRoZSByZXN1bHRzIHdpdGhvdXQgaGF2aW5nIHRvIGJ1aWxkIHlvdXIgb3duIHF1ZXJpZXMuXHJcblxyXG5JZiB0aGlzIGlzIHlvdXIgZmlyc3QgdGltZSBsb29raW5nIGF0IHRoaXMgd29ya2Jvb2ssIG15IHN1Z2dlc3Rpb24gaXMgdG8gdXNlIDE0IGRheXModGhpcyBpcyB0aGUgZmFzdGVzdCBjYWNoZWQgZGF0YSBpbiBMb2cgQW5hbHl0aWNzKSwgYSBzaW5nbGUgd29ya3NwYWNlLCBhIHNpbmdsZSBmaXJld2FsbCwgaWYgeW91J3JlIHdhbnRpbmcgdG8gc2VlIHRoZSByZXN1bHRzIG9mIG9uZSBmaXJld2FsbC4gQmVzdCB0byBrbm93IHdoZXJlIHlvdXIgZmlyZXdhbGwgaXMgc2VuZGluZyBpdCdzIGxvZ3MgdG9vIHRvIGNvbmZpcm0geW91IGRpZG4ndCBzZWxlY3QgYSB3b3Jrc3BhY2UgdGhhdCBkb2Vzbid0IGhhdmUgdGhhdCBmaXJld2FsbHMgZGF0YS4gSG93IHRvIGNoZWNrLCBnbyB0byB0aGUgQXp1cmUgRmlyZXdhbGwsIGNsaWNrIERpYWdub3N0aWMgc2V0dGluZ3MsIHNlZSB3aGF0IExvZyBBbmFseXRpY3Mgd29ya3NwYWNlIGlzIGN1cnJlbnRseSBjb25maWd1cmVkLlxyXG5cclxuIyMjIyMgV2hhdCdzIHJlcXVpcmVkIGZvciB0aGlzIHdvcmtib29rIHRvIGZ1bmN0aW9uP1xyXG5cclxuLSBBenVyZSBGaXJld2FsbCBEaWFnbm9zdGljIHNldHRpbmdzIGVuYWJsZWQsIGFuZCBzZW5kaW5nIHRvIHdvcmtzcGFjZSB5b3VyIGF6dXJlIGFkIHVzZXIgaGFkIFJCQUMgcGVybWlzc2lvbnMgdG8uIFlvdSBuZWVkIGEgbWluaW11bSBvZiByZWFkIHJpZ2h0cyB0byB0aGUgQXp1cmVEaWFnbm9zdGljcyB0YWJsZSB3aXRoaW4gdGhlIExvZyBBbmFseXRpY3Mgd29ya3NwYWNlLlxyXG4tIEF6dXJlIE1ldHJpY3MgcmVxdWlyZXMgcmVzb3VyY2UgcGVybWlzc2lvbnMgb2YgdGhlIEZpcmV3YWxsIHlvdSdyZSB3YW50aW5nIGRhdGEgb24uICIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAgICAgICAidmFsdWUiOiAiQUZPdmVydmlldyIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgIm5hbWUiOiAidGV4dCAtIDU5IgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgInR5cGUiOiAxLAogICAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgICAianNvbiI6ICIjIyMjIyBXaGF0J3Mgb24gdGhpcyBwYWdlP1xyXG5cclxuVGhlIEF6dXJlIEZpcmV3YWxsIC0gQXBwbGljYXRpb24gcnVsZSBsb2cgc3RhdGlzdGljcyBwYWdlIGhhcyB0aGUgZm9sbG93aW5nIGZlYXR1cmVzLlxyXG5cclxuQW55dGhpbmcgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIGZpbHRlciB3aXRoaW4gdGhlIHdvcmtib29rLCB5b3UnbGwgc2VlIGEgKiBuZXh0IHRvIGl0LiBJZiBpdCdzIGZpbHRlcmFibGUsIHRoaXMgbWVhbiB5b3UgY2FuIGNsaWNrIG9uIHNvbWV0aGluZyB3aXRoaW4gdGhlIGRhdGEgc2V0IHRoYXQgd2lsbCBiZSBwdXNoZWQgZG93biB0aGUgd29ya2Jvb2sgZm9yIG1vcmUgYWRkaXRpb25hbCBmaWx0ZXJpbmcuXHJcblxyXG4tIFVuaXF1ZSBTb3VyY2UgSVAgQWRkcmVzcypcclxuLSBBcHBsaWNhdGlvbiBSdWxlIFVzYWdlXHJcbi0gRGVuaWVkL0FsbG93ZWQgRlFETiBvdmVyIHRpbWVcclxuLSBEZW5pZWQvQWxsb3dlZCBGUUROIGNvdW50XHJcbi0gRGVuaWVkL0FsbG93ZWQgV2ViIENhdGVnb3JpZXMgb3ZlciB0aW1lXHJcbi0gRGVuaWVkL0FsbG93ZWQgV2ViIENhdGVnb3JpZXMgY291bnRcclxuLSBQcmUtcGFyc2VkIEF6dXJlIEZpcmV3YWxsIEFwcGxpY2F0aW9uIFJ1bGUgTG9ncyB3aXRoIGEgc2VhcmNoIGZlYXR1cmUuXHJcblxyXG4jIyMjIyBIb3cgdG8gdXNlIHRoaXMgcGFnZT9cclxuXHJcbklmICB5b3UncmUgbm90IGNvbWZvcnRhYmxlIHdpdGggdGhlIGZpbHRlcnMgb24gdGhpcyB3b3JrYm9vaywgbXkgc3VnZ2VzdGlvbiBpcyB0byB1c2UgdGhlIGdldC1oZWxwIG9uIHRoZSBvdmVydmlldyBwYWdlIHRvIGdldCBzdGFydGVkLlxyXG5cclxuU3RhcnRpbmcgb3V0IHlvdSdsbCBzZWUgdGhlIHVuaXF1ZSBzb3VyY2Ugb2YgSVAgYWRkcmVzc2VzIGJhc2VkIG9uIHRoZSBnbG9iYWwgZmlsdGVycyB5b3UgaGF2ZSBpbiBwbGFjZSwgdGhpcyBpcyBzaG93aW5nIG9ubHkgdGhlIHRvcCAxMCBJUEFkZHJlc3NlcywgeW91IGNhbiBtb2RpZnkgdGhlIEtRTCBxdWVyeSB0byBzaG93IG1vcmUgaWYgbmVlZGVkIGlmIHlvdSBjbGljayB0aGUgXCJFZGl0XCIgYnV0dG9uLiBXZSBhZGRlZCBpbiB0aGUgbG9naWMgdG8gc2hvdyB0aGUgdm9sdW1lIG92ZXIgdGltZSwgdW5kZXIgdGhlIElQIGFkZHJlc3MvY291bnQgaW5mb3JtYXRpb24uIElmIHlvdSBjbGljayBvbiB0aGUgaGlnaGVzdCBjb3VudCAobXkgZXhhbXBsZSBpcyA0MTUsNzg2IGNvdW50LCAxMC4wLjI0LjQgaXBhZGRyZXNzKSBpdCdsbCBmaWx0ZXIgZXZlcnl0aGluZyBvbiB0aGUgQXBwbGljYXRpb24gcnVsZSBsb2cgc3RhdGlzdGljIHBhZ2UgdG8gdGhpcyBJUCBhZGRyZXNzIHNwZWNpZmljYWxseS4gKE9ubHkgRXhjZXB0aW9uIGlzIHRoZSBSdWxlIFVzYWdlKS4gTm90ZSB0aGlzIGNvdWxkIGNhdXNlIG90aGVyIGRhdGEgc2V0cyB0byBiZWNvbWUgYmxhbmsgYXMgYSByZXN1bHQsIHNvbWV0aW1lcyB5b3Ugb25seSBoYXZlIEFwcHJvdmVkIG9yIERlbmllZCBhY2Nlc3MgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGZpcmV3YWxsLlxyXG5cclxuSWYgeW91J3JlIHdhbnRpbmcgdG8gc2VhcmNoIGZvciBzb21ldGhpbmcgYSBsaXR0bGUgbW9yZSBzcGVjaWZpYyBvdGhlciB0aGFuIElQQWRkcmVzcyBmaWx0ZXIsIHlvdSBjYW4gdXNlIHRoZSBcIlNlYXJjaFwiIGJhciB1bmRlciB0aGUgXCJBbGwgSVAgQWRkcmVzcyBldmVudHNcIiBxdWVyeSB0byBjcmVhdGUgYSBjdXN0b20gZmlsdGVyIHRvIHRoZSBwYXJzZWQgbG9ncy4gRXhhbXBsZSBjb3VsZCBiZSBhbiBGUUROIFwid2RjcC5taWNyb3NvZnQuY29tXCIgdG8gcHVsbCB1cCB0aG9zZSBsb2dzIHNwZWNpZmljYWxseSB3aXRoIHRoYXQgbmFtZSBpbiBpdC5cclxuXHJcbiMjIyMjIFdoYXQncyByZXF1aXJlZCBmb3IgdGhpcyB3b3JrYm9vayB0byBmdW5jdGlvbj9cclxuXHJcbi0gQXp1cmUgRmlyZXdhbGwgRGlhZ25vc3RpYyBzZXR0aW5ncyBlbmFibGVkLCBzcGVjaWZpY2FsbHkgcmVxdWlyZXMgQXBwbGljYXRpb24gRGlhZ25vc3RpYyBsb2dzIHRvIGJlIGVuYWJsZWQgZm9yIHRoZSB3b3Jrc3BhY2UuIFlvdSBuZWVkIGEgbWluaW11bSBvZiByZWFkIHJpZ2h0cyB0byB0aGUgQXp1cmVEaWFnbm9zdGljcyB0YWJsZSB3aXRoaW4gdGhlIExvZyBBbmFseXRpY3Mgd29ya3NwYWNlLiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAgICAgICAidmFsdWUiOiAiQUZBcHBSdWxlIgogICAgICAgICAgICB9LAogICAgICAgICAgICAibmFtZSI6ICJ0ZXh0IC0gMSIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJ0eXBlIjogMSwKICAgICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICAgImpzb24iOiAiIyMjIyMgV2hhdCdzIG9uIHRoaXMgcGFnZT9cclxuXHJcblRoZSBBenVyZSBGaXJld2FsbCAtIE5ldHdvcmsgcnVsZSBsb2cgc3RhdGlzdGljcyBwYWdlIGhhcyB0aGUgZm9sbG93aW5nIGZlYXR1cmVzLlxyXG5cclxuQW55dGhpbmcgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIGZpbHRlciB3aXRoaW4gdGhlIHdvcmtib29rLCB5b3UnbGwgc2VlIGEgKiBuZXh0IHRvIGl0LiBJZiBpdCdzIGZpbHRlcmFibGUsIHRoaXMgbWVhbiB5b3UgY2FuIGNsaWNrIG9uIHNvbWV0aGluZyB3aXRoaW4gdGhlIGRhdGEgc2V0IHRoYXQgd2lsbCBiZSBwdXNoZWQgZG93biB0aGUgd29ya2Jvb2sgZm9yIG1vcmUgYWRkaXRpb25hbCBmaWx0ZXJpbmcuXHJcblxyXG4tIFJ1bGUgQWN0aW9ucypcclxuXHJcbi0gVGFyZ2V0IFBvcnRzKlxyXG5cclxuLSBETkFUIEFjdGlvbnMqXHJcblxyXG4tIEdlb0xvY2F0aW9uXHJcblxyXG4tIEFjdGlvbnMgb3ZlciB0aW1lKFRpbWUgc2NydWIgZW5hYmxlZClcclxuXHJcbi0gUHJlLXBhcnNlZCBOZXR3b3JrIFJ1bGUgZGF0YSB3aXRoIEdlb0xvY2F0aW9uIGFkZGVkXHJcblxyXG4gICpOb3RlOiBHZW9Mb2NhdGlvbiBpcyB1c2luZyBhbiBwdWJsaWMgZmlsZSwgeW91IGhhdmUgdG8gbW9kaWZ5IHlvdXIgR2VvTG9jYXRpb24gR2xvYmFsIEZpbHRlciB0YWIgdG8gYWRkIHlvdXIgb3duIGRhdGEuKlxyXG5cclxuIyMjIyMgSG93IHRvIHVzZSB0aGlzIHBhZ2U/XHJcblxyXG5JZiAgeW91J3JlIG5vdCBjb21mb3J0YWJsZSB3aXRoIHRoZSBmaWx0ZXJzIG9uIHRoaXMgd29ya2Jvb2ssIG15IHN1Z2dlc3Rpb24gaXMgdG8gdXNlIHRoZSBnZXQtaGVscCBvbiB0aGUgb3ZlcnZpZXcgcGFnZSB0byBnZXQgc3RhcnRlZC5cclxuXHJcblN0YXJ0aW5nIG91dCB5b3UnbGwgZ2V0IHNlZSBwaWUgY2hhcnRzIG9uIHRoZSBzY3JlZW4sIGVhY2ggb2YgdGhlc2UgY2FuIGJlIGNsaWNrZWQgb24gdG8gZmlsdGVyIHRoZSBkYXRhIGJlbG93LiBZb3UnbGwgaGF2ZSB0byBjbGljayBvbiB0aGUgY29sb3Igb2YgdGhlIHdoZWVsIGluIG9yZGVyIHRvIHVzZSB0aGUgZmlsdGVyIGZlYXR1cmUuIERvd25mYWxsIG9mIHRoaXMsIGlmIGl0J3MgYW4gZXh0cmVtZWx5IHNtYWxsIGRhdGEgc2V0LCBpdHMgaGFyZCB0byBjbGljayBvbiB0aGF0IGNvbG9yIGR1ZSB0byB0aGUgY2hhbGxlbmdlIG9mIGV2ZW4gc2VlaW5nIGl0LiBUaGVzZSBmaWx0ZXJzIGFyZSBhIHRvcCBkb3duIGFwcHJvYWNoLCBtZWFuaW5nIHdoYXQgY2xpY2tlZCBvbiB0b3AsIGZpbHRlcnMgYmVsb3cuIElmIHlvdSdkIGxpa2UsIGZlZWwgZnJlZSB0byB0ZXN0IHRoaXMgb3V0IG5vdy4gVW5kZXIgXCJUYXJnZXQgUG9ydHMsIGZpbHRlcmFibGUgYnkgVGFyZ2V0IFBvcnRcIiBmaW5kIHBvcnQgNTMgKCBwcmV0dHkgY29tbW9uIHBvcnQpLiBDbGljayBvbiB0aGUgd2hlZWwgd2l0aCB0aGUgY29sb3IgdGhhdCdzIGFzc29jaWF0ZWQgdG8gcG9ydCA1My4gWW91J2xsIHNlZSBldmVyeXRoaW5nIGNoYW5nZSBiZWxvdyBvbmx5IHNob3dpbmcgZGF0YSB0aGF0IGhhcyBwb3J0IDUzIGFzc29jaWF0ZWQgdG8gaXQuIElmIHlvdSdkIGxpa2UgdG8gcmVtb3ZlIHRoaXMgZmlsdGVyIHlvdSBoYXZlIGEgZmV3IG9wdGlvbnMuIFxyXG5cclxuMS4gQ2xpY2sgdGhlIFwiR28gYmFja1wiIGF0IHRoZSB0b3AgcmlnaHQgb2YgdGhlIHdoZWVsXHJcbjIuIFJlZnJlc2ggdGhlIHdob2xlIHdvcmtib29rXHJcbjMuIFJlZnJlc2ggdGhlIHdob2xlIGJyb3dzZXIgd2luZG93XHJcblxyXG4qQSBub3RlIGFib3V0IHRoZSBuZXcgZmVhdHVyZSBhZGRlZCBcIkdlb0xvY2F0aW9uXCIsIHRoaXMgaXMgcHVibGljIGRhdGEgc2hhcmVkIHRocm91Z2ggdGhlIExvZyBBbmFseXRpY3MgZGV2ZWxvcGVyIHRlYW0gdG8gc2hvdyB0aGUgZmVhdHVyZSB0byBhc3NvY2lhdGUgSVAgYWRkcmVzc2VzIHdpdGggYSBHZW9Mb2NhdGlvbiBmaWxlLiBUaGlzIGhhZCBiZWVuIGFkZGVkIHRvIHRoZSB3b3JrYm9vayB0byBzaG93IHlvdSB3aGF0J3MgcG9zc2libGUsIGl0J3MgZW5jb3VyYWdlZCBmb3IgeW91IHRvIHVzZSB5b3VyIG93biBkYXRhIHdoaWNoIGNvdWxkIGJlIGZ1cnRoZXIgZW5yaWNoZWQuIElmIHlvdSBoYWQgTGF0L0xvbmcgZGF0YSwgeW91IGNvdWxkIGV2ZW4gYWRkIGluIGEgbWFwIGZlYXR1cmUgaW50byB0aGlzIHdvcmtib29rIHRvIHNob3cgeW91IHdoZXJlIHRoZSB0cmFmZmljIGlzIG1vc3RseS4qXHJcblxyXG5NaWQtd2F5IGRvd24gdGhlIHBhZ2UgeW91J2xsIHNlZSB0aGUgXCJBY3Rpb25zLCBieSB0aW1lXCIsIGlmIHdlIHNhdyBhIGxhcmdlIHNwaWtlIGFuZCB3YW50ZWQgdG8gbG93ZXIgdGhlIHdpbmRvdyBvZiB0cmFmZmljLCBzZWxlY3Qgb24gdGhlIGxlZnQgc2lkZSh3aGVyZSB5b3UncmUgd2FudGluZyB0byBzdGFydCwgYmVmb3JlIHRoZSBldmVudCBvY2N1cnJlZCkgZHJhZywgYW5kIG1vdmUgaXQgb3ZlciB0byB0aGUgcmlnaHQuIEV4YW1wbGUgTWFyY2ggMjR0aCAtIE1hcmNoIDI3dGguIFdoZW4gaSB3YXMgbG9va2luZyBvdmVyIDE0IGRheXMgb2YgdGltZS4gVGhpcyB3aWxsIGZpbHRlciB0aGUgXCJBbGwgSVAgQWRkcmVzc2VzIGV2ZW50c1wiIGRvd24gdG8gdGhpcyBuZXcgdGltZSB3aW5kb3cuXHJcblxyXG4jIyMjIyBXaGF0J3MgcmVxdWlyZWQgZm9yIHRoaXMgd29ya2Jvb2sgdG8gZnVuY3Rpb24/XHJcblxyXG4tIEF6dXJlIEZpcmV3YWxsIERpYWdub3N0aWMgc2V0dGluZ3MgZW5hYmxlZCwgc3BlY2lmaWNhbGx5IHJlcXVpcmVzIE5ldHdvcmsgRGlhZ25vc3RpYyBsb2dzIHRvIGJlIGVuYWJsZWQgZm9yIHRoZSB3b3Jrc3BhY2UuIFlvdSBuZWVkIGEgbWluaW11bSBvZiByZWFkIHJpZ2h0cyB0byB0aGUgQXp1cmVEaWFnbm9zdGljcyB0YWJsZSB3aXRoaW4gdGhlIExvZyBBbmFseXRpY3Mgd29ya3NwYWNlLiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAgICAgICAidmFsdWUiOiAiQUZOZXRSdWxlIgogICAgICAgICAgICB9LAogICAgICAgICAgICAibmFtZSI6ICJ0ZXh0IC0gMiIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJ0eXBlIjogMSwKICAgICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICAgImpzb24iOiAiIyMjIyMgV2hhdCdzIG9uIHRoaXMgcGFnZT9cclxuXHJcblRoZSBBenVyZSBGaXJld2FsbCAtIEROUyBQcm94eSBwYWdlIGhhcyB0aGUgZm9sbG93aW5nIGZlYXR1cmVzLlxyXG5cclxuQW55dGhpbmcgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIGZpbHRlciB3aXRoaW4gdGhlIHdvcmtib29rLCB5b3UnbGwgc2VlIGEgKiBuZXh0IHRvIGl0LiBJZiBpdCdzIGZpbHRlcmFibGUsIHRoaXMgbWVhbiB5b3UgY2FuIGNsaWNrIG9uIHNvbWV0aGluZyB3aXRoaW4gdGhlIGRhdGEgc2V0IHRoYXQgd2lsbCBiZSBwdXNoZWQgZG93biB0aGUgd29ya2Jvb2sgZm9yIG1vcmUgYWRkaXRpb25hbCBmaWx0ZXJpbmcuXHJcblxyXG4tIEROUyBUcmFmZmljIGJ5IGNvdW50IChUaW1lIHNjcnViIGVuYWJsZWQpXHJcbi0gRE5TIFByb3h5IGJ5IFJlcXVlc3QgTmFtZSwgYnkgQ291bnQqXHJcbi0gRE5TIFByb3h5IFJlcXVlc3QgYnkgQ2xpZW50SVAsIGJ5IENvdW50KlxyXG4tIENvdW50IG92ZXIgdGltZSBvZiBQcm94eSBSZXF1ZXN0cyBieSBDbGllbnRJUFxyXG4tIFByZS1wYXJzZWQgRE5TIFByb3h5IGRhdGFcclxuXHJcbiMjIyMjIEhvdyB0byB1c2UgdGhpcyBwYWdlP1xyXG5cclxuSWYgIHlvdSdyZSBub3QgY29tZm9ydGFibGUgd2l0aCB0aGUgZmlsdGVycyBvbiB0aGlzIHdvcmtib29rLCBteSBzdWdnZXN0aW9uIGlzIHRvIHVzZSB0aGUgZ2V0LWhlbHAgb24gdGhlIG92ZXJ2aWV3IHBhZ2UgdG8gZ2V0IHN0YXJ0ZWQuXHJcblxyXG5TdGFydGluZyBvdXQgeW91J2xsIHNlZSB0aGUgRE5TIFByb3h5IHRyYWZmaWMgY291bnQsIHRoaXMgaXMgYSBncmVhdCB3YXkgdG8gc3RhcnQgdG8gbmFycm93IGRvd24gdGhlIHByb3h5IHRyYWZmaWMgb3ZlciBhIHBlcmlvZCBvZiB0aW1lLiBFeGFtcGxlIHdlJ3JlIGxvb2tpbmcgYXQgdGhlIDE0IGRheSB3aW5kb3csIGJ1dCB0aGVyZSB3YXMgYW4gb2RkIHNwaWtlIG9yIGRpcCBpbiBwcm94eSB0cmFmZmljLCB3aHk/IHVzZSB0aGUgdGltZSBzY3J1YiBmZWF0dXJlIHRvIHNlbGVjdCBvbiB0aGUgbGVmdCBzaWRlKHdoZXJlIHlvdSdyZSB3YW50aW5nIHRvIHN0YXJ0LCBiZWZvcmUgdGhlIGV2ZW50IG9jY3VycmVkKSBkcmFnLCBhbmQgbW92ZSBpdCBvdmVyIHRvIHRoZSByaWdodC4gRXhhbXBsZSBNYXJjaCAyNHRoIC0gTWFyY2ggMjd0aC5cclxuXHJcbkFmdGVyIGFkZGluZyBvdXIgc2Vjb25kIHRpbWUgZmlsdGVyIHRvIHRoZSBwYWdlLCBtb3ZlIGZvcndhcmQgdG8gbG9va2luZyBhdCB0aGUgRE5TIHJlcXVlc3RzLiBZb3UgbWlnaHQgc2VlIGEgbGFyZ2Ugc3Bpa2UgaW4gYSBzcGVjaWZpYyBETlMgcmVxdWVzdCwgY291bGQgYmUgc29tZXRoaW5nIHlvdSdyZSBub3QgZXZlbiBmYW1pbGlhciB3aXRoLiBVc2luZyBhbiBleGFtcGxlLCBpIHNlZSBhIEROUyByZXF1ZXN0IGZvciBcIm1kLWZwcDMxdHN2aHg0cy5ibG9iLmNvcmUud2luZG93cy5uZXRcIiBmb3IgMzAwSyB0aW1lcyBpbiBteSBjdXJyZW50IGZpbHRlcnMuIEJ5IHNlbGVjdGluZyB0aGlzIFJlcXVlc3QgTmFtZSwgaXQnbGwgZmlsdGVyIG9uIHRoZSByaWdodCBzaG93aW5nIG1lIHdoaWNoIGNsaWVudHMgYXJlIHJlcXVlc3RpbmcgdGhpcyBETlMgdHJhZmZpYy4gV2hpY2ggYWZ0ZXIgY2xpY2tpbmcgb24gbXkgcmVxdWVzdCwgaSBzZWUgMiBkaWZmZXJlbnQgSVAgYWRkcmVzc2VzIG5vdy4gT2RkbHkgdGhvdWdoLCBvbmUgaXMgbXVjaCBzbWFsbGVyIHRoYW4gdGhlIG90aGVyLiBMZXRzIHNlbGVjdCB0aGF0IElwIGFkZHJlc3MgdG8gYWRkIGFuIGFkZGl0aW9uYWwgZmlsdGVyIHRvIHRoZSBsb2dzLiBOb3cgd2UgY2FuIHNlZSB0aGUgbG9ncyByZWxhdGVkIHRvIHRoYXQgbWFjaGluZSBjbGllbnQgaXAsIHNwZWNpZmljYWxseSBhcm91bmQgdGhhdCBETlMgcmVxdWVzdCBuYW1lLiBUaGlzIG1pZ2h0IGhlbHAgeW91IG5hcnJvdyBkb3duIGlmIHRoZXJlIGFyZSBhbnkgYWN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgdGFrZW4gb24geW91ciBmaXJld2FsbC5cclxuXHJcbiMjIyMjIFdoYXQncyByZXF1aXJlZCBmb3IgdGhpcyB3b3JrYm9vayB0byBmdW5jdGlvbj9cclxuXHJcbi0gQXp1cmUgRmlyZXdhbGwgRGlhZ25vc3RpYyBzZXR0aW5ncyBlbmFibGVkLCBzcGVjaWZpY2FsbHkgcmVxdWlyZXMgRE5TIFByb3h5IERpYWdub3N0aWMgbG9ncyB0byBiZSBlbmFibGVkIGZvciB0aGUgd29ya3NwYWNlLiBZb3UgbmVlZCBhIG1pbmltdW0gb2YgcmVhZCByaWdodHMgdG8gdGhlIEF6dXJlRGlhZ25vc3RpY3MgdGFibGUgd2l0aGluIHRoZSBMb2cgQW5hbHl0aWNzIHdvcmtzcGFjZS4iCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgICAgICAgInZhbHVlIjogIkFGRE5TUHJveHkiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJuYW1lIjogInRleHQgLSAzIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgInR5cGUiOiAxLAogICAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgICAianNvbiI6ICIjIyMjIyBXaGF0J3Mgb24gdGhpcyBwYWdlP1xyXG5cclxuVGhlIEF6dXJlIEZpcmV3YWxsIFByZW1pdW0tIElEUFMgcGFnZSBoYXMgdGhlIGZvbGxvd2luZyBmZWF0dXJlcy5cclxuXHJcbipBcyBub3RlZCBvbiB0aGUgdGl0bGUsIHRoZXNlIGxvZ3MgYXJlIG9ubHkgY3JlYXRlZCBvbiB0aGUgQXp1cmUgRmlyZXdhbGwgUHJlbWl1bSBza3UqXHJcblxyXG5Bbnl0aGluZyB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgZmlsdGVyIHdpdGhpbiB0aGUgd29ya2Jvb2ssIHlvdSdsbCBzZWUgYSAqIG5leHQgdG8gaXQuIElmIGl0J3MgZmlsdGVyYWJsZSwgdGhpcyBtZWFuIHlvdSBjYW4gY2xpY2sgb24gc29tZXRoaW5nIHdpdGhpbiB0aGUgZGF0YSBzZXQgdGhhdCB3aWxsIGJlIHB1c2hlZCBkb3duIHRoZSB3b3JrYm9vayBmb3IgbW9yZSBhZGRpdGlvbmFsIGZpbHRlcmluZy5cclxuXHJcbi0gSURQUyBBY3Rpb25zIENvdW50KlxyXG4tIElEUFMgUHJvdG9jb2wgQ291bnQqXHJcbi0gSURQUyBTaWduYXR1cmVJRCBDb3VudCpcclxuLSBJRFBTIFNvdXJjZUlQIENvdW50KlxyXG4tIEF6dXJlIEZpcmV3YWxsIElEUFMgY291bnQgb3ZlciB0aW1lIChUaW1lIFNjcnViIEVuYWJsZWQpXHJcbi0gQXp1cmUgRmlyZXdhbGwgSURQUyBsb2dzIHdpdGggR2VvTG9jYXRpb25cclxuXHJcbiMjIyMjIEhvdyB0byB1c2UgdGhpcyBwYWdlP1xyXG5cclxuSWYgIHlvdSdyZSBub3QgY29tZm9ydGFibGUgd2l0aCB0aGUgZmlsdGVycyBvbiB0aGlzIHdvcmtib29rLCBteSBzdWdnZXN0aW9uIGlzIHRvIHVzZSB0aGUgZ2V0LWhlbHAgb24gdGhlIG92ZXJ2aWV3IHBhZ2UgdG8gZ2V0IHN0YXJ0ZWQuXHJcblxyXG5TdGFydGluZyBvdXQgeW91J2xsIHNlZSBQaWUgQ2hhcnRzIG9mZmVyaW5nIG11bHRpcGxlIGZpbHRlcmluZyBvcHRpb25zIHRvIHlvdXIgSURQUyBsb2dzLCBzaG93aW5nIEFsZXJ0cywgUHJvdG9jb2xzLCBTaWduYXR1cmVJRHMgYW5kIFNvdXJjZXMgb2YgdGhlIGxvZ3MuIExldHMgc3RhcnQgYnkgc2VsZWN0aW5nIGFuIENsaWVudElQIGFkZHJlc3MoU291cmNlSVApIHVuZGVyIHRoZSBcIklEUFMgU291cmNlSVAgQ291bnQsIGZpbHRlcmFibGUgYnkgU291cmNlSVBcIi4gSSBjbGlja2VkIG9uIHRoZSBsYXJnZXN0IG9uZSwgeW91IG1pZ2h0IG9mIG5vdGljZWQgbW9zdCBvZiB0aGUgdHJhZmZpYyB1bmRlciB0aGUgSURQUyBsb2dzIGFyZSBhbGVydHMsIE1vc3RseSBUQ1AgdG8gdGhpcyBDbGllbnRJUCBhZGRyZXNzIGFuZCB0aGVyZSBjb3VsZCBiZSBzb21lIHNwZWNpZmljIFNpZ25hdHVyZUlEJ3MgYXJlIGJlaW5nIHRyaWdnZXJlZC4gTG9va2luZyBmdXJ0aGVyIGludG8gdGhlIGxvZ3MsIHlvdSBzaG91bGQgZXhwYW5kIHRoZSBTb3VyY2UgSVAgdG8gc2VlIHRoZSBkaWZmZXJlbnQgSVAgQWRkcmVzc2VzIHRoaXMgY2xpZW50IGhhcyB0YWxrZWQgdG8gd2l0aGluIHRoZSBwYXN0IDE0IGRheXMoY3VycmVudCBnbG9iYWwgZmlsdGVyKS4gVGhlIG1ham9yaXR5IG9mIHRoZSB0cmFmZmljIGlzIGdvaW5nIHRvIFhYLlhYLlhYLlhYLCB3aGljaCBpcyBzb21ldGhpbmcgdG8gcmVtZW1iZXIuXHJcblxyXG5Hb2luZyBmdXJ0aGVyIGRvd24sIHlvdSBtaWdodCBub3RpY2VkIGEgc3Bpa2UgaW4gdHJhZmZpYywgbGV0cyB1c2UgdGhlIHRpbWUgc2NydWIgZmVhdHVyZSB0byBuYXJyb3cgZG93biB0aGUgdGltZSB3aW5kb3cgdG8gdGhhdCBzcGlrZS4gU3RhcnQgYnkgc2VsZWN0aW5nIG9uIHRoZSBsZWZ0IHNpZGUod2hlcmUgeW91J3JlIHdhbnRpbmcgdG8gc3RhcnQgdGltZSB0byBiZSwgYmVmb3JlIHRoZSBldmVudCBvY2N1cnJlZCkgZHJhZywgYW5kIG1vdmUgaXQgb3ZlciB0byB0aGUgcmlnaHQodGhlIGVuZCB0aW1lKS4gRXhhbXBsZSBNYXJjaCAyNHRoIC0gTWFyY2ggMjd0aC5cclxuXHJcbipOb3RlOyBUaGUgR2VvTG9jYXRpb24gKyBEYXRhIGNhbiB0YWtlIGEgbG9uZyB0aW1lIHRvIHJlZnJlc2guKlxyXG5cclxuWW91IHNob3VsZCBub3cgYmUgYWJsZSB0byBzZWUgZGF0YSB3ZSBmaWx0ZXJlZCBkb3duIHRvLCB3aXRoIGl0IGJhc2VkIG9uICBHZW9Mb2NhdGlvbi9TaWduYXR1cmUgSUQnc1xyXG5cclxuIyMjIyMgV2hhdCdzIHJlcXVpcmVkIGZvciB0aGlzIHdvcmtib29rIHRvIGZ1bmN0aW9uP1xyXG5cclxuLSBBenVyZSBGaXJld2FsbCBQcmVtaXVtIERpYWdub3N0aWMgc2V0dGluZ3MgZW5hYmxlZCwgc3BlY2lmaWNhbGx5IHJlcXVpcmVzIElEUFMgRGlhZ25vc3RpYyBsb2dzIHRvIGJlIGVuYWJsZWQgZm9yIHRoZSB3b3Jrc3BhY2UuIFlvdSBuZWVkIGEgbWluaW11bSBvZiByZWFkIHJpZ2h0cyB0byB0aGUgQXp1cmVEaWFnbm9zdGljcyB0YWJsZSB3aXRoaW4gdGhlIExvZyBBbmFseXRpY3Mgd29ya3NwYWNlLiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAgICAgICAidmFsdWUiOiAiQUZJRFNJUFMiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJuYW1lIjogInRleHQgLSA0IgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgInR5cGUiOiAxLAogICAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgICAianNvbiI6ICIjIyMjIyBXaGF0J3Mgb24gdGhpcyBwYWdlP1xyXG5cclxuVGhlIEF6dXJlIEZpcmV3YWxsIC0gSW52ZXN0aWdhdGlvbiBwYWdlIGhhcyB0aGUgZm9sbG93aW5nIGZlYXR1cmVzLlxyXG5cclxuKk5vdGUsIHRoaXMgaXMgYSBjb21iaW5hdGlvbiBvZiBhbGwgdGhlIGxvZ3Mgd2l0aGluIHRoZSBBenVyZSBGaXJld2FsbCB3b3JrYm9vay4gU29tZSBsb2dzIGFyZSBmcm9tIHRoZSBBenVyZSBGaXJld2FsbCBQcmVtaXVtIHNrdSpcclxuXHJcbkFueXRoaW5nIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBmaWx0ZXIgd2l0aGluIHRoZSB3b3JrYm9vaywgeW91J2xsIHNlZSBhICogbmV4dCB0byBpdC4gSWYgaXQncyBmaWx0ZXJhYmxlLCB0aGlzIG1lYW4geW91IGNhbiBjbGljayBvbiBzb21ldGhpbmcgd2l0aGluIHRoZSBkYXRhIHNldCB0aGF0IHdpbGwgYmUgcHVzaGVkIGRvd24gdGhlIHdvcmtib29rIGZvciBtb3JlIGFkZGl0aW9uYWwgZmlsdGVyaW5nLlxyXG5cclxuLSBJRlFETiBUcmFmZmljIGJ5IENvdW50KlxyXG4tIFNvdXJjZUlQIEFkZHJlc3MqXHJcbi0gU291cmNlSVBBZGRyZXNzIFJlc291cmNlIExvb2t1cCAoQXp1cmUgUmVzb3VyY2UgR3JhcGgpXHJcbi0gRlFETiBMb29rdXAgbG9nc1xyXG4tIEF6dXJlIEZpcmV3YWxsIFRocmVhdCBJbnRlbFxyXG4tIEF6dXJlIEZpcmV3YWxsIFByZW1pdW0gd2l0aCBHZW9Mb2NhdGlvbi0gSURQU1xyXG5cclxuIyMjIyMgSG93IHRvIHVzZSB0aGlzIHBhZ2U/XHJcblxyXG5JZiAgeW91J3JlIG5vdCBjb21mb3J0YWJsZSB3aXRoIHRoZSBmaWx0ZXJzIG9uIHRoaXMgd29ya2Jvb2ssIG15IHN1Z2dlc3Rpb24gaXMgdG8gdXNlIHRoZSBnZXQtaGVscCBvbiB0aGUgb3ZlcnZpZXcgcGFnZSB0byBnZXQgc3RhcnRlZC5cclxuXHJcblRoaXMgaXMgdGhlIHBhZ2Ugd2hlcmUgd2UgbmFycm93IGRvd24gZXZlcnl0aGluZywgWW91IHNob3VsZCBjb25zaWRlcmluZyBhZGRpbmcgeW91ciBvd24gdHdpc3QgYmFzZWQgb24geW91ciBvd24gaW52ZXN0aWdhdGlvbnMgdG8gdGhpcyBwYWdlLiBMZXZlcmFnZSB0aGlzIGFzIGEgdGVtcGxhdGUgb2Ygd2hlcmUgdG8gc3RhcnQgYW5kIGhvdyB0byBtb3ZlIGZvcndhcmQuXHJcblxyXG5TdGFydGluZyBvdXQgd2Ugc2VlIEZRRE4gYW5kIElQIEFkZHJlc3MgYXJlIHRoZSBwYWdlJ3MgZmlyc3QgZmlsdGVycyBvZmZlcmVkLlxyXG5cclxuTG9va2luZyBhdCBzb3VyY2UgY291bnQsIHlvdSBtaWdodCBzZWUgc29tZXRoaW5nIHRoYXQgaGFzIGEgbGFyZ2UgY291bnQuIExpa2UgdGhlIGZvbGxvd2luZyBleGFtcGxlIFwid2F0c29uLnRlbGVtZXRyeS5taWNyb3NvZnQuY29tXCIuICBDbGljayBvbiB0aGUgXCJEZW55XCIvJ0NvdW50JyBsaW5lIHRvIHVzZSB0aGUgZmlsdGVyIGZlYXR1cmUgZm9yIHRoZSB3aG9sZSBwYWdlLlxyXG5cclxuVGhpcyBuYXJyb3dlZCBkb3duIG91ciBsYXJnZSBsaXN0IG9mIGNsaWVudCAoU291cmNlSVApIGFkZHJlc3MgdG8gYSBzbWFsbGVyIGxpc3QsIHdoaWNoIGNvdWxkIGJlIHVzZWQgdG8gZmluZCBvdXQgd2hpY2ggY2xpZW50IGlzIGJlaW5nIHRoZSBsb3VkZXN0IG9yIG1heWJlIHNvbWV0aGluZyB0aGF0IHNuZWFrZWQgaW4gdGhhdCB3YXNuJ3Qgc3VwcG9zZSB0byBiZSB0YWxraW5nIHRvIHRoaXMgRlFETiBpbiB0aGUgZmlyc3QgcGxhY2UuIENsaWNrIG9uIGFuIElQQWRkcmVzcyhTb3VyY2VJUCkuIFxyXG5cclxuQXp1cmUgUmVzb3VyY2UgR3JhcGggaXMgdGhlbiB1c2VkIHRvIGZpbmQgd2hpY2ggbWFjaGluZSB0aGlzIGlzLCB3aGljaCBBenVyZSBSZXNvdXJjZSBOSUMsIFB1YmxpYyBJUCBhZGRyZXNzLCBTdWJuZXQsIGV0Yy5cclxuXHJcblVzZSB0aGUgb3RoZXIgZGF0YSBzZXRzIHRvIGhlbHAgc2VlIHRoZSBsb2dzIHlvdSd2ZSBmaWx0ZXJlZCBiYXNlZCBvbiB0aGUgRlFETiArIElQQWRkcmVzcyBhYm92ZS4gXHJcblxyXG4qTm90ZSwgRlFETiBpc24ndCByZXF1aXJlZCBmb3IgdGhlIEF6dXJlIFJlc291cmNlIEdyYXBoIGxvb2t1cC4qXHJcblxyXG5Tb21lIGxvZyBzb3VyY2VzIG1pZ2h0IGJlIGJsYW5rLCB0aGF0J3MgcGVyZmVjdGx5IGFjY2VwdGFibGUgaW4gdGhpcyBzY2VuYXJpbyBhcyB3ZSdyZSBmaWx0ZXJpbmcgZG93biB0byBhbGVydHMgYW5kIGV2ZW50cy5cclxuXHJcbiMjIyMjIFdoYXQncyByZXF1aXJlZCBmb3IgdGhpcyB3b3JrYm9vayB0byBmdW5jdGlvbj9cclxuXHJcbi0gQWxsIEF6dXJlIEZpcmV3YWxsIERpYWdub3N0aWMgTG9nc1xyXG4tIFJCQUMgUGVybWlzc2lvbnMgZm9yIEF6dXJlIFJlc291cmNlIEdyYXBoIGxvb2t1cC4iCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgICAgICAgInZhbHVlIjogIkFGSW52ZXN0aWdhdGUiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJuYW1lIjogInRleHQgLSA1IgogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJIZWxwIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJZZXMiCiAgICAgIH0sCiAgICAgICJuYW1lIjogIkdldC1IZWxwIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAxLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAianNvbiI6ICIjIEF6dXJlIEZpcmV3YWxsIC0gb3ZlcnZpZXciCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGT3ZlcnZpZXciCiAgICAgIH0sCiAgICAgICJuYW1lIjogIk1haW4gdGl0bGUiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAid2hlcmUgdHlwZSA9fiAnTWljcm9zb2Z0Lk5ldHdvcmsvYXp1cmVGaXJld2FsbHMnXHJcbnwgZXh0ZW5kIFRpZXIgPSB0cmltKCcgJywgdG9zdHJpbmcocHJvcGVydGllcy5za3UudGllcikpXHJcbnwgZXh0ZW5kIFN0YXR1cyA9IHRyaW0oJyAnLCB0b3N0cmluZyhpaWYoaXNlbXB0eShwcm9wZXJ0aWVzLmlwQ29uZmlndXJhdGlvbnMuWzBdLnByb3BlcnRpZXMucHJvdmlzaW9uaW5nU3RhdGUpLHByb3BlcnRpZXMucHJvdmlzaW9uaW5nU3RhdGUscHJvcGVydGllcy5pcENvbmZpZ3VyYXRpb25zLlswXS5wcm9wZXJ0aWVzLnByb3Zpc2lvbmluZ1N0YXRlKSkpXHJcbnwgZXh0ZW5kIFByZW1pdW0gPSBpZmYoVGllciA9PSBcIlByZW1pdW1cIiwgXCJZZXNcIiwgXCJOb1wiKVxyXG58IGV4dGVuZCBTdGFuZGFyZCA9IGlmZihUaWVyID09IFwiU3RhbmRhcmRcIiwgXCJZZXNcIiwgXCJOb1wiKVxyXG58IGV4dGVuZCBQcm92aXNpb25lZFN0YXRlID0gaWZmKFN0YXR1cyA9PSBcIlN1Y2NlZWRlZFwiLCBcIlJ1bm5pbmdcIiwgXCJOb3QgUnVubmluZ1wiKVxyXG58IGV4dGVuZCBQb2xpY3kgPSB0cmltKCcgJywgdG9zdHJpbmcocHJvcGVydGllcy5maXJld2FsbFBvbGljeS5pZCkpXHJcbnwgZXh0ZW5kIEFwcGxpY2F0aW9uUnVsZTEgPSB0cmltKCcgJywgdG9zdHJpbmcocHJvcGVydGllcy5hcHBsaWNhdGlvblJ1bGVDb2xsZWN0aW9ucy5bMF0uaWQpKVxyXG58IGV4dGVuZCBBcHBsaWNhdGlvblJ1bGUyID0gdHJpbSgnICcsIHRvc3RyaW5nKHByb3BlcnRpZXMuYXBwbGljYXRpb25SdWxlQ29sbGVjdGlvbnMuWzBdLmlkKSlcclxufCBleHRlbmQgQXBwbGljYXRpb25SdWxlMyA9IGlmZihBcHBsaWNhdGlvblJ1bGUxID09IFwiXCIsIFwiTi9BXCIsIFwiXCIpXHJcbnwgZXh0ZW5kIEFwcGxpY2F0aW9uUnVsZTQgPSBpZmYoQXBwbGljYXRpb25SdWxlMiBjb250YWlucyBcInN1YnNjcmlwdGlvblwiLCBcIkNvbmZpZ3VyZWRcIiwgXCJcIilcclxufCBleHRlbmQgQXBwbGljYXRpb25SdWxlQ2xhc3NpYyA9IHN0cmNhdChBcHBsaWNhdGlvblJ1bGUzLCBBcHBsaWNhdGlvblJ1bGU0KVxyXG58IGV4dGVuZCBOZXR3b3JrUnVsZTEgPSB0cmltKCcgJywgdG9zdHJpbmcocHJvcGVydGllcy5uZXR3b3JrUnVsZUNvbGxlY3Rpb25zLlswXS5pZCkpXHJcbnwgZXh0ZW5kIE5ldHdvcmtSdWxlMiA9IHRyaW0oJyAnLCB0b3N0cmluZyhwcm9wZXJ0aWVzLm5ldHdvcmtSdWxlQ29sbGVjdGlvbnMuWzBdLmlkKSlcclxufCBleHRlbmQgTmV0d29ya1J1bGUzID0gaWZmKE5ldHdvcmtSdWxlMSA9PSBcIlwiLCBcIk4vQVwiLCBcIlwiKVxyXG58IGV4dGVuZCBOZXR3b3JrUnVsZTQgPSBpZmYoTmV0d29ya1J1bGUxIGNvbnRhaW5zIFwic3Vic2NyaXB0aW9uXCIsIFwiQ29uZmlndXJlZFwiLCBcIlwiKVxyXG58IGV4dGVuZCBOZXR3b3JrUnVsZUNsYXNzaWMgPSBzdHJjYXQoTmV0d29ya1J1bGUzLCBOZXR3b3JrUnVsZTQpXHJcbnwgcHJvamVjdCBGaXJld2FsbD1pZCwgUHJlbWl1bSwgU3RhbmRhcmQsIFByb3Zpc2lvbmVkU3RhdGUsRmlyZXdhbGxQb2xpY3k9IFBvbGljeSwgQXBwbGljYXRpb25SdWxlQ2xhc3NpYywgTmV0d29ya1J1bGVDbGFzc2ljLCBsb2NhdGlvbiwgcmVzb3VyY2VHcm91cCwgc3Vic2NyaXB0aW9uSWQsIHRlbmFudElkIiwKICAgICAgICAic2l6ZSI6IDEsCiAgICAgICAgInRpdGxlIjogIkF6dXJlIEZpcmV3YWxsIFJlc291cmNlIExpc3QiLAogICAgICAgICJxdWVyeVR5cGUiOiAxLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0LnJlc291cmNlZ3JhcGgvcmVzb3VyY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAidmFsdWU6OnNlbGVjdGVkIgogICAgICAgIF0sCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJmb3JtYXR0ZXJzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIlByZW1pdW0iLAogICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiAxOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJ0aHJlc2hvbGRzT3B0aW9ucyI6ICJjb2xvcnMiLAogICAgICAgICAgICAgICAgInRocmVzaG9sZHNHcmlkIjogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm9wZXJhdG9yIjogIj09IiwKICAgICAgICAgICAgICAgICAgICAidGhyZXNob2xkVmFsdWUiOiAiWWVzIiwKICAgICAgICAgICAgICAgICAgICAicmVwcmVzZW50YXRpb24iOiAiZ3JlZW4iLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0IjogInswfXsxfSIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJvcGVyYXRvciI6ICI9PSIsCiAgICAgICAgICAgICAgICAgICAgInRocmVzaG9sZFZhbHVlIjogIk5vIiwKICAgICAgICAgICAgICAgICAgICAicmVwcmVzZW50YXRpb24iOiAiZ3JheUJsdWUiLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0IjogInswfXsxfSIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJvcGVyYXRvciI6ICJEZWZhdWx0IiwKICAgICAgICAgICAgICAgICAgICAidGhyZXNob2xkVmFsdWUiOiBudWxsLAogICAgICAgICAgICAgICAgICAgICJyZXByZXNlbnRhdGlvbiI6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiAiezB9ezF9IgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIlN0YW5kYXJkIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogMTgsCiAgICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAidGhyZXNob2xkc09wdGlvbnMiOiAiY29sb3JzIiwKICAgICAgICAgICAgICAgICJ0aHJlc2hvbGRzR3JpZCI6IFsKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJvcGVyYXRvciI6ICI9PSIsCiAgICAgICAgICAgICAgICAgICAgInRocmVzaG9sZFZhbHVlIjogIlllcyIsCiAgICAgICAgICAgICAgICAgICAgInJlcHJlc2VudGF0aW9uIjogImdyZWVuIiwKICAgICAgICAgICAgICAgICAgICAidGV4dCI6ICJ7MH17MX0iCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAib3BlcmF0b3IiOiAiPT0iLAogICAgICAgICAgICAgICAgICAgICJ0aHJlc2hvbGRWYWx1ZSI6ICJObyIsCiAgICAgICAgICAgICAgICAgICAgInJlcHJlc2VudGF0aW9uIjogImdyYXlCbHVlIiwKICAgICAgICAgICAgICAgICAgICAidGV4dCI6ICJ7MH17MX0iCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAib3BlcmF0b3IiOiAiRGVmYXVsdCIsCiAgICAgICAgICAgICAgICAgICAgInRocmVzaG9sZFZhbHVlIjogbnVsbCwKICAgICAgICAgICAgICAgICAgICAicmVwcmVzZW50YXRpb24iOiBudWxsLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0IjogInswfXsxfSIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJQcm92aXNpb25lZFN0YXRlIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogMTgsCiAgICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAidGhyZXNob2xkc09wdGlvbnMiOiAiY29sb3JzIiwKICAgICAgICAgICAgICAgICJ0aHJlc2hvbGRzR3JpZCI6IFsKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJvcGVyYXRvciI6ICI9PSIsCiAgICAgICAgICAgICAgICAgICAgInRocmVzaG9sZFZhbHVlIjogIlJ1bm5pbmciLAogICAgICAgICAgICAgICAgICAgICJyZXByZXNlbnRhdGlvbiI6ICJncmVlbiIsCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiAiezB9ezF9IgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm9wZXJhdG9yIjogIj09IiwKICAgICAgICAgICAgICAgICAgICAidGhyZXNob2xkVmFsdWUiOiAiTm90IFJ1bm5pbmciLAogICAgICAgICAgICAgICAgICAgICJyZXByZXNlbnRhdGlvbiI6ICJncmF5Qmx1ZSIsCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiAiezB9ezF9IgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm9wZXJhdG9yIjogIkRlZmF1bHQiLAogICAgICAgICAgICAgICAgICAgICJ0aHJlc2hvbGRWYWx1ZSI6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiAiezB9ezF9IgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIkFwcGxpY2F0aW9uUnVsZUNsYXNzaWMiLAogICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiAxOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJ0aHJlc2hvbGRzT3B0aW9ucyI6ICJjb2xvcnMiLAogICAgICAgICAgICAgICAgInRocmVzaG9sZHNHcmlkIjogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm9wZXJhdG9yIjogIj09IiwKICAgICAgICAgICAgICAgICAgICAidGhyZXNob2xkVmFsdWUiOiAiTi9BIiwKICAgICAgICAgICAgICAgICAgICAicmVwcmVzZW50YXRpb24iOiAiZ3JheSIsCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiAiezB9ezF9IgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm9wZXJhdG9yIjogIkRlZmF1bHQiLAogICAgICAgICAgICAgICAgICAgICJ0aHJlc2hvbGRWYWx1ZSI6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgInJlcHJlc2VudGF0aW9uIjogImdyZWVuIiwKICAgICAgICAgICAgICAgICAgICAidGV4dCI6ICJ7MH17MX0iCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiTmV0d29ya1J1bGVDbGFzc2ljIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogMTgsCiAgICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAidGhyZXNob2xkc09wdGlvbnMiOiAiY29sb3JzIiwKICAgICAgICAgICAgICAgICJ0aHJlc2hvbGRzR3JpZCI6IFsKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJvcGVyYXRvciI6ICI9PSIsCiAgICAgICAgICAgICAgICAgICAgInRocmVzaG9sZFZhbHVlIjogIk4vQSIsCiAgICAgICAgICAgICAgICAgICAgInJlcHJlc2VudGF0aW9uIjogImdyYXkiLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0IjogInswfXsxfSIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJvcGVyYXRvciI6ICJEZWZhdWx0IiwKICAgICAgICAgICAgICAgICAgICAidGhyZXNob2xkVmFsdWUiOiBudWxsLAogICAgICAgICAgICAgICAgICAgICJyZXByZXNlbnRhdGlvbiI6ICJncmVlbiIsCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiAiezB9ezF9IgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogIkZpcmV3YWxsUmVzb3VyY2VzIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJZZXMiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIxMDAiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDYwIiwKICAgICAgInN0eWxlU2V0dGluZ3MiOiB7CiAgICAgICAgIm1hcmdpbiI6ICIwIgogICAgICB9CiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAiQXp1cmVEaWFnbm9zdGljcyBcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHdoZXJlIFJlc291cmNlVHlwZSA9PSBcIkFaVVJFRklSRVdBTExTXCIgXHJcbnwgc3VtbWFyaXplIFZvbHVtZT1jb3VudCgpIGJ5IGJpbihUaW1lR2VuZXJhdGVkLCB7VGltZVJhbmdlOmdyYWlufSkiLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiRXZlbnRzLCBieSB0aW1lOiBRdWVyeSBUaW1lKHskcXVlcnlUaW1lfSkiLAogICAgICAgICJub0RhdGFNZXNzYWdlIjogIlRoZXJlIGFyZSBubyBmaXJld2FsbCBldmVudHMgYmVpbmcgZmVlZCB3aXRoaW4gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZXMuIElmIHlvdSBiZWxpZXZlIHRoZSBzZWxlY3Rpb24gaXMgY29ycmVjdCwgY29uZmlybSBsb2dnaW5nIGhhcyBiZWVuIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2UuIFJlZmVyZW5jZSBEb2NzOiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9maXJld2FsbC8iLAogICAgICAgICJub0RhdGFNZXNzYWdlU3R5bGUiOiA0LAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAidmlzdWFsaXphdGlvbiI6ICJ0aW1lY2hhcnQiCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGT3ZlcnZpZXciCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIyNSIsCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gMTYiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAiQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIFJlc291cmNlIGlufiAoc3BsaXQoXCJ7UmVzb3VyY2U6bGFiZWx9XCIsIFwiLCBcIikpXHJcbnwgd2hlcmUgUmVzb3VyY2VUeXBlID09IFwiQVpVUkVGSVJFV0FMTFNcIiBcclxufCBzdW1tYXJpemUgVm9sdW1lPWNvdW50KCkgYnkgUmVzb3VyY2UsIGJpbihUaW1lR2VuZXJhdGVkLCB7VGltZVJhbmdlOmdyYWlufSkiLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiRXZlbnRzLCBieSBmaXJld2FsbCBvdmVyIHRpbWU6IFF1ZXJ5IFRpbWUoeyRxdWVyeVRpbWV9KSIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIGZpcmV3YWxsIGV2ZW50cyBiZWluZyBmZWVkIHdpdGhpbiB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlcy4gSWYgeW91IGJlbGlldmUgdGhlIHNlbGVjdGlvbiBpcyBjb3JyZWN0LCBjb25maXJtIGxvZ2dpbmcgaGFzIGJlZW4gZW5hYmxlZCBmb3IgdGhlIEF6dXJlIEZpcmV3YWxsIGFuZCBmZWVkaW5nIGludG8gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDQsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJleHBvcnRQYXJhbWV0ZXJOYW1lIjogIlRvcEV2ZW50IiwKICAgICAgICAiZXhwb3J0RGVmYXVsdFZhbHVlIjogIntcIlJlc291cmNlXCI6XCIqXCIsXCJSZXNvdXJjZUdyb3VwXCI6XCIqXCJ9IiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAidmlzdWFsaXphdGlvbiI6ICJsaW5lY2hhcnQiLAogICAgICAgICJ0aWxlU2V0dGluZ3MiOiB7CiAgICAgICAgICAidGl0bGVDb250ZW50IjogewogICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiUmVzb3VyY2UiLAogICAgICAgICAgICAiZm9ybWF0dGVyIjogMQogICAgICAgICAgfSwKICAgICAgICAgICJsZWZ0Q29udGVudCI6IHsKICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogImFtb3VudCIsCiAgICAgICAgICAgICJmb3JtYXR0ZXIiOiAxMiwKICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgInBhbGV0dGUiOiAiYXV0byIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgIm51bWJlckZvcm1hdCI6IHsKICAgICAgICAgICAgICAidW5pdCI6IDE3LAogICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgIm1heGltdW1TaWduaWZpY2FudERpZ2l0cyI6IDMsCiAgICAgICAgICAgICAgICAibWF4aW11bUZyYWN0aW9uRGlnaXRzIjogMgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICJzaG93Qm9yZGVyIjogdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZPdmVydmlldyIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjI1IiwKICAgICAgIm5hbWUiOiAiRmlyZXdhbGwgcGVyIFJlc291cmNlIEdyb3VwIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogImxldCBtYXRlcmlhbGl6ZWREYXRhID1cclxubWF0ZXJpYWxpemUoXHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBSZXNvdXJjZVR5cGUgPT0gXCJBWlVSRUZJUkVXQUxMU1wiXHJcbnwgcHJvamVjdCBDYXRlZ29yeSwgUmVzb3VyY2VUeXBlLCBPcGVyYXRpb25OYW1lKTtcclxudW5pb25cclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbiAgICB8IHdoZXJlIE9wZXJhdGlvbk5hbWUgPT0gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxuICAgIHwgc3VtbWFyaXplIFZvbHVtZT1jb3VudCgpIGJ5IE9wZXJhdGlvbk5hbWVcclxuICAgIHwgcHJvamVjdCBDYXRlZ29yeT1PcGVyYXRpb25OYW1lLCBWb2x1bWVcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbiAgICB8IHdoZXJlIE9wZXJhdGlvbk5hbWUgPT0gXCJBenVyZUZpcmV3YWxsVGhyZWF0SW50ZWxMb2dcIlxyXG4gICAgfCBzdW1tYXJpemUgVm9sdW1lPWNvdW50KCkgYnkgT3BlcmF0aW9uTmFtZVxyXG4gICAgfCBwcm9qZWN0IENhdGVnb3J5PU9wZXJhdGlvbk5hbWUsIFZvbHVtZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxuICAgIHwgd2hlcmUgT3BlcmF0aW9uTmFtZSA8PiBcIkF6dXJlRmlyZXdhbGxUaHJlYXRJbnRlbExvZ1wiXHJcbiAgICB8IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxuICAgIHwgc3VtbWFyaXplIFZvbHVtZT1jb3VudCgpIGJ5IENhdGVnb3J5XHJcbilcclxufCBzb3J0IGJ5IFZvbHVtZSBkZXNjIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInRpdGxlIjogIkV2ZW50cywgYnkgY2F0ZWdvcnk6IFF1ZXJ5IFRpbWUoeyRxdWVyeVRpbWV9KSIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIGZpcmV3YWxsIGV2ZW50cyBiZWluZyBmZWVkIHdpdGhpbiB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlcy4gSWYgeW91IGJlbGlldmUgdGhlIHNlbGVjdGlvbiBpcyBjb3JyZWN0LCBjb25maXJtIGxvZ2dpbmcgaGFzIGJlZW4gZW5hYmxlZCBmb3IgdGhlIEF6dXJlIEZpcmV3YWxsIGFuZCBmZWVkaW5nIGludG8gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDQsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJleHBvcnRGaWVsZE5hbWUiOiAiQ2F0ZWdvcnkiLAogICAgICAgICJleHBvcnRQYXJhbWV0ZXJOYW1lIjogIlNlbGVjdGVkQ2F0ZWdvcnkiLAogICAgICAgICJleHBvcnREZWZhdWx0VmFsdWUiOiAiKiIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAicGllY2hhcnQiLAogICAgICAgICJ0aWxlU2V0dGluZ3MiOiB7CiAgICAgICAgICAic2hvd0JvcmRlciI6IGZhbHNlLAogICAgICAgICAgInRpdGxlQ29udGVudCI6IHsKICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIkNhdGVnb3J5IiwKICAgICAgICAgICAgImZvcm1hdHRlciI6IDEKICAgICAgICAgIH0sCiAgICAgICAgICAibGVmdENvbnRlbnQiOiB7CiAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJWb2x1bWUiLAogICAgICAgICAgICAiZm9ybWF0dGVyIjogMTIsCiAgICAgICAgICAgICJmb3JtYXRPcHRpb25zIjogewogICAgICAgICAgICAgICJwYWxldHRlIjogImF1dG8iCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJudW1iZXJGb3JtYXQiOiB7CiAgICAgICAgICAgICAgInVuaXQiOiAxNywKICAgICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHMiOiAzLAogICAgICAgICAgICAgICAgIm1heGltdW1GcmFjdGlvbkRpZ2l0cyI6IDIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGT3ZlcnZpZXciCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIyNSIsCiAgICAgICJuYW1lIjogIkV2ZW50cyBieSBjYXRlZ29yeSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgUmVzb3VyY2VUeXBlID09IFwiQVpVUkVGSVJFV0FMTFNcIlxyXG58IHByb2plY3QgQ2F0ZWdvcnksIFJlc291cmNlVHlwZSwgT3BlcmF0aW9uTmFtZSwgVGltZUdlbmVyYXRlZCk7XHJcbnVuaW9uXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG4gICAgfCB3aGVyZSBPcGVyYXRpb25OYW1lID09IFwiQXp1cmVGaXJld2FsbElEU0xvZ1wiXHJcbiAgICB8IHN1bW1hcml6ZSBWb2x1bWU9Y291bnQoKSBieSBPcGVyYXRpb25OYW1lLCBiaW4oVGltZUdlbmVyYXRlZCwge1RpbWVSYW5nZTpncmFpbn0pXHJcbiAgICB8IHByb2plY3QgQ2F0ZWdvcnk9T3BlcmF0aW9uTmFtZSwgVm9sdW1lLCBUaW1lR2VuZXJhdGVkXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG4gICAgfCB3aGVyZSBPcGVyYXRpb25OYW1lID09IFwiQXp1cmVGaXJld2FsbFRocmVhdEludGVsTG9nXCJcclxuICAgIHwgc3VtbWFyaXplIFZvbHVtZT1jb3VudCgpIGJ5IE9wZXJhdGlvbk5hbWUsIGJpbihUaW1lR2VuZXJhdGVkLCB7VGltZVJhbmdlOmdyYWlufSlcclxuICAgIHwgcHJvamVjdCBDYXRlZ29yeT1PcGVyYXRpb25OYW1lLCBWb2x1bWUsIFRpbWVHZW5lcmF0ZWRcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbiAgICB8IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsVGhyZWF0SW50ZWxMb2dcIlxyXG4gICAgfCB3aGVyZSBPcGVyYXRpb25OYW1lIDw+IFwiQXp1cmVGaXJld2FsbElEU0xvZ1wiXHJcbiAgICB8IHN1bW1hcml6ZSBWb2x1bWU9Y291bnQoKSBieSBDYXRlZ29yeSwgYmluKFRpbWVHZW5lcmF0ZWQsIHtUaW1lUmFuZ2U6Z3JhaW59KVxyXG4pXHJcbnwgc29ydCBieSBWb2x1bWUgZGVzYyIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJ0aXRsZSI6ICJFdmVudHMgY2F0ZWdvcmllcywgYnkgdGltZTogUXVlcnkgVGltZSh7JHF1ZXJ5VGltZX0pIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGVyZSBhcmUgbm8gZmlyZXdhbGwgZXZlbnRzIGJlaW5nIGZlZWQgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gbG9nZ2luZyBoYXMgYmVlbiBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogNCwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAidGltZWNoYXJ0IgogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRk92ZXJ2aWV3IgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiMjUiLAogICAgICAibmFtZSI6ICJFdmVudHMgY2F0ZWdvcmllcyBieSB0aW1lIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAxLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAianNvbiI6ICIjIyMgRmlyZXdhbGwgTWV0cmljc1xyXG5UaGUgZGF0YSBiZWxvdyBkb3Nlbid0IHJlYWQgZnJvbSB0aGUgTG9nIEFuYWx5dGljcyB3b3JrcHNhY2UsIGl0J3MgcmVhZGluZyBkaXJlY3RseSBmcm9tIHRoZSByZXNvdXJjZXMgd2hpY2ggcmVxdWlyZXMgcmVzb3VyY2UgdmlzaWJpbGl0eS4gXHJcbkNsaWNrIFtoZXJlIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIEF6dXJlIE1ldHJpY3NdKGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2F6dXJlLW1vbml0b3IvcGxhdGZvcm0vZGF0YS1wbGF0Zm9ybS1tZXRyaWNzKVxyXG4iLAogICAgICAgICJzdHlsZSI6ICJpbmZvIgogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRk92ZXJ2aWV3IgogICAgICB9LAogICAgICAibmFtZSI6ICJ0ZXh0IC0gMzkiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDEwLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAiY2hhcnRJZCI6ICJ3b3JrYm9vazc2ODY0ZWQ1LWRkMzQtNDJkMC1hZTM1LWYzZGI5ZjllOGYxNSIsCiAgICAgICAgInZlcnNpb24iOiAiTWV0cmljc0l0ZW0vMi4wIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgImNoYXJ0VHlwZSI6IDIsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQubmV0d29yay9henVyZWZpcmV3YWxscyIsCiAgICAgICAgIm1ldHJpY1Njb3BlIjogMCwKICAgICAgICAicmVzb3VyY2VQYXJhbWV0ZXIiOiAiUmVzb3VyY2UiLAogICAgICAgICJyZXNvdXJjZUlkcyI6IFsKICAgICAgICAgICJ7UmVzb3VyY2V9IgogICAgICAgIF0sCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJ0aW1lQ29udGV4dCI6IHsKICAgICAgICAgICJkdXJhdGlvbk1zIjogNzc3NjAwMDAwMAogICAgICAgIH0sCiAgICAgICAgIm1ldHJpY3MiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lc3BhY2UiOiAibWljcm9zb2Z0Lm5ldHdvcmsvYXp1cmVmaXJld2FsbHMiLAogICAgICAgICAgICAibWV0cmljIjogIm1pY3Jvc29mdC5uZXR3b3JrL2F6dXJlZmlyZXdhbGxzLS1UaHJvdWdocHV0IiwKICAgICAgICAgICAgImFnZ3JlZ2F0aW9uIjogNCwKICAgICAgICAgICAgInNwbGl0QnkiOiBudWxsLAogICAgICAgICAgICAiY29sdW1uTmFtZSI6ICJBbGwgRmlyZXdhbGwgVGhyb3VnaHB1dCBBdmVyYWdlIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInRpdGxlIjogIkF2ZXJhZ2UgVGhyb3VnaHB1dCBvZiBGaXJld2FsbCBUcmFmZmljIiwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgInJvd0xpbWl0IjogMTAwMDAKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGT3ZlcnZpZXciCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICI1MCIsCiAgICAgICJuYW1lIjogIm1ldHJpYyAtIDI1IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAxMCwKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgImNoYXJ0SWQiOiAid29ya2Jvb2s3Njg2NGVkNS1kZDM0LTQyZDAtYWUzNS1mM2RiOWY5ZThmMTUiLAogICAgICAgICJ2ZXJzaW9uIjogIk1ldHJpY3NJdGVtLzIuMCIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJjaGFydFR5cGUiOiAyLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm5ldHdvcmsvYXp1cmVmaXJld2FsbHMiLAogICAgICAgICJtZXRyaWNTY29wZSI6IDAsCiAgICAgICAgInJlc291cmNlUGFyYW1ldGVyIjogIlJlc291cmNlIiwKICAgICAgICAicmVzb3VyY2VJZHMiOiBbCiAgICAgICAgICAie1Jlc291cmNlfSIKICAgICAgICBdLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAidGltZUNvbnRleHQiOiB7CiAgICAgICAgICAiZHVyYXRpb25NcyI6IDc3NzYwMDAwMDAKICAgICAgICB9LAogICAgICAgICJtZXRyaWNzIjogWwogICAgICAgICAgewogICAgICAgICAgICAibmFtZXNwYWNlIjogIm1pY3Jvc29mdC5uZXR3b3JrL2F6dXJlZmlyZXdhbGxzIiwKICAgICAgICAgICAgIm1ldHJpYyI6ICJtaWNyb3NvZnQubmV0d29yay9henVyZWZpcmV3YWxscy0tU05BVFBvcnRVdGlsaXphdGlvbiIsCiAgICAgICAgICAgICJhZ2dyZWdhdGlvbiI6IDQsCiAgICAgICAgICAgICJzcGxpdEJ5IjogbnVsbAogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInRpdGxlIjogIlNOQVQgUG9ydCBVdGlsaXphdGlvbiIsCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJyb3dMaW1pdCI6IDEwMDAwCiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRk92ZXJ2aWV3IgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiNTAiLAogICAgICAibmFtZSI6ICJtZXRyaWMgLSAyNSAtIENvcHkiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDEwLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAiY2hhcnRJZCI6ICJ3b3JrYm9vazc2ODY0ZWQ1LWRkMzQtNDJkMC1hZTM1LWYzZGI5ZjllOGYxNSIsCiAgICAgICAgInZlcnNpb24iOiAiTWV0cmljc0l0ZW0vMi4wIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgImNoYXJ0VHlwZSI6IDIsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQubmV0d29yay9henVyZWZpcmV3YWxscyIsCiAgICAgICAgIm1ldHJpY1Njb3BlIjogMCwKICAgICAgICAicmVzb3VyY2VQYXJhbWV0ZXIiOiAiUmVzb3VyY2UiLAogICAgICAgICJyZXNvdXJjZUlkcyI6IFsKICAgICAgICAgICJ7UmVzb3VyY2V9IgogICAgICAgIF0sCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJ0aW1lQ29udGV4dCI6IHsKICAgICAgICAgICJkdXJhdGlvbk1zIjogNzc3NjAwMDAwMAogICAgICAgIH0sCiAgICAgICAgIm1ldHJpY3MiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lc3BhY2UiOiAibWljcm9zb2Z0Lm5ldHdvcmsvYXp1cmVmaXJld2FsbHMiLAogICAgICAgICAgICAibWV0cmljIjogIm1pY3Jvc29mdC5uZXR3b3JrL2F6dXJlZmlyZXdhbGxzLS1OZXR3b3JrUnVsZUhpdCIsCiAgICAgICAgICAgICJhZ2dyZWdhdGlvbiI6IDEsCiAgICAgICAgICAgICJzcGxpdEJ5IjogbnVsbAogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInRpdGxlIjogIk5ldHdvcmsgUnVsZSBIaXRjb3VudCAoU1VNKSIsCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJyb3dMaW1pdCI6IDEwMDAwCiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRk92ZXJ2aWV3IgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiNTAiLAogICAgICAibmFtZSI6ICJtZXRyaWMgLSAyNSAtIENvcHkgLSBDb3B5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAxMCwKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgImNoYXJ0SWQiOiAid29ya2Jvb2s3Njg2NGVkNS1kZDM0LTQyZDAtYWUzNS1mM2RiOWY5ZThmMTUiLAogICAgICAgICJ2ZXJzaW9uIjogIk1ldHJpY3NJdGVtLzIuMCIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJjaGFydFR5cGUiOiAyLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm5ldHdvcmsvYXp1cmVmaXJld2FsbHMiLAogICAgICAgICJtZXRyaWNTY29wZSI6IDAsCiAgICAgICAgInJlc291cmNlUGFyYW1ldGVyIjogIlJlc291cmNlIiwKICAgICAgICAicmVzb3VyY2VJZHMiOiBbCiAgICAgICAgICAie1Jlc291cmNlfSIKICAgICAgICBdLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAidGltZUNvbnRleHQiOiB7CiAgICAgICAgICAiZHVyYXRpb25NcyI6IDc3NzYwMDAwMDAKICAgICAgICB9LAogICAgICAgICJtZXRyaWNzIjogWwogICAgICAgICAgewogICAgICAgICAgICAibmFtZXNwYWNlIjogIm1pY3Jvc29mdC5uZXR3b3JrL2F6dXJlZmlyZXdhbGxzIiwKICAgICAgICAgICAgIm1ldHJpYyI6ICJtaWNyb3NvZnQubmV0d29yay9henVyZWZpcmV3YWxscy0tQXBwbGljYXRpb25SdWxlSGl0IiwKICAgICAgICAgICAgImFnZ3JlZ2F0aW9uIjogMSwKICAgICAgICAgICAgInNwbGl0QnkiOiBudWxsCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAidGl0bGUiOiAiQXBwbGljYXRpb24gUnVsZSBIaXRjb3VudCAoU1VNKSIsCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJyb3dMaW1pdCI6IDEwMDAwCiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRk92ZXJ2aWV3IgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiNTAiLAogICAgICAibmFtZSI6ICJtZXRyaWMgLSAyNSAtIENvcHkgLSBDb3B5IC0gQ29weSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMSwKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgImpzb24iOiAiLS0tXHJcbiMgQXp1cmUgRmlyZXdhbGwgLSBBcHBsaWNhdGlvbiBydWxlIGxvZyBzdGF0aXN0aWNzIgogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRkFwcFJ1bGUiCiAgICAgIH0sCiAgICAgICJuYW1lIjogInRleHQgLSAxNCIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsQXBwbGljYXRpb25SdWxlXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgUmVzb3VyY2VJZCxSZXNvdXJjZUdyb3VwLFN1YnNjcmlwdGlvbklkLCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQpO1xyXG51bmlvblxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOlwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTpcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyAgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCIgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pXHJcbnwgc3VtbWFyaXplIEFtb3VudD1jb3VudCgpIGJ5IFNvdXJjZUlQXHJcbnwgam9pbiBraW5kID0gaW5uZXJcclxuKCB1bmlvbiAoXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOlwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTpcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyAgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCIgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pXHJcbiAgICB8IG1ha2Utc2VyaWVzIFRyZW5kID0gY291bnQoKSBkZWZhdWx0ID0gMCBvbiBiaW4oVGltZUdlbmVyYXRlZCwgMWQpIGZyb20ge1RpbWVSYW5nZTpzdGFydH0gdG8ge1RpbWVSYW5nZTplbmR9IHN0ZXAge1RpbWVSYW5nZTpncmFpbn0gYnkgU291cmNlSVApIG9uIFNvdXJjZUlQXHJcbiAgICB8IHByb2plY3QtYXdheSBTb3VyY2VJUDEsIFRpbWVHZW5lcmF0ZWRcclxuICAgIHwgdG9wIDEwIGJ5IEFtb3VudFxyXG4gICAgfCBzb3J0IGJ5IEFtb3VudFxyXG4iLAogICAgICAgICJzaXplIjogMSwKICAgICAgICAidGl0bGUiOiAiVW5pcXVlIFNvdXJjZSBJUCBhZGRyZXNzZXMsIGZpbHRlcmFibGUgYnkgU2VsZWN0ZWRTb3VyY2VJUDogUXVlcnkgVGltZSAoeyRxdWVyeVRpbWV9KSIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIEFwcGxpY2F0aW9uIFJ1bGUgbG9ncyB3aXRoaW4gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZXMuIElmIHlvdSBiZWxpZXZlIHRoZSBzZWxlY3Rpb24gaXMgY29ycmVjdCwgY29uZmlybSBBcHBsaWNhdGlvbiBSdWxlIGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgImV4cG9ydEZpZWxkTmFtZSI6ICJTb3VyY2VJUCIsCiAgICAgICAgImV4cG9ydFBhcmFtZXRlck5hbWUiOiAiU2VsZWN0ZWRTb3VyY2VJUCIsCiAgICAgICAgImV4cG9ydERlZmF1bHRWYWx1ZSI6ICIqIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAidmlzdWFsaXphdGlvbiI6ICJ0aWxlcyIsCiAgICAgICAgInRpbGVTZXR0aW5ncyI6IHsKICAgICAgICAgICJ0aXRsZUNvbnRlbnQiOiB7CiAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJBbW91bnQiLAogICAgICAgICAgICAiZm9ybWF0dGVyIjogMTIsCiAgICAgICAgICAgICJmb3JtYXRPcHRpb25zIjogewogICAgICAgICAgICAgICJzaG93SWNvbiI6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICJzdWJ0aXRsZUNvbnRlbnQiOiB7CiAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJTb3VyY2VJUCIsCiAgICAgICAgICAgICJmb3JtYXR0ZXIiOiAxLAogICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAic2hvd0ljb24iOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAic2Vjb25kYXJ5Q29udGVudCI6IHsKICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIlRyZW5kIiwKICAgICAgICAgICAgImZvcm1hdHRlciI6IDksCiAgICAgICAgICAgICJmb3JtYXRPcHRpb25zIjogewogICAgICAgICAgICAgICJzaG93SWNvbiI6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICJzaG93Qm9yZGVyIjogZmFsc2UKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGQXBwUnVsZSIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjUwIiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSA0IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogImxldCBtYXRlcmlhbGl6ZWREYXRhID1cclxubWF0ZXJpYWxpemUoXHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxBcHBsaWNhdGlvblJ1bGVcIlxyXG58IHdoZXJlIFJlc291cmNlIGlufiAoc3BsaXQoXCJ7UmVzb3VyY2U6bGFiZWx9XCIsIFwiLCBcIikpXHJcbnwgcHJvamVjdCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQpO1xyXG51bmlvblxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOlwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTpcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyAgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCIgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pXHJcbnwgd2hlcmUgUnVsZUNvbGxlY3Rpb24gbWF0Y2hlcyByZWdleCBcIi4qXCIgXHJcbnwgc3VtbWFyaXplIENvdW50ID0gY291bnQoKSwgbGFzdF9sb2cgPSBkYXRldGltZV9kaWZmKFwic2Vjb25kXCIsIG5vdygpLCBtYXgoVGltZUdlbmVyYXRlZCkpIGJ5IFJ1bGVDb2xsZWN0aW9uLCBSdWxlLCBXZWJDYXRlZ29yeSIsCiAgICAgICAgInNpemUiOiAxLAogICAgICAgICJ0aXRsZSI6ICJBcHBsaWNhdGlvbiBSdWxlIFVzYWdlIDogUXVlcnkgVGltZSAoeyRxdWVyeVRpbWV9KSIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIEFwcGxpY2F0aW9uIFJ1bGUgbG9ncyB3aXRoaW4gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZXMuIElmIHlvdSBiZWxpZXZlIHRoZSBzZWxlY3Rpb24gaXMgY29ycmVjdCwgY29uZmlybSBBcHBsaWNhdGlvbiBSdWxlIGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJmb3JtYXR0ZXJzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIkNvdW50IiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAibnVtYmVyRm9ybWF0IjogewogICAgICAgICAgICAgICAgInVuaXQiOiAxNywKICAgICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgICAic3R5bGUiOiAiZGVjaW1hbCIsCiAgICAgICAgICAgICAgICAgICJ1c2VHcm91cGluZyI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAibWF4aW11bVNpZ25pZmljYW50RGlnaXRzIjogNAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJsYXN0X2xvZyIsCiAgICAgICAgICAgICAgImZvcm1hdHRlciI6IDgsCiAgICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAicGFsZXR0ZSI6ICJncmVlblJlZCIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJudW1iZXJGb3JtYXQiOiB7CiAgICAgICAgICAgICAgICAidW5pdCI6IDI0LAogICAgICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAgICJzdHlsZSI6ICJkZWNpbWFsIiwKICAgICAgICAgICAgICAgICAgInVzZUdyb3VwaW5nIjogZmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICAic29ydEJ5IjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgIml0ZW1LZXkiOiAiJGdlbl9oZWF0bWFwX2xhc3RfbG9nXzQiLAogICAgICAgICAgICAgICJzb3J0T3JkZXIiOiAxCiAgICAgICAgICAgIH0KICAgICAgICAgIF0KICAgICAgICB9LAogICAgICAgICJzb3J0QnkiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJpdGVtS2V5IjogIiRnZW5faGVhdG1hcF9sYXN0X2xvZ180IiwKICAgICAgICAgICAgInNvcnRPcmRlciI6IDEKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGQXBwUnVsZSIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjUwIiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSAzNiIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsQXBwbGljYXRpb25SdWxlXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgbXNnX3MsIFJlc291cmNlLCBUaW1lR2VuZXJhdGVkKTtcclxudW5pb25cclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgaGFzIFwiLiBObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIFVybDpcIiBVcmwgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBObyBydWxlIG1hdGNoZWRcIiAqXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyAhaGFzIFwiLiBVcmxcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246XCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6XCIgUnVsZSBcIi4gV2ViIENhdGVnb3J5OlwiIFdlYkNhdGVnb3J5XHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFwiIFJ1bGVcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCIgUmVhc29uOlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJlYXNvbjogXCIgUnVsZSBcIi5cIlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgIFwiVExTIGV4dGVuc2lvbiB3YXMgbWlzc2luZ1wiIGFuZCBtc2dfcyAhaGFzIFwiTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIiBSZWFzb246IFwiXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiUnVsZSBDb2xsZWN0aW9uIEdyb3VwXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUG9saWN5OlwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOlwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuKVxyXG58IHdoZXJlIEFjdGlvbiA9PSBcIkRlbnlcIlxyXG58IHdoZXJlICd7U2VsZWN0ZWRTb3VyY2VJUH0nID09IFNvdXJjZUlQIG9yICd7U2VsZWN0ZWRTb3VyY2VJUH0nID09IFwiKlwiICBcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBGUUROLCBiaW4oVGltZUdlbmVyYXRlZCx7VGltZVJhbmdlOmdyYWlufSkiLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiRGVuaWVkIEZRRE4ncyBvdmVyIHRpbWUiLAogICAgICAgICJub0RhdGFNZXNzYWdlIjogIlRoZXJlIGFyZSBubyBBcHBsaWNhdGlvbiBSdWxlIGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gQXBwbGljYXRpb24gUnVsZSBsb2dzIGFyZSBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGlzIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInRpbWVjaGFydCIsCiAgICAgICAgInRpbGVTZXR0aW5ncyI6IHsKICAgICAgICAgICJzaG93Qm9yZGVyIjogZmFsc2UKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGQXBwUnVsZSIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjUwIiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSAzIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogImxldCBtYXRlcmlhbGl6ZWREYXRhID1cclxubWF0ZXJpYWxpemUoXHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxBcHBsaWNhdGlvblJ1bGVcIlxyXG58IHdoZXJlIFJlc291cmNlIGlufiAoc3BsaXQoXCJ7UmVzb3VyY2U6bGFiZWx9XCIsIFwiLCBcIikpXHJcbnwgcHJvamVjdCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQpO1xyXG51bmlvblxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOlwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTpcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyAgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCIgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pXHJcbnwgd2hlcmUgQWN0aW9uID09IFwiRGVueVwiXHJcbnwgd2hlcmUgJ3tTZWxlY3RlZFNvdXJjZUlQfScgPT0gU291cmNlSVAgb3IgJ3tTZWxlY3RlZFNvdXJjZUlQfScgPT0gXCIqXCIgIFxyXG58IHN1bW1hcml6ZSBjb3VudCgpIGJ5IEZRRE5cclxufCBzb3J0IGJ5IGNvdW50XyBkZXNjXHJcbiIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJzaG93QW5hbHl0aWNzIjogdHJ1ZSwKICAgICAgICAidGl0bGUiOiAiRGVuaWVkIEZRRE4ncyBieSBjb3VudCIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIEFwcGxpY2F0aW9uIFJ1bGUgbG9ncyB3aXRoaW4gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZXMuIElmIHlvdSBiZWxpZXZlIHRoZSBzZWxlY3Rpb24gaXMgY29ycmVjdCwgY29uZmlybSBBcHBsaWNhdGlvbiBSdWxlIGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgInNob3dFeHBvcnRUb0V4Y2VsIjogdHJ1ZSwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAidmlzdWFsaXphdGlvbiI6ICJ0YWJsZSIsCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJmb3JtYXR0ZXJzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogImNvdW50XyIsCiAgICAgICAgICAgICAgImZvcm1hdHRlciI6IDgsCiAgICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAicGFsZXR0ZSI6ICJ3aGl0ZUJsYWNrIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIm51bWJlckZvcm1hdCI6IHsKICAgICAgICAgICAgICAgICJ1bml0IjogMTcsCiAgICAgICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICAgInN0eWxlIjogImRlY2ltYWwiLAogICAgICAgICAgICAgICAgICAidXNlR3JvdXBpbmciOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgIm1heGltdW1TaWduaWZpY2FudERpZ2l0cyI6IDQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICAic29ydEJ5IjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgIml0ZW1LZXkiOiAiJGdlbl9oZWF0bWFwX2NvdW50X18xIiwKICAgICAgICAgICAgICAic29ydE9yZGVyIjogMgogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAic29ydEJ5IjogWwogICAgICAgICAgewogICAgICAgICAgICAiaXRlbUtleSI6ICIkZ2VuX2hlYXRtYXBfY291bnRfXzEiLAogICAgICAgICAgICAic29ydE9yZGVyIjogMgogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZBcHBSdWxlIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiNTAiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDciCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAibGV0IG1hdGVyaWFsaXplZERhdGEgPVxyXG4oXHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxBcHBsaWNhdGlvblJ1bGVcIlxyXG4gICAgfCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwiQXp1cmVGaXJld2FsbF9odWIxLCBmaXJld2FsbC1sYXQsIEZXLVRlc3QtRE5BVFBJUCwgbGctTlMtRlctbmV0c2VjLCBTT0MtTlMtRldcIiwgXCIsIFwiKSlcclxuICAgIHwgcHJvamVjdCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQpO1xyXG51bmlvblxyXG4gICAgKFxyXG4gICAgbWF0ZXJpYWxpemVkRGF0YVxyXG4gICAgfCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCJcclxuICAgIHwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuICAgICksXHJcbiAgICAoXHJcbiAgICBtYXRlcmlhbGl6ZWREYXRhXHJcbiAgICB8IHdoZXJlIG1zZ19zIGhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCJcclxuICAgIHwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuICAgICksXHJcbiAgICAoXHJcbiAgICBtYXRlcmlhbGl6ZWREYXRhXHJcbiAgICB8IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCJcclxuICAgICAgICBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCJcclxuICAgICAgICBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG4gICAgfCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFwiIFJ1bGVcclxuICAgICksXHJcbiAgICAoXHJcbiAgICBtYXRlcmlhbGl6ZWREYXRhXHJcbiAgICB8IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCJcclxuICAgICAgICBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCJcclxuICAgICAgICBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCJcclxuICAgIHwgd2hlcmUgbXNnX3MgaGFzIFwiIFJlYXNvbjpcIlxyXG4gICAgfCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiAgICApLFxyXG4gICAgKFxyXG4gICAgbWF0ZXJpYWxpemVkRGF0YVxyXG4gICAgfCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCJcclxuICAgICAgICBhbmQgbXNnX3MgIWhhcyBcIk5vIHJ1bGUgbWF0Y2hlZFwiXHJcbiAgICAgICAgYW5kIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbiBHcm91cFwiXHJcbiAgICB8IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiAgICApLFxyXG4gICAgKFxyXG4gICAgbWF0ZXJpYWxpemVkRGF0YVxyXG4gICAgfCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG4gICAgfCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG4gICAgfCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUG9saWN5OiBcIiBQb2xpY3kgXCIuIFJ1bGUgQ29sbGVjdGlvbiBHcm91cDogXCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4gICAgKSBcclxufCB3aGVyZSBBY3Rpb24gPT0gXCJBbGxvd1wiXHJcbnwgc3VtbWFyaXplIGNvdW50KCkgYnkgRlFETiwgYmluKFRpbWVHZW5lcmF0ZWQsIDZoKVxyXG4iLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiQWxsb3dlZCBGUUROJ3Mgb3ZlciB0aW1lIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGVyZSBhcmUgbm8gQXBwbGljYXRpb24gUnVsZSBsb2dzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlcy4gSWYgeW91IGJlbGlldmUgdGhlIHNlbGVjdGlvbiBpcyBjb3JyZWN0LCBjb25maXJtIEFwcGxpY2F0aW9uIFJ1bGUgbG9ncyBhcmUgZW5hYmxlZCBmb3IgdGhlIEF6dXJlIEZpcmV3YWxsIGFuZCBmZWVkaW5nIGludG8gdGhpcyBzZWxlY3RlZCB3b3Jrc3BhY2UuIFJlZmVyZW5jZSBEb2NzOiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9maXJld2FsbC8iLAogICAgICAgICJub0RhdGFNZXNzYWdlU3R5bGUiOiAyLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAidmlzdWFsaXphdGlvbiI6ICJ0aW1lY2hhcnQiCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGQXBwUnVsZSIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjUwIiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSA1IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogImxldCBtYXRlcmlhbGl6ZWREYXRhID1cclxuKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsQXBwbGljYXRpb25SdWxlXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgbXNnX3MsIFJlc291cmNlLCBUaW1lR2VuZXJhdGVkKTtcclxudW5pb25cclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgaGFzIFwiLiBObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIFVybDpcIiBVcmwgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBObyBydWxlIG1hdGNoZWRcIiAqXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyAhaGFzIFwiLiBVcmxcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246XCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6XCIgUnVsZSBcIi4gV2ViIENhdGVnb3J5OlwiIFdlYkNhdGVnb3J5XHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFwiIFJ1bGVcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCIgUmVhc29uOlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJlYXNvbjogXCIgUnVsZSBcIi5cIlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgIFwiVExTIGV4dGVuc2lvbiB3YXMgbWlzc2luZ1wiIGFuZCBtc2dfcyAhaGFzIFwiTm8gcnVsZSBtYXRjaGVkXCIgYW5kIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbiBHcm91cFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6IFwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOiBcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbilcclxufCB3aGVyZSBBY3Rpb24gPT0gXCJBbGxvd1wiXHJcbnwgd2hlcmUgJ3tTZWxlY3RlZFNvdXJjZUlQfScgPT0gU291cmNlSVAgb3IgJ3tTZWxlY3RlZFNvdXJjZUlQfScgPT0gXCIqXCIgICBcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBGUUROXHJcbnwgc29ydCBieSBjb3VudF8gZGVzYyIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJzaG93QW5hbHl0aWNzIjogdHJ1ZSwKICAgICAgICAidGl0bGUiOiAiQWxsb3dlZCBGUUROJ3MgYnkgY291bnQiLAogICAgICAgICJub0RhdGFNZXNzYWdlIjogIlRoZXJlIGFyZSBubyBBcHBsaWNhdGlvbiBSdWxlIGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gQXBwbGljYXRpb24gUnVsZSBsb2dzIGFyZSBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGlzIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJzaG93RXhwb3J0VG9FeGNlbCI6IHRydWUsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAidGFibGUiLAogICAgICAgICJncmlkU2V0dGluZ3MiOiB7CiAgICAgICAgICAiZm9ybWF0dGVycyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJjb3VudF8iLAogICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiA4LAogICAgICAgICAgICAgICJmb3JtYXRPcHRpb25zIjogewogICAgICAgICAgICAgICAgInBhbGV0dGUiOiAid2hpdGVCbGFjayIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJudW1iZXJGb3JtYXQiOiB7CiAgICAgICAgICAgICAgICAidW5pdCI6IDE3LAogICAgICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAgICJzdHlsZSI6ICJkZWNpbWFsIiwKICAgICAgICAgICAgICAgICAgInVzZUdyb3VwaW5nIjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICJtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHMiOiA0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAic29ydEJ5IjogW10KICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZBcHBSdWxlIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiNTAiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDIiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAibGV0IG1hdGVyaWFsaXplZERhdGEgPVxyXG4gICAgKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsQXBwbGljYXRpb25SdWxlXCJcclxuICAgIHwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIkF6dXJlRmlyZXdhbGxfaHViMSwgZmlyZXdhbGwtbGF0LCBGVy1UZXN0LUROQVRQSVAsIGxnLU5TLUZXLW5ldHNlYywgU09DLU5TLUZXXCIsIFwiLCBcIikpXHJcbiAgICB8IHByb2plY3QgbXNnX3MsIFJlc291cmNlLCBUaW1lR2VuZXJhdGVkKTtcclxudW5pb25cclxuICAgIChcclxuICAgIG1hdGVyaWFsaXplZERhdGFcclxuICAgIHwgd2hlcmUgbXNnX3MgaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiXHJcbiAgICB8IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIFVybDpcIiBVUkwgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6IFwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOiBcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246XCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6XCIgUnVsZSBcIi4gV2ViIENhdGVnb3J5OlwiIFdlYkNhdGVnb3J5XHJcbiAgICApLFxyXG4gICAgKFxyXG4gICAgbWF0ZXJpYWxpemVkRGF0YVxyXG4gICAgfCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiXHJcbiAgICAgICAgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCJcclxuICAgICAgICBhbmQgbXNnX3MgaGFzIFwiLiBObyBydWxlIG1hdGNoZWRcIlxyXG4gICAgfCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4gICAgKSxcclxuICAgIChcclxuICAgIG1hdGVyaWFsaXplZERhdGFcclxuICAgIHwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIlxyXG4gICAgICAgIGFuZCBtc2dfcyAhaGFzIFwiLiBVcmxcIlxyXG4gICAgICAgIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbiAgICB8IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBObyBydWxlIG1hdGNoZWRcIiAqXHJcbiAgICApLFxyXG4gICAgKFxyXG4gICAgbWF0ZXJpYWxpemVkRGF0YVxyXG4gICAgfCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbiAgICB8IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246XCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6XCIgUnVsZSBcIi4gV2ViIENhdGVnb3J5OlwiIFdlYkNhdGVnb3J5XHJcbiAgICApLFxyXG4gICAgKFxyXG4gICAgbWF0ZXJpYWxpemVkRGF0YVxyXG4gICAgfCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIlxyXG4gICAgICAgIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxuICAgIHwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBcIiBSdWxlXHJcbiAgICApLFxyXG4gICAgKFxyXG4gICAgbWF0ZXJpYWxpemVkRGF0YVxyXG4gICAgfCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIlxyXG4gICAgICAgIGFuZCBtc2dfcyAhaGFzIFwiVExTIGV4dGVuc2lvbiB3YXMgbWlzc2luZ1wiXHJcbiAgICB8IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxuICAgIHwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJlYXNvbjogXCIgUnVsZSBcIi5cIlxyXG4gICAgKSxcclxuICAgIChcclxuICAgIG1hdGVyaWFsaXplZERhdGFcclxuICAgIHwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIlxyXG4gICAgICAgIGFuZCBtc2dfcyAhaGFzIFwiLiBVcmxcIlxyXG4gICAgICAgIGFuZCBtc2dfcyAhaGFzIFwiVExTIGV4dGVuc2lvbiB3YXMgbWlzc2luZ1wiXHJcbiAgICAgICAgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG4gICAgICAgIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uIEdyb3VwXCJcclxuICAgIHwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuICAgICksXHJcbiAgICAoXHJcbiAgICBtYXRlcmlhbGl6ZWREYXRhXHJcbiAgICB8IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCJcclxuICAgICAgICBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCJcclxuICAgICAgICBhbmQgbXNnX3MgIWhhcyBcIiBSZWFzb246IFwiXHJcbiAgICB8IHdoZXJlIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbiBHcm91cFwiXHJcbiAgICB8IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6IFwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOiBcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiAgICApXHJcbnwgd2hlcmUgaXNub3RlbXB0eShXZWJDYXRlZ29yeSlcclxufCB3aGVyZSBBY3Rpb24gPT0gXCJBbGxvd1wiXHJcbnwgd2hlcmUgJyonID09IFNvdXJjZUlQIG9yICcqJyA9PSBcIipcIiAgXHJcbnwgc3VtbWFyaXplIGNvdW50KCkgYnkgV2ViQ2F0ZWdvcnksIGJpbihUaW1lR2VuZXJhdGVkLCA2aHJzKVxyXG4iLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiQWxsb3dlZCBXZWIgQ2F0ZWdvcmllcyBvdmVyIHRpbWUiLAogICAgICAgICJub0RhdGFNZXNzYWdlIjogIlRoZXJlIGFyZSBubyBBcHBsaWNhdGlvbiBSdWxlIGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gQXBwbGljYXRpb24gUnVsZSBsb2dzIGFyZSBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGlzIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInRpbWVjaGFydCIsCiAgICAgICAgImNoYXJ0U2V0dGluZ3MiOiB7CiAgICAgICAgICAic2hvd0xlZ2VuZCI6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGQXBwUnVsZSIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjUwIiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSA1IC0gQ29weSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbihcclxuQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIENhdGVnb3J5ID09IFwiQXp1cmVGaXJld2FsbEFwcGxpY2F0aW9uUnVsZVwiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCBwcm9qZWN0IG1zZ19zLCBSZXNvdXJjZSwgVGltZUdlbmVyYXRlZCk7XHJcbnVuaW9uXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgaGFzIFwiLiBVcmxcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIFVybDogXCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUG9saWN5OiBcIiBQb2xpY3kgXCIuIFJ1bGUgQ29sbGVjdGlvbiBHcm91cDogXCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZSBcIi4gV2ViIENhdGVnb3J5OiBcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6IFwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTogXCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyAgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCIgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pXHJcbnwgd2hlcmUgaXNub3RlbXB0eShXZWJDYXRlZ29yeSlcclxufCB3aGVyZSBBY3Rpb24gPT0gXCJBbGxvd1wiXHJcbnwgd2hlcmUgJ3tTZWxlY3RlZFNvdXJjZUlQfScgPT0gU291cmNlSVAgb3IgJ3tTZWxlY3RlZFNvdXJjZUlQfScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBXZWJDYXRlZ29yeVxyXG58IHNvcnQgYnkgY291bnRfIGRlc2NcclxuIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInRpdGxlIjogIkFsbG93ZWQgV2ViIENhdGVnb3JpZXMgYnkgY291bnQiLAogICAgICAgICJub0RhdGFNZXNzYWdlIjogIlRoZXJlIGFyZSBubyBBcHBsaWNhdGlvbiBSdWxlIGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gQXBwbGljYXRpb24gUnVsZSBsb2dzIGFyZSBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGlzIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJncmlkU2V0dGluZ3MiOiB7CiAgICAgICAgICAiZm9ybWF0dGVycyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJjb3VudF8iLAogICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiA4LAogICAgICAgICAgICAgICJmb3JtYXRPcHRpb25zIjogewogICAgICAgICAgICAgICAgInBhbGV0dGUiOiAid2hpdGVCbGFjayIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJudW1iZXJGb3JtYXQiOiB7CiAgICAgICAgICAgICAgICAidW5pdCI6IDE3LAogICAgICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAgICJzdHlsZSI6ICJkZWNpbWFsIiwKICAgICAgICAgICAgICAgICAgInVzZUdyb3VwaW5nIjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICJtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHMiOiA0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAiY2hhcnRTZXR0aW5ncyI6IHsKICAgICAgICAgICJzaG93TGVnZW5kIjogdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZBcHBSdWxlIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiNTAiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDUgLSBDb3B5IC0gQ29weSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbihcclxuQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIENhdGVnb3J5ID09IFwiQXp1cmVGaXJld2FsbEFwcGxpY2F0aW9uUnVsZVwiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCBwcm9qZWN0IG1zZ19zLCBSZXNvdXJjZSwgVGltZUdlbmVyYXRlZCk7XHJcbnVuaW9uXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgaGFzIFwiLiBVcmxcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIFVybDpcIiBVcmwgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiIC4gUG9saWN5OiBcIiBQb2xpY3kgXCIuIFJ1bGUgQ29sbGVjdGlvbiBHcm91cDogXCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZSBcIi4gV2ViIENhdGVnb3J5OiBcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6IFwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTogXCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyAgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCIgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pXHJcbnwgd2hlcmUgaXNub3RlbXB0eShXZWJDYXRlZ29yeSlcclxufCB3aGVyZSBBY3Rpb24gPT0gXCJEZW55XCJcclxufCB3aGVyZSAne1NlbGVjdGVkU291cmNlSVB9JyA9PSBTb3VyY2VJUCBvciAne1NlbGVjdGVkU291cmNlSVB9JyA9PSBcIipcIiAgXHJcbnwgc3VtbWFyaXplIGNvdW50KCkgYnkgV2ViQ2F0ZWdvcnksIGJpbihUaW1lR2VuZXJhdGVkLHtUaW1lUmFuZ2U6Z3JhaW59KVxyXG4iLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiRGVuaWVkIFdlYiBDYXRlZ29yaWVzIG92ZXIgdGltZSIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIEFwcGxpY2F0aW9uIFJ1bGUgbG9ncyB3aXRoaW4gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZXMuIElmIHlvdSBiZWxpZXZlIHRoZSBzZWxlY3Rpb24gaXMgY29ycmVjdCwgY29uZmlybSBBcHBsaWNhdGlvbiBSdWxlIGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAidGltZWNoYXJ0IiwKICAgICAgICAiY2hhcnRTZXR0aW5ncyI6IHsKICAgICAgICAgICJzaG93TGVnZW5kIjogdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZBcHBSdWxlIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiNTAiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDUgLSBDb3B5IC0gQ29weSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbihcclxuQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIENhdGVnb3J5ID09IFwiQXp1cmVGaXJld2FsbEFwcGxpY2F0aW9uUnVsZVwiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCBwcm9qZWN0IG1zZ19zLCBSZXNvdXJjZSwgVGltZUdlbmVyYXRlZCk7XHJcbnVuaW9uXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgaGFzIFwiLiBVcmxcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIFVybDpcIiBVcmwgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6IFwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOiBcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6IFwiIFdlYkNhdGVnb3J5XHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgaGFzIFwiLiBObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBObyBydWxlIG1hdGNoZWRcIiAqXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUG9saWN5OiBcIiBQb2xpY3kgXCIuIFJ1bGUgQ29sbGVjdGlvbiBHcm91cDogXCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6IFwiIFdlYkNhdGVnb3J5XHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFwiIFJ1bGVcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCIgUmVhc29uOlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJlYXNvbjogXCIgUnVsZSBcIi5cIlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgIFwiVExTIGV4dGVuc2lvbiB3YXMgbWlzc2luZ1wiIGFuZCBtc2dfcyAhaGFzIFwiTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIiBSZWFzb246IFwiXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiUnVsZSBDb2xsZWN0aW9uIEdyb3VwXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUG9saWN5OlwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOlwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuKVxyXG58IHdoZXJlIGlzbm90ZW1wdHkoV2ViQ2F0ZWdvcnkpXHJcbnwgd2hlcmUgQWN0aW9uID09IFwiRGVueVwiXHJcbnwgd2hlcmUgJ3tTZWxlY3RlZFNvdXJjZUlQfScgPT0gU291cmNlSVAgb3IgJ3tTZWxlY3RlZFNvdXJjZUlQfScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBXZWJDYXRlZ29yeVxyXG58IHNvcnQgYnkgY291bnRfIGRlc2MiLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAic2hvd0FuYWx5dGljcyI6IHRydWUsCiAgICAgICAgInRpdGxlIjogIkRlbmllZCBXZWIgQ2F0Z29yaWVzIGJ5IGNvdW50IiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGVyZSBhcmUgbm8gQXBwbGljYXRpb24gUnVsZSBsb2dzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlcy4gSWYgeW91IGJlbGlldmUgdGhlIHNlbGVjdGlvbiBpcyBjb3JyZWN0LCBjb25maXJtIEFwcGxpY2F0aW9uIFJ1bGUgbG9ncyBhcmUgZW5hYmxlZCBmb3IgdGhlIEF6dXJlIEZpcmV3YWxsIGFuZCBmZWVkaW5nIGludG8gdGhpcyBzZWxlY3RlZCB3b3Jrc3BhY2UuIFJlZmVyZW5jZSBEb2NzOiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9maXJld2FsbC8iLAogICAgICAgICJub0RhdGFNZXNzYWdlU3R5bGUiOiAyLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAic2hvd0V4cG9ydFRvRXhjZWwiOiB0cnVlLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInRhYmxlIiwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgImZvcm1hdHRlcnMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiY291bnRfIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAibnVtYmVyRm9ybWF0IjogewogICAgICAgICAgICAgICAgInVuaXQiOiAxNywKICAgICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgICAic3R5bGUiOiAiZGVjaW1hbCIsCiAgICAgICAgICAgICAgICAgICJ1c2VHcm91cGluZyI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAibWF4aW11bVNpZ25pZmljYW50RGlnaXRzIjogNAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgInNvcnRCeSI6IFtdCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGQXBwUnVsZSIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjUwIiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSAyIC0gQ29weSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsQXBwbGljYXRpb25SdWxlXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgUmVzb3VyY2VJZCxSZXNvdXJjZUdyb3VwLFN1YnNjcmlwdGlvbklkLCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQpO1xyXG51bmlvblxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOlwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTpcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyAgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCIgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIiBSZWFzb246IFwiXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiUnVsZSBDb2xsZWN0aW9uIEdyb3VwXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUG9saWN5OlwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOlwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuKVxyXG58IHdoZXJlICd7U2VsZWN0ZWRTb3VyY2VJUH0nID09IFNvdXJjZUlQIG9yICd7U2VsZWN0ZWRTb3VyY2VJUH0nID09IFwiKlwiICBcclxufCBzdW1tYXJpemUgYnkgVGltZUdlbmVyYXRlZCwgRlFETiwgUHJvdG9jb2wsIEFjdGlvbiwgU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RpbmF0aW9uUG9ydCAsIFJlc291cmNlSWQgLCBSZXNvdXJjZUdyb3VwICwgUnVsZUNvbGxlY3Rpb24sIFJ1bGUsIFdlYkNhdGVnb3J5LCBTdWJzY3JpcHRpb25JZFxyXG4iLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAic2hvd0FuYWx5dGljcyI6IHRydWUsCiAgICAgICAgInRpdGxlIjogIkFsbCBJUCBhZGRyZXNzZXMgZXZlbnRzOiBRdWVyeSBUaW1lKHskcXVlcnlUaW1lfSkgOiBUb3RhbCBSb3dzKHskcm93Q291bnR9KSIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIEFwcGxpY2F0aW9uIFJ1bGUgbG9ncyB3aXRoaW4gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZXMuIElmIHlvdSBiZWxpZXZlIHRoZSBzZWxlY3Rpb24gaXMgY29ycmVjdCwgY29uZmlybSBBcHBsaWNhdGlvbiBSdWxlIGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgInNob3dFeHBvcnRUb0V4Y2VsIjogdHJ1ZSwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgInJvd0xpbWl0IjogMjAwMCwKICAgICAgICAgICJmaWx0ZXIiOiB0cnVlCiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRkFwcFJ1bGUiCiAgICAgIH0sCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gOSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMSwKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgImpzb24iOiAiLS0tXHJcbiMgQXp1cmUgRmlyZXdhbGwgLSBOZXR3b3JrIHJ1bGUgbG9nIHN0YXRpc3RpY3MiCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGTmV0UnVsZSIKICAgICAgfSwKICAgICAgIm5hbWUiOiAidGV4dCAtIDE0IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogImxldCBtYXRlcmlhbGl6ZWREYXRhID1cclxubWF0ZXJpYWxpemUoXHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxOZXR3b3JrUnVsZVwiXHJcbnwgd2hlcmUgT3BlcmF0aW9uTmFtZSA8PiBcIkF6dXJlRmlyZXdhbGxUaHJlYXRJbnRlbExvZ1wiXHJcbnwgd2hlcmUgT3BlcmF0aW9uTmFtZSA8PiBcIkF6dXJlRmlyZXdhbGxJRFNMb2dcIlxyXG58IHdoZXJlIFJlc291cmNlIGlufiAoc3BsaXQoXCJ7UmVzb3VyY2U6bGFiZWx9XCIsIFwiLCBcIikpXHJcbnwgcHJvamVjdCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQsUmVzb3VyY2VJZCAsIFJlc291cmNlR3JvdXAgLCBTdWJzY3JpcHRpb25JZCk7XHJcbnVuaW9uXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyAtIFN0YW5kYXJkIExvZ1xyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIlR5cGU9XCIgYW5kIG1zZ19zICFoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb246XCIgYW5kIG1zZ19zICFoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgd2l0aCBJQ01QXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJUeXBlPVwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiBUeXBlPVwiIElDTVBUeXBlIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiLiBBY3Rpb246IFwiIEFjdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIC0gU3RhbmRhcmRcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIkROQVQnZWRcIiBhbmQgbXNnX3MgIWhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIiB3YXMgXCIgQWN0aW9uIFwiIHRvIFwiIE5hdERlc3RpbmF0aW9uXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyBETkFUIHJ1bGUgKGZpcmV3YWxsIG5vdCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zIGhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIiB3YXMgXCIgQWN0aW9uIFwiIHRvIFwiIE5hdERlc3RpbmF0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyBETkFUIHJ1bGUgKGZpcmV3YWxsIHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIkROQVQnZWRcIiBhbmQgbXNnX3MgaGFzIFwiLiBSdWxlIENvbGxlY3Rpb246XCIgYW5kIG1zZ19zIGhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvbiBcIi4gUG9saWN5OiBcIiBQb2xpY3kgXCIuIFJ1bGUgQ29sbGVjdGlvbiBHcm91cDpcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29yayBydWxlIChmaXJld2FsbCBub3QgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGUgTmFtZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmsgcnVsZSAoZmlyZXdhbGwgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiUG9saWN5OlwiIGFuZCAgbXNnX3MgaGFzIFwiQWN0aW9uXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4uIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6IFwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuKVxyXG58IHN1bW1hcml6ZSBjb3VudCgpIGJ5IEFjdGlvbiIsCiAgICAgICAgInNpemUiOiAzLAogICAgICAgICJ0aXRsZSI6ICJSdWxlIGFjdGlvbnMsIGZpbHRlcmFibGUgYnkgUnVsZUFjdGlvbiIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIE5ldHdvcmsgUnVsZSBsb2dzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlcy4gSWYgeW91IGJlbGlldmUgdGhlIHNlbGVjdGlvbiBpcyBjb3JyZWN0LCBjb25maXJtIE5ldHdvcmsgUnVsZSBsb2dzIGFyZSBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGlzIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJleHBvcnRGaWVsZE5hbWUiOiAic2VyaWVzIiwKICAgICAgICAiZXhwb3J0UGFyYW1ldGVyTmFtZSI6ICJSdWxlQWN0aW9uIiwKICAgICAgICAiZXhwb3J0RGVmYXVsdFZhbHVlIjogIioiLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInBpZWNoYXJ0IgogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRk5ldFJ1bGUiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIyNSIsCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gNyIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsTmV0d29ya1J1bGVcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsVGhyZWF0SW50ZWxMb2dcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgbXNnX3MsIFJlc291cmNlLCBUaW1lR2VuZXJhdGVkLFJlc291cmNlSWQgLCBSZXNvdXJjZUdyb3VwICwgU3Vic2NyaXB0aW9uSWQpO1xyXG51bmlvblxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgLSBTdGFuZGFyZCBMb2dcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJUeXBlPVwiIGFuZCBtc2dfcyAhaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIHdpdGggSUNNUFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiVHlwZT1cIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgVHlwZT1cIiBJQ01QVHlwZSBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIEROQVQgcnVsZSAtIFN0YW5kYXJkXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zICFoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCBub3QgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyBoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zIGhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyBoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiIHdhcyBcIiBBY3Rpb24gXCIgdG8gXCIgTmF0RGVzdGluYXRpb24gXCIuIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmsgcnVsZSAoZmlyZXdhbGwgbm90IHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlIE5hbWU6IFwiIFJ1bGVcclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JrIHJ1bGUgKGZpcmV3YWxsIHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pXHJcbnwgc3VtbWFyaXplIENvdW50PWNvdW50KCkgYnkgRGVzdGluYXRpb25Qb3J0IiwKICAgICAgICAic2l6ZSI6IDMsCiAgICAgICAgInRpdGxlIjogIlRhcmdldCBwb3J0cywgZmlsdGVyYWJsZSBieSBUYXJnZXRQb3J0IiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGVyZSBhcmUgbm8gTmV0d29yayBSdWxlIGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gTmV0d29yayBSdWxlIGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgImV4cG9ydEZpZWxkTmFtZSI6ICJzZXJpZXMiLAogICAgICAgICJleHBvcnRQYXJhbWV0ZXJOYW1lIjogIkRlc3RpbmF0aW9uUG9ydCIsCiAgICAgICAgImV4cG9ydERlZmF1bHRWYWx1ZSI6ICIqIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAidmlzdWFsaXphdGlvbiI6ICJwaWVjaGFydCIKICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZOZXRSdWxlIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiMjUiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDEwIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogImxldCBtYXRlcmlhbGl6ZWREYXRhID1cclxubWF0ZXJpYWxpemUoXHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxOZXR3b3JrUnVsZVwiXHJcbnwgd2hlcmUgT3BlcmF0aW9uTmFtZSA8PiBcIkF6dXJlRmlyZXdhbGxUaHJlYXRJbnRlbExvZ1wiXHJcbnwgd2hlcmUgT3BlcmF0aW9uTmFtZSA8PiBcIkF6dXJlRmlyZXdhbGxJRFNMb2dcIlxyXG58IHdoZXJlIFJlc291cmNlIGlufiAoc3BsaXQoXCJ7UmVzb3VyY2U6bGFiZWx9XCIsIFwiLCBcIikpXHJcbnwgcHJvamVjdCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQsUmVzb3VyY2VJZCAsIFJlc291cmNlR3JvdXAgLCBTdWJzY3JpcHRpb25JZCk7XHJcbnVuaW9uXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyAtIFN0YW5kYXJkIExvZ1xyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIlR5cGU9XCIgYW5kIG1zZ19zICFoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb246XCIgYW5kIG1zZ19zICFoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgd2l0aCBJQ01QXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJUeXBlPVwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiBUeXBlPVwiIElDTVBUeXBlIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiLiBBY3Rpb246IFwiIEFjdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIC0gU3RhbmRhcmRcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIkROQVQnZWRcIiBhbmQgbXNnX3MgIWhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIiB3YXMgXCIgQWN0aW9uIFwiIHRvIFwiIE5hdERlc3RpbmF0aW9uXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyBETkFUIHJ1bGUgKGZpcmV3YWxsIG5vdCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zIGhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIiB3YXMgXCIgQWN0aW9uIFwiIHRvIFwiIE5hdERlc3RpbmF0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyBETkFUIHJ1bGUgKGZpcmV3YWxsIHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIkROQVQnZWRcIiBhbmQgbXNnX3MgaGFzIFwiLiBSdWxlIENvbGxlY3Rpb246XCIgYW5kIG1zZ19zIGhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvbiBcIi4gUG9saWN5OiBcIiBQb2xpY3kgXCIuIFJ1bGUgQ29sbGVjdGlvbiBHcm91cDpcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29yayBydWxlIChmaXJld2FsbCBub3QgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGUgTmFtZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmsgcnVsZSAoZmlyZXdhbGwgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFBvbGljeTpcIiBQb2xpY3kgXCIuIFJ1bGUgQ29sbGVjdGlvbiBHcm91cDpcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlIE5hbWU6IFwiIFJ1bGVcclxuKVxyXG58IHdoZXJlIEFjdGlvbiA9PSBcIkROQVQnZWRcIlxyXG58IHN1bW1hcml6ZSBBbW91bnQ9Y291bnQoKSBieSBOYXREZXN0aW5hdGlvblxyXG4iLAogICAgICAgICJzaXplIjogMywKICAgICAgICAidGl0bGUiOiAiRE5BVCBhY3Rpb25zLCBmaWx0ZXJhYmxlIGJ5IE5hdERlc3RpbmF0aW9uIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGVyZSBhcmUgbm8gTmV0d29yayBSdWxlIGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gTmV0d29yayBSdWxlIGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgImV4cG9ydEZpZWxkTmFtZSI6ICJzZXJpZXMiLAogICAgICAgICJleHBvcnRQYXJhbWV0ZXJOYW1lIjogIk5hdERlc3RpbmF0aW9uIiwKICAgICAgICAiZXhwb3J0RGVmYXVsdFZhbHVlIjogIioiLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInBpZWNoYXJ0IgogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRk5ldFJ1bGUiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIyNSIsCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gMTIiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAiLy9yZWZlcmVuY2UgbGlzdCBwb3N0ZWQgaGVyZSA6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2RhdGEtZXhwbG9yZXIva3VzdG8vcXVlcnkvaXB2NC1sb29rdXAtcGx1Z2luXHJcbmxldCBnZW9EYXRhID0gZXh0ZXJuYWxkYXRhXHJcbihuZXR3b3JrOnN0cmluZyxnZW9uYW1lX2lkOnN0cmluZyxjb250aW5lbnRfY29kZTpzdHJpbmcsY29udGluZW50X25hbWU6c3RyaW5nLFxyXG5jb3VudHJ5X2lzb19jb2RlOnN0cmluZyxjb3VudHJ5X25hbWU6c3RyaW5nLGlzX2Fub255bW91c19wcm94eTpzdHJpbmcsaXNfc2F0ZWxsaXRlX3Byb3ZpZGVyOnN0cmluZylcclxuW0BcIntHZW9Mb2NhdGlvbn1cIl0gd2l0aCAoaWdub3JlRmlyc3RSZWNvcmQ9dHJ1ZSwgZm9ybWF0PVwiY3N2XCIpO1xyXG5sZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsTmV0d29ya1J1bGVcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsVGhyZWF0SW50ZWxMb2dcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgbXNnX3MsIFJlc291cmNlLCBUaW1lR2VuZXJhdGVkLFJlc291cmNlSWQgLCBSZXNvdXJjZUdyb3VwICwgU3Vic2NyaXB0aW9uSWQpO1xyXG51bmlvblxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgLSBTdGFuZGFyZCBMb2dcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJUeXBlPVwiIGFuZCBtc2dfcyAhaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIHdpdGggSUNNUFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiVHlwZT1cIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgVHlwZT1cIiBJQ01QVHlwZSBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIEROQVQgcnVsZSAtIFN0YW5kYXJkXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zICFoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCBub3QgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyBoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zIGhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyBoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiIHdhcyBcIiBBY3Rpb24gXCIgdG8gXCIgTmF0RGVzdGluYXRpb24gXCIuIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmsgcnVsZSAoZmlyZXdhbGwgbm90IHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlIE5hbWU6IFwiIFJ1bGVcclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JrIHJ1bGUgKGZpcmV3YWxsIHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZSBOYW1lOiBcIiBSdWxlXHJcbilcclxufCBwcm9qZWN0IERlc3RpbmF0aW9uSVBcclxufCBldmFsdWF0ZSBpcHY0X2xvb2t1cCAoZ2VvRGF0YSwgRGVzdGluYXRpb25JUCwgIG5ldHdvcmssIGZhbHNlKVxyXG58IHN1bW1hcml6ZSBjb3VudCgpIGJ5IGNvbnRpbmVudF9uYW1lXHJcbiIsCiAgICAgICAgInNpemUiOiAyLAogICAgICAgICJ0aXRsZSI6ICJHZW9Mb2NhdGlvbiIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJzaG93UmVmcmVzaEJ1dHRvbiI6IHRydWUsCiAgICAgICAgImV4cG9ydEZpZWxkTmFtZSI6ICJzZXJpZXMiLAogICAgICAgICJleHBvcnRQYXJhbWV0ZXJOYW1lIjogIm5ldGNvbnRpbmVudCIsCiAgICAgICAgImV4cG9ydERlZmF1bHRWYWx1ZSI6ICIqIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAidmlzdWFsaXphdGlvbiI6ICJwaWVjaGFydCIKICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZOZXRSdWxlIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiMjUiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDYxIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogImxldCBtYXRlcmlhbGl6ZWREYXRhID1cclxubWF0ZXJpYWxpemUoXHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxOZXR3b3JrUnVsZVwiXHJcbnwgd2hlcmUgT3BlcmF0aW9uTmFtZSA8PiBcIkF6dXJlRmlyZXdhbGxUaHJlYXRJbnRlbExvZ1wiXHJcbnwgd2hlcmUgT3BlcmF0aW9uTmFtZSA8PiBcIkF6dXJlRmlyZXdhbGxJRFNMb2dcIlxyXG58IHdoZXJlIFJlc291cmNlIGlufiAoc3BsaXQoXCJ7UmVzb3VyY2U6bGFiZWx9XCIsIFwiLCBcIikpXHJcbnwgcHJvamVjdCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQsUmVzb3VyY2VJZCAsIFJlc291cmNlR3JvdXAgLCBTdWJzY3JpcHRpb25JZCk7XHJcbnVuaW9uXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyAtIFN0YW5kYXJkIExvZ1xyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIlR5cGU9XCIgYW5kIG1zZ19zICFoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb246XCIgYW5kIG1zZ19zICFoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgd2l0aCBJQ01QXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJUeXBlPVwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiBUeXBlPVwiIElDTVBUeXBlIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiLiBBY3Rpb246IFwiIEFjdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIC0gU3RhbmRhcmRcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIkROQVQnZWRcIiBhbmQgbXNnX3MgIWhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIiB3YXMgXCIgQWN0aW9uIFwiIHRvIFwiIE5hdERlc3RpbmF0aW9uXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyBETkFUIHJ1bGUgKGZpcmV3YWxsIG5vdCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zIGhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIiB3YXMgXCIgQWN0aW9uIFwiIHRvIFwiIE5hdERlc3RpbmF0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyBETkFUIHJ1bGUgKGZpcmV3YWxsIHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIkROQVQnZWRcIiBhbmQgbXNnX3MgaGFzIFwiLiBSdWxlIENvbGxlY3Rpb246XCIgYW5kIG1zZ19zIGhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvbiBcIi4gUG9saWN5OiBcIiBQb2xpY3kgXCIuIFJ1bGUgQ29sbGVjdGlvbiBHcm91cDpcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29yayBydWxlIChmaXJld2FsbCBub3QgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGUgTmFtZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmsgcnVsZSAoZmlyZXdhbGwgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiUG9saWN5OlwiIGFuZCAgbXNnX3MgaGFzIFwiQWN0aW9uXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4uIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6IFwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuKVxyXG58IHdoZXJlICd7RGVzdGluYXRpb25Qb3J0fScgPT0gRGVzdGluYXRpb25Qb3J0IG9yICd7RGVzdGluYXRpb25Qb3J0fScgPT0gXCIqXCJcclxufCB3aGVyZSBcIntSdWxlQWN0aW9ufVwiID09IEFjdGlvbiBvciBcIntSdWxlQWN0aW9ufVwiID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tOYXREZXN0aW5hdGlvbn0nID09IE5hdERlc3RpbmF0aW9uIG9yICd7TmF0RGVzdGluYXRpb259JyA9PSBcIipcIlxyXG58IHN1bW1hcml6ZSBhbW91bnQgPSBjb3VudCgpIGJ5IEFjdGlvbiAsIFNvdXJjZUlQXHJcbnwgc29ydCBieSBhbW91bnQgZGVzYyIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJ0aXRsZSI6ICJSdWxlIGFjdGlvbnMsIGJ5IElQIGFkZHJlc3NlcyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIE5ldHdvcmsgUnVsZSBsb2dzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlcy4gSWYgeW91IGJlbGlldmUgdGhlIHNlbGVjdGlvbiBpcyBjb3JyZWN0LCBjb25maXJtIE5ldHdvcmsgUnVsZSBsb2dzIGFyZSBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGlzIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInRhYmxlIiwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgImZvcm1hdHRlcnMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiQWN0aW9uIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogNQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogImFtb3VudCIsCiAgICAgICAgICAgICAgImZvcm1hdHRlciI6IDMsCiAgICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAicGFsZXR0ZSI6ICJ3aGl0ZUJsYWNrIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIm51bWJlckZvcm1hdCI6IHsKICAgICAgICAgICAgICAgICJ1bml0IjogMTcsCiAgICAgICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICAgInN0eWxlIjogImRlY2ltYWwiLAogICAgICAgICAgICAgICAgICAibWF4aW11bVNpZ25pZmljYW50RGlnaXRzIjogNAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJldmVudENvdW50IiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogMywKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJtaW4iOiAwLAogICAgICAgICAgICAgICAgInBhbGV0dGUiOiAiYmx1ZSIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICAicm93TGltaXQiOiAyMDAwLAogICAgICAgICAgImZpbHRlciI6IHRydWUsCiAgICAgICAgICAiaGllcmFyY2h5U2V0dGluZ3MiOiB7CiAgICAgICAgICAgICJ0cmVlVHlwZSI6IDEsCiAgICAgICAgICAgICJncm91cEJ5IjogWwogICAgICAgICAgICAgICJBY3Rpb24iCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJleHBhbmRUb3BMZXZlbCI6IGZhbHNlLAogICAgICAgICAgICAiZmluYWxCeSI6ICJBY3Rpb24iCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRk5ldFJ1bGUiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIyNSIsCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gOCIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsTmV0d29ya1J1bGVcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsVGhyZWF0SW50ZWxMb2dcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgbXNnX3MsIFJlc291cmNlLCBUaW1lR2VuZXJhdGVkLFJlc291cmNlSWQgLCBSZXNvdXJjZUdyb3VwICwgU3Vic2NyaXB0aW9uSWQpO1xyXG51bmlvblxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgLSBTdGFuZGFyZCBMb2dcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJUeXBlPVwiIGFuZCBtc2dfcyAhaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIHdpdGggSUNNUFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiVHlwZT1cIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgVHlwZT1cIiBJQ01QVHlwZSBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIEROQVQgcnVsZSAtIFN0YW5kYXJkXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zICFoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCBub3QgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyBoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zIGhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyBoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiIHdhcyBcIiBBY3Rpb24gXCIgdG8gXCIgTmF0RGVzdGluYXRpb24gXCIuIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmsgcnVsZSAoZmlyZXdhbGwgbm90IHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlIE5hbWU6IFwiIFJ1bGVcclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JrIHJ1bGUgKGZpcmV3YWxsIHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlBvbGljeTpcIiBhbmQgIG1zZ19zIGhhcyBcIkFjdGlvblwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuLiBQb2xpY3k6IFwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOiBcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbilcclxufCB3aGVyZSAne0Rlc3RpbmF0aW9uUG9ydH0nID09IERlc3RpbmF0aW9uUG9ydCBvciAne0Rlc3RpbmF0aW9uUG9ydH0nID09IFwiKlwiXHJcbnwgd2hlcmUgXCJ7UnVsZUFjdGlvbn1cIiA9PSBBY3Rpb24gb3IgXCJ7UnVsZUFjdGlvbn1cIiA9PSBcIipcIlxyXG58IHdoZXJlICd7TmF0RGVzdGluYXRpb259JyA9PSBOYXREZXN0aW5hdGlvbiBvciAne05hdERlc3RpbmF0aW9ufScgPT0gXCIqXCIgICBcclxufCBzdW1tYXJpemUgQU1PVU5UPWNvdW50KCkgYnkgRGVzdGluYXRpb25Qb3J0LCBTb3VyY2VJUFxyXG58IHNvcnQgYnkgQU1PVU5UIGRlc2MiLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiVGFyZ2V0IHBvcnRzLCBieSBTb3VyY2UgSVA6IFF1ZXJ5IFRpbWUoeyRxdWVyeVRpbWV9KSA6IFRvdGFsIFJvd3MoeyRyb3dDb3VudH0pIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGVyZSBhcmUgbm8gTmV0d29yayBSdWxlIGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gTmV0d29yayBSdWxlIGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAidGFibGUiLAogICAgICAgICJncmlkU2V0dGluZ3MiOiB7CiAgICAgICAgICAiZm9ybWF0dGVycyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJEZXN0aW5hdGlvblBvcnQiLAogICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiA1CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiQU1PVU5UIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogMywKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAibnVtYmVyRm9ybWF0IjogewogICAgICAgICAgICAgICAgInVuaXQiOiAxNywKICAgICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgICAic3R5bGUiOiAiZGVjaW1hbCIsCiAgICAgICAgICAgICAgICAgICJ1c2VHcm91cGluZyI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAibWF4aW11bVNpZ25pZmljYW50RGlnaXRzIjogNAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgXSwKICAgICAgICAgICJyb3dMaW1pdCI6IDIwMDAsCiAgICAgICAgICAiZmlsdGVyIjogdHJ1ZSwKICAgICAgICAgICJoaWVyYXJjaHlTZXR0aW5ncyI6IHsKICAgICAgICAgICAgInRyZWVUeXBlIjogMSwKICAgICAgICAgICAgImdyb3VwQnkiOiBbCiAgICAgICAgICAgICAgIkRlc3RpbmF0aW9uUG9ydCIKICAgICAgICAgICAgXSwKICAgICAgICAgICAgImV4cGFuZFRvcExldmVsIjogZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGTmV0UnVsZSIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjI1IiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSAxMSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsTmV0d29ya1J1bGVcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsVGhyZWF0SW50ZWxMb2dcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgbXNnX3MsIFJlc291cmNlLCBUaW1lR2VuZXJhdGVkLFJlc291cmNlSWQgLCBSZXNvdXJjZUdyb3VwICwgU3Vic2NyaXB0aW9uSWQpO1xyXG51bmlvblxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgLSBTdGFuZGFyZCBMb2dcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJUeXBlPVwiIGFuZCBtc2dfcyAhaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIHdpdGggSUNNUFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiVHlwZT1cIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgVHlwZT1cIiBJQ01QVHlwZSBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIEROQVQgcnVsZSAtIFN0YW5kYXJkXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zICFoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCBub3QgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyBoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zIGhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyBoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiIHdhcyBcIiBBY3Rpb24gXCIgdG8gXCIgTmF0RGVzdGluYXRpb24gXCIuIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmsgcnVsZSAoZmlyZXdhbGwgbm90IHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlIE5hbWU6IFwiIFJ1bGVcclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JrIHJ1bGUgKGZpcmV3YWxsIHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZSBOYW1lOiBcIiBSdWxlXHJcbilcclxufCB3aGVyZSBBY3Rpb24gPT0gXCJETkFUJ2VkXCJcclxufCB3aGVyZSAne0Rlc3RpbmF0aW9uUG9ydH0nID09IERlc3RpbmF0aW9uUG9ydCBvciAne0Rlc3RpbmF0aW9uUG9ydH0nID09IFwiKlwiXHJcbnwgd2hlcmUgXCJ7UnVsZUFjdGlvbn1cIiA9PSBBY3Rpb24gb3IgXCJ7UnVsZUFjdGlvbn1cIiA9PSBcIipcIlxyXG58IHdoZXJlICd7TmF0RGVzdGluYXRpb259JyA9PSBOYXREZXN0aW5hdGlvbiBvciAne05hdERlc3RpbmF0aW9ufScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgQW1vdW50PWNvdW50KCkgYnkgTmF0RGVzdGluYXRpb24sIGJpbihUaW1lR2VuZXJhdGVkLCB7VGltZVJhbmdlOmdyYWlufSlcclxuIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInRpdGxlIjogIkROQVQnZWQgb3ZlciB0aW1lIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGVyZSBhcmUgbm8gTmV0d29yayBSdWxlIGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gTmV0d29yayBSdWxlIGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAidGltZWNoYXJ0IgogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRk5ldFJ1bGUiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIyNSIsCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gMTMiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAiLy9yZWZlcmVuY2UgbGlzdCBwb3N0ZWQgaGVyZSA6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2RhdGEtZXhwbG9yZXIva3VzdG8vcXVlcnkvaXB2NC1sb29rdXAtcGx1Z2luXHJcbmxldCBnZW9EYXRhID0gZXh0ZXJuYWxkYXRhXHJcbihuZXR3b3JrOnN0cmluZyxnZW9uYW1lX2lkOnN0cmluZyxjb250aW5lbnRfY29kZTpzdHJpbmcsY29udGluZW50X25hbWU6c3RyaW5nLFxyXG5jb3VudHJ5X2lzb19jb2RlOnN0cmluZyxjb3VudHJ5X25hbWU6c3RyaW5nLGlzX2Fub255bW91c19wcm94eTpzdHJpbmcsaXNfc2F0ZWxsaXRlX3Byb3ZpZGVyOnN0cmluZylcclxuW0BcIntHZW9Mb2NhdGlvbn1cIl0gd2l0aCAoaWdub3JlRmlyc3RSZWNvcmQ9dHJ1ZSwgZm9ybWF0PVwiY3N2XCIpO1xyXG5sZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsTmV0d29ya1J1bGVcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsVGhyZWF0SW50ZWxMb2dcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgbXNnX3MsIFJlc291cmNlLCBUaW1lR2VuZXJhdGVkLFJlc291cmNlSWQgLCBSZXNvdXJjZUdyb3VwICwgU3Vic2NyaXB0aW9uSWQpO1xyXG51bmlvblxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgLSBTdGFuZGFyZCBMb2dcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJUeXBlPVwiIGFuZCBtc2dfcyAhaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIHdpdGggSUNNUFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiVHlwZT1cIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgVHlwZT1cIiBJQ01QVHlwZSBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIEROQVQgcnVsZSAtIFN0YW5kYXJkXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zICFoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCBub3QgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyBoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zIGhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyBoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiIHdhcyBcIiBBY3Rpb24gXCIgdG8gXCIgTmF0RGVzdGluYXRpb24gXCIuIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmsgcnVsZSAoZmlyZXdhbGwgbm90IHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlIE5hbWU6IFwiIFJ1bGVcclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JrIHJ1bGUgKGZpcmV3YWxsIHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZSBOYW1lOiBcIiBSdWxlXHJcbilcclxufCB3aGVyZSAne0Rlc3RpbmF0aW9uUG9ydH0nID09IERlc3RpbmF0aW9uUG9ydCBvciAne0Rlc3RpbmF0aW9uUG9ydH0nID09IFwiKlwiXHJcbnwgd2hlcmUgXCJ7UnVsZUFjdGlvbn1cIiA9PSBBY3Rpb24gb3IgXCJ7UnVsZUFjdGlvbn1cIiA9PSBcIipcIlxyXG58IHdoZXJlICd7TmF0RGVzdGluYXRpb259JyA9PSBOYXREZXN0aW5hdGlvbiBvciAne05hdERlc3RpbmF0aW9ufScgPT0gXCIqXCJcclxufCBwcm9qZWN0IERlc3RpbmF0aW9uSVAsIFRpbWVHZW5lcmF0ZWRcclxufCBldmFsdWF0ZSBpcHY0X2xvb2t1cCAoZ2VvRGF0YSwgRGVzdGluYXRpb25JUCwgIG5ldHdvcmssIGZhbHNlKVxyXG58IHN1bW1hcml6ZSBBbW91bnQ9Y291bnQoKSBieSBjb250aW5lbnRfbmFtZSwgYmluKFRpbWVHZW5lcmF0ZWQsIHtUaW1lUmFuZ2U6Z3JhaW59KVxyXG5cclxuIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInRpdGxlIjogIkdlb0xvY2F0aW9uIG92ZXIgdGltZSIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIE5ldHdvcmsgUnVsZSBsb2dzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlcy4gSWYgeW91IGJlbGlldmUgdGhlIHNlbGVjdGlvbiBpcyBjb3JyZWN0LCBjb25maXJtIE5ldHdvcmsgUnVsZSBsb2dzIGFyZSBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGlzIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInRpbWVjaGFydCIKICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZOZXRSdWxlIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiMjUiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDEzIC0gQ29weSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsTmV0d29ya1J1bGVcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsVGhyZWF0SW50ZWxMb2dcIlxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPD4gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgbXNnX3MsIFJlc291cmNlLCBUaW1lR2VuZXJhdGVkLFJlc291cmNlSWQgLCBSZXNvdXJjZUdyb3VwICwgU3Vic2NyaXB0aW9uSWQpO1xyXG51bmlvblxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgLSBTdGFuZGFyZCBMb2dcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJUeXBlPVwiIGFuZCBtc2dfcyAhaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyAhaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIHdpdGggSUNNUFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiVHlwZT1cIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgVHlwZT1cIiBJQ01QVHlwZSBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIi4gQWN0aW9uOiBcIiBBY3Rpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIEROQVQgcnVsZSAtIFN0YW5kYXJkXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zICFoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvblxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCBub3QgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyBoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIgd2FzIFwiIEFjdGlvbiBcIiB0byBcIiBOYXREZXN0aW5hdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmtpbmcgRE5BVCBydWxlIChmaXJld2FsbCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJETkFUJ2VkXCIgYW5kIG1zZ19zIGhhcyBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIGFuZCBtc2dfcyBoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiIHdhcyBcIiBBY3Rpb24gXCIgdG8gXCIgTmF0RGVzdGluYXRpb24gXCIuIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbi8vIEF6dXJlIEZpcmV3YWxsIE5ldHdvcmsgcnVsZSAoZmlyZXdhbGwgbm90IHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlIE5hbWU6IFwiIFJ1bGVcclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JrIHJ1bGUgKGZpcmV3YWxsIHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlBvbGljeTpcIiBhbmQgIG1zZ19zIGhhcyBcIkFjdGlvblwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuLiBQb2xpY3k6IFwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOiBcIiBSdWxlQ29sbGVjdGlvbkdyb3VwIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbilcclxufCB3aGVyZSAne0Rlc3RpbmF0aW9uUG9ydH0nID09IERlc3RpbmF0aW9uUG9ydCBvciAne0Rlc3RpbmF0aW9uUG9ydH0nID09IFwiKlwiXHJcbnwgd2hlcmUgXCJ7UnVsZUFjdGlvbn1cIiA9PSBBY3Rpb24gb3IgXCJ7UnVsZUFjdGlvbn1cIiA9PSBcIipcIlxyXG58IHdoZXJlICd7TmF0RGVzdGluYXRpb259JyA9PSBOYXREZXN0aW5hdGlvbiBvciAne05hdERlc3RpbmF0aW9ufScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBBY3Rpb24sIGJpbihUaW1lR2VuZXJhdGVkLCB7VGltZVJhbmdlOmdyYWlufSlcclxuIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInRpdGxlIjogIkFjdGlvbnMsIGJ5IHRpbWUiLAogICAgICAgICJub0RhdGFNZXNzYWdlIjogIlRoZXJlIGFyZSBubyBOZXR3b3JrIFJ1bGUgbG9ncyB3aXRoaW4gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZXMuIElmIHlvdSBiZWxpZXZlIHRoZSBzZWxlY3Rpb24gaXMgY29ycmVjdCwgY29uZmlybSBOZXR3b3JrIFJ1bGUgbG9ncyBhcmUgZW5hYmxlZCBmb3IgdGhlIEF6dXJlIEZpcmV3YWxsIGFuZCBmZWVkaW5nIGludG8gdGhpcyBzZWxlY3RlZCB3b3Jrc3BhY2UuIFJlZmVyZW5jZSBEb2NzOiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9maXJld2FsbC8iLAogICAgICAgICJub0RhdGFNZXNzYWdlU3R5bGUiOiAyLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAidGltZUJydXNoUGFyYW1ldGVyTmFtZSI6ICJBY3Rpb25zQnlUaW1lQnJ1c2giLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInRpbWVjaGFydCIKICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZOZXRSdWxlIgogICAgICB9LAogICAgICAibmFtZSI6ICJxdWVyeSAtIDE1IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIi8vcmVmZXJlbmNlIGxpc3QgcG9zdGVkIGhlcmUgOiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9kYXRhLWV4cGxvcmVyL2t1c3RvL3F1ZXJ5L2lwdjQtbG9va3VwLXBsdWdpblxyXG5sZXQgZ2VvRGF0YSA9IGV4dGVybmFsZGF0YVxyXG4obmV0d29yazpzdHJpbmcsZ2VvbmFtZV9pZDpzdHJpbmcsY29udGluZW50X2NvZGU6c3RyaW5nLGNvbnRpbmVudF9uYW1lOnN0cmluZyxcclxuY291bnRyeV9pc29fY29kZTpzdHJpbmcsY291bnRyeV9uYW1lOnN0cmluZyxpc19hbm9ueW1vdXNfcHJveHk6c3RyaW5nLGlzX3NhdGVsbGl0ZV9wcm92aWRlcjpzdHJpbmcpXHJcbltAXCJ7R2VvTG9jYXRpb259XCJdIHdpdGggKGlnbm9yZUZpcnN0UmVjb3JkPXRydWUsIGZvcm1hdD1cImNzdlwiKTtcclxubGV0IG1hdGVyaWFsaXplZERhdGEgPVxyXG5tYXRlcmlhbGl6ZShcclxuQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIENhdGVnb3J5ID09IFwiQXp1cmVGaXJld2FsbE5ldHdvcmtSdWxlXCJcclxufCB3aGVyZSBPcGVyYXRpb25OYW1lIDw+IFwiQXp1cmVGaXJld2FsbFRocmVhdEludGVsTG9nXCJcclxufCB3aGVyZSBPcGVyYXRpb25OYW1lIDw+IFwiQXp1cmVGaXJld2FsbElEU0xvZ1wiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCBwcm9qZWN0IG1zZ19zLCBSZXNvdXJjZSwgVGltZUdlbmVyYXRlZCxSZXNvdXJjZUlkICwgUmVzb3VyY2VHcm91cCAsIFN1YnNjcmlwdGlvbklkKTtcclxudW5pb25cclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIC0gU3RhbmRhcmQgTG9nXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiVHlwZT1cIiBhbmQgbXNnX3MgIWhhcyBcIkROQVQnZWRcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgIWhhcyBcIlBvbGljeTpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdGluYXRpb25JUCBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyB3aXRoIElDTVBcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlR5cGU9XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIFR5cGU9XCIgSUNNUFR5cGUgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCIuIEFjdGlvbjogXCIgQWN0aW9uXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29ya2luZyBETkFUIHJ1bGUgLSBTdGFuZGFyZFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyAhaGFzIFwiLiBSdWxlIENvbGxlY3Rpb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiIHdhcyBcIiBBY3Rpb24gXCIgdG8gXCIgTmF0RGVzdGluYXRpb25cclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIEROQVQgcnVsZSAoZmlyZXdhbGwgbm90IHVzaW5nIHBvbGljeSlcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIkROQVQnZWRcIiBhbmQgbXNnX3MgaGFzIFwiLiBSdWxlIENvbGxlY3Rpb246XCIgYW5kIG1zZ19zICFoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiIHdhcyBcIiBBY3Rpb24gXCIgdG8gXCIgTmF0RGVzdGluYXRpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JraW5nIEROQVQgcnVsZSAoZmlyZXdhbGwgdXNpbmcgcG9saWN5KVxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiRE5BVCdlZFwiIGFuZCBtc2dfcyBoYXMgXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBhbmQgbXNnX3MgaGFzIFwiUG9saWN5OlwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0aW5hdGlvbklQIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIiB3YXMgXCIgQWN0aW9uIFwiIHRvIFwiIE5hdERlc3RpbmF0aW9uIFwiLiBQb2xpY3k6IFwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOlwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuKSxcclxuKFxyXG4vLyBBenVyZSBGaXJld2FsbCBOZXR3b3JrIHJ1bGUgKGZpcmV3YWxsIG5vdCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb246XCIgYW5kIG1zZ19zICFoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZSBOYW1lOiBcIiBSdWxlXHJcbiksXHJcbihcclxuLy8gQXp1cmUgRmlyZXdhbGwgTmV0d29yayBydWxlIChmaXJld2FsbCB1c2luZyBwb2xpY3kpXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJQb2xpY3k6XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RpbmF0aW9uSVAgXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUG9saWN5OlwiIFBvbGljeSBcIi4gUnVsZSBDb2xsZWN0aW9uIEdyb3VwOlwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGUgTmFtZTogXCIgUnVsZVxyXG4pXHJcbnwgd2hlcmUgJ3tEZXN0aW5hdGlvblBvcnR9JyA9PSBEZXN0aW5hdGlvblBvcnQgb3IgJ3tEZXN0aW5hdGlvblBvcnR9JyA9PSBcIipcIlxyXG58IHdoZXJlIFwie1J1bGVBY3Rpb259XCIgPT0gQWN0aW9uIG9yIFwie1J1bGVBY3Rpb259XCIgPT0gXCIqXCJcclxufCB3aGVyZSAne05hdERlc3RpbmF0aW9ufScgPT0gTmF0RGVzdGluYXRpb24gb3IgJ3tOYXREZXN0aW5hdGlvbn0nID09IFwiKlwiXHJcbnwgc3VtbWFyaXplIGJ5IFRpbWVHZW5lcmF0ZWQsUHJvdG9jb2wsIElDTVBUeXBlLCBBY3Rpb24sU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RpbmF0aW9uSVAgLCBEZXN0aW5hdGlvblBvcnQgLCBOYXREZXN0aW5hdGlvbiwgUmVzb3VyY2VJZCAsIFJlc291cmNlR3JvdXAgLCBTdWJzY3JpcHRpb25JZFxyXG58IGV2YWx1YXRlIGlwdjRfbG9va3VwIChnZW9EYXRhLCBEZXN0aW5hdGlvbklQLCAgbmV0d29yaywgZmFsc2UpXHJcbiIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJzaG93QW5hbHl0aWNzIjogdHJ1ZSwKICAgICAgICAidGl0bGUiOiAiQWxsIElQIGFkZHJlc3NlcyBldmVudHMgd2l0aCBHZW9Mb2NhdGlvbjogUXVlcnkgVGltZSh7JHF1ZXJ5VGltZX0pIDogVG90YWwgUm93cyh7JHJvd0NvdW50fSkiLAogICAgICAgICJub0RhdGFNZXNzYWdlIjogIlRoZXJlIGFyZSBubyBOZXR3b3JrIFJ1bGUgbG9ncyB3aXRoaW4gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZXMuIElmIHlvdSBiZWxpZXZlIHRoZSBzZWxlY3Rpb24gaXMgY29ycmVjdCwgY29uZmlybSBOZXR3b3JrIFJ1bGUgbG9ncyBhcmUgZW5hYmxlZCBmb3IgdGhlIEF6dXJlIEZpcmV3YWxsIGFuZCBmZWVkaW5nIGludG8gdGhpcyBzZWxlY3RlZCB3b3Jrc3BhY2UuIFJlZmVyZW5jZSBEb2NzOiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9maXJld2FsbC8iLAogICAgICAgICJub0RhdGFNZXNzYWdlU3R5bGUiOiAyLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiQWN0aW9uc0J5VGltZUJydXNoIiwKICAgICAgICAic2hvd0V4cG9ydFRvRXhjZWwiOiB0cnVlLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJncmlkU2V0dGluZ3MiOiB7CiAgICAgICAgICAicm93TGltaXQiOiAyMDAwLAogICAgICAgICAgImZpbHRlciI6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGTmV0UnVsZSIKICAgICAgfSwKICAgICAgIm5hbWUiOiAicXVlcnkgLSAyMiIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMSwKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgImpzb24iOiAiIyBBenVyZSBGaXJld2FsbCAtRE5TIFByb3h5IgogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRkROU1Byb3h5IgogICAgICB9LAogICAgICAibmFtZSI6ICJ0ZXh0IC0gNDEiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAiQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIENhdGVnb3J5ID09IFwiQXp1cmVGaXJld2FsbERuc1Byb3h5XCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHBhcnNlIG1zZ19zIHdpdGggXCJETlMgUmVxdWVzdDogXCIgQ2xpZW50SVAgXCI6XCIgQ2xpZW50UG9ydCBcIiAtIFwiIFF1ZXJ5SUQgXCIgXCIgUmVxdWVzdF9UeXBlIFwiIFwiIFJlcXVlc3RfQ2xhc3MgXCIgXCIgUmVxdWVzdF9OYW1lIFwiLiBcIiBSZXF1ZXN0X1Byb3RvY29sIFwiIFwiIFJlcXVlc3RfU2l6ZSBcIiBcIiBFRE5TT19ETyBcIiBcIiBFRE5TMF9CdWZmZXJzaXplIFwiIFwiIFJlc3BvbmNlX0NvZGUgXCIgXCIgUmVzcG9uY2VfRmxhZ3MgXCIgXCIgUmVzcG9uY2VfU2l6ZSBcIiBcIiBSZXNwb25zZV9EdXJhdGlvblxyXG58IHByb2plY3QgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWRcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBSZXNvdXJjZSwgYmluKFRpbWVHZW5lcmF0ZWQse1RpbWVSYW5nZTpncmFpbn0pXHJcbiIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJ0aXRsZSI6ICJETlNQcm94eSBUcmFmZmljIGJ5IGNvdW50IHBlciBGaXJld2FsbDogUXVlcnkgVGltZSh7JHF1ZXJ5VGltZX0pICIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIEROUyBQcm94eSBsb2dzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlcy4gSWYgeW91IGJlbGlldmUgdGhlIHNlbGVjdGlvbiBpcyBjb3JyZWN0LCBjb25maXJtIEROUyBQcm94eSBsb2dzIGFyZSBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGlzIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJ0aW1lQnJ1c2hQYXJhbWV0ZXJOYW1lIjogIkROU1RpbWVCcnVzaCIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAibGluZWNoYXJ0IiwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgImZvcm1hdHRlcnMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiY291bnRfIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAibnVtYmVyRm9ybWF0IjogewogICAgICAgICAgICAgICAgInVuaXQiOiAxNywKICAgICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgICAic3R5bGUiOiAiZGVjaW1hbCIsCiAgICAgICAgICAgICAgICAgICJ1c2VHcm91cGluZyI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAibWF4aW11bVNpZ25pZmljYW50RGlnaXRzIjogNAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgXQogICAgICAgIH0KICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZETlNQcm94eSIKICAgICAgfSwKICAgICAgIm5hbWUiOiAicXVlcnkgLSAzMCAtIENvcHkgLSBDb3B5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxEbnNQcm94eVwiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCBwYXJzZSBtc2dfcyB3aXRoIFwiRE5TIFJlcXVlc3Q6IFwiIENsaWVudElQIFwiOlwiIENsaWVudFBvcnQgXCIgLSBcIiBRdWVyeUlEIFwiIFwiIFJlcXVlc3RfVHlwZSBcIiBcIiBSZXF1ZXN0X0NsYXNzIFwiIFwiIFJlcXVlc3RfTmFtZSBcIi4gXCIgUmVxdWVzdF9Qcm90b2NvbCBcIiBcIiBSZXF1ZXN0X1NpemUgXCIgXCIgRUROU09fRE8gXCIgXCIgRUROUzBfQnVmZmVyc2l6ZSBcIiBcIiBSZXNwb25jZV9Db2RlIFwiIFwiIFJlc3BvbmNlX0ZsYWdzIFwiIFwiIFJlc3BvbmNlX1NpemUgXCIgXCIgUmVzcG9uc2VfRHVyYXRpb25cclxufCBwcm9qZWN0LWF3YXkgbXNnX3NcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBSZXF1ZXN0X05hbWVcclxufCBzb3J0IGJ5IGNvdW50XyBkZXNjIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInRpdGxlIjogIkROU1Byb3h5IGNvdW50IGJ5IFJlcXVlc3QgTmFtZSwgZmlsdGVyYWJsZSBieSBSZXF1ZXN0X05hbWUiLAogICAgICAgICJub0RhdGFNZXNzYWdlIjogIlRoZXJlIGFyZSBubyBETlMgUHJveHkgbG9ncyB3aXRoaW4gdGhlIHNlbGVjdGVkIHdvcmtzcGFjZXMuIElmIHlvdSBiZWxpZXZlIHRoZSBzZWxlY3Rpb24gaXMgY29ycmVjdCwgY29uZmlybSBETlMgUHJveHkgbG9ncyBhcmUgZW5hYmxlZCBmb3IgdGhlIEF6dXJlIEZpcmV3YWxsIGFuZCBmZWVkaW5nIGludG8gdGhpcyBzZWxlY3RlZCB3b3Jrc3BhY2UuIFJlZmVyZW5jZSBEb2NzOiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9maXJld2FsbC8iLAogICAgICAgICJub0RhdGFNZXNzYWdlU3R5bGUiOiAyLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiRE5TVGltZUJydXNoIiwKICAgICAgICAiZXhwb3J0RmllbGROYW1lIjogIlJlcXVlc3RfTmFtZSIsCiAgICAgICAgImV4cG9ydFBhcmFtZXRlck5hbWUiOiAiRE5TUmVxdWVzdE5hbWUiLAogICAgICAgICJleHBvcnREZWZhdWx0VmFsdWUiOiAiKiIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJmb3JtYXR0ZXJzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogImNvdW50XyIsCiAgICAgICAgICAgICAgImZvcm1hdHRlciI6IDgsCiAgICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAicGFsZXR0ZSI6ICJ3aGl0ZUJsYWNrIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIm51bWJlckZvcm1hdCI6IHsKICAgICAgICAgICAgICAgICJ1bml0IjogMTcsCiAgICAgICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICAgInN0eWxlIjogImRlY2ltYWwiLAogICAgICAgICAgICAgICAgICAidXNlR3JvdXBpbmciOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgIm1heGltdW1TaWduaWZpY2FudERpZ2l0cyI6IDQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIF0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGRE5TUHJveHkiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIyNSIsCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gMzAgLSBDb3B5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxEbnNQcm94eVwiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCBwYXJzZSBtc2dfcyB3aXRoIFwiRE5TIFJlcXVlc3Q6IFwiIENsaWVudElQIFwiOlwiIENsaWVudFBvcnQgXCIgLSBcIiBRdWVyeUlEIFwiIFwiIFJlcXVlc3RfVHlwZSBcIiBcIiBSZXF1ZXN0X0NsYXNzIFwiIFwiIFJlcXVlc3RfTmFtZSBcIi4gXCIgUmVxdWVzdF9Qcm90b2NvbCBcIiBcIiBSZXF1ZXN0X1NpemUgXCIgXCIgRUROU09fRE8gXCIgXCIgRUROUzBfQnVmZmVyc2l6ZSBcIiBcIiBSZXNwb25jZV9Db2RlIFwiIFwiIFJlc3BvbmNlX0ZsYWdzIFwiIFwiIFJlc3BvbmNlX1NpemUgXCIgXCIgUmVzcG9uc2VfRHVyYXRpb25cclxufCBwcm9qZWN0LWF3YXkgbXNnX3NcclxufCB3aGVyZSAne0ROU1JlcXVlc3ROYW1lfScgPT0gUmVxdWVzdF9OYW1lIG9yICd7RE5TUmVxdWVzdE5hbWV9JyA9PSBcIipcIlxyXG58IHN1bW1hcml6ZSBjb3VudCgpIGJ5IENsaWVudElQXHJcbnwgc29ydCBieSBjb3VudF8gZGVzYyIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJ0aXRsZSI6ICJETlNQcm94eSBSZXF1ZXN0IGNvdW50IGJ5IENsaWVudElQLCBmaWx0ZXJhYmxlIGJ5IENsaWVudElQIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGVyZSBhcmUgbm8gRE5TIFByb3h5IGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gRE5TIFByb3h5IGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIkROU1RpbWVCcnVzaCIsCiAgICAgICAgImV4cG9ydEZpZWxkTmFtZSI6ICJDbGllbnRJUCIsCiAgICAgICAgImV4cG9ydFBhcmFtZXRlck5hbWUiOiAiRE5TQ2xpZW50SVAiLAogICAgICAgICJleHBvcnREZWZhdWx0VmFsdWUiOiAiKiIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJmb3JtYXR0ZXJzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogImNvdW50XyIsCiAgICAgICAgICAgICAgImZvcm1hdHRlciI6IDgsCiAgICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAicGFsZXR0ZSI6ICJ3aGl0ZUJsYWNrIgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIm51bWJlckZvcm1hdCI6IHsKICAgICAgICAgICAgICAgICJ1bml0IjogMTcsCiAgICAgICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICAgInN0eWxlIjogImRlY2ltYWwiLAogICAgICAgICAgICAgICAgICAidXNlR3JvdXBpbmciOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgIm1heGltdW1TaWduaWZpY2FudERpZ2l0cyI6IDQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIF0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGRE5TUHJveHkiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIyNSIsCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gMzAgLSBDb3B5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxEbnNQcm94eVwiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCBwYXJzZSBtc2dfcyB3aXRoIFwiRE5TIFJlcXVlc3Q6IFwiIENsaWVudElQIFwiOlwiIENsaWVudFBvcnQgXCIgLSBcIiBRdWVyeUlEIFwiIFwiIFJlcXVlc3RfVHlwZSBcIiBcIiBSZXF1ZXN0X0NsYXNzIFwiIFwiIFJlcXVlc3RfTmFtZSBcIi4gXCIgUmVxdWVzdF9Qcm90b2NvbCBcIiBcIiBSZXF1ZXN0X1NpemUgXCIgXCIgRUROU09fRE8gXCIgXCIgRUROUzBfQnVmZmVyc2l6ZSBcIiBcIiBSZXNwb25jZV9Db2RlIFwiIFwiIFJlc3BvbmNlX0ZsYWdzIFwiIFwiIFJlc3BvbmNlX1NpemUgXCIgXCIgUmVzcG9uc2VfRHVyYXRpb25cclxufCBwcm9qZWN0LWF3YXkgbXNnX3NcclxufCB3aGVyZSAne0ROU0NsaWVudElQfScgPT0gQ2xpZW50SVAgb3IgJ3tETlNDbGllbnRJUH0nID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tETlNSZXF1ZXN0TmFtZX0nID09IFJlcXVlc3RfTmFtZSBvciAne0ROU1JlcXVlc3ROYW1lfScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBDbGllbnRJUCwgYmluKFRpbWVHZW5lcmF0ZWQsIHtUaW1lUmFuZ2U6Z3JhaW59KVxyXG4iLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiRE5TIFByb3h5IFJlcXVlc3Qgb3ZlciB0aW1lIGJ5IENsaWVudElQIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGVyZSBhcmUgbm8gRE5TIFByb3h5IGxvZ3Mgd2l0aGluIHRoZSBzZWxlY3RlZCB3b3Jrc3BhY2VzLiBJZiB5b3UgYmVsaWV2ZSB0aGUgc2VsZWN0aW9uIGlzIGNvcnJlY3QsIGNvbmZpcm0gRE5TIFByb3h5IGxvZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBBenVyZSBGaXJld2FsbCBhbmQgZmVlZGluZyBpbnRvIHRoaXMgc2VsZWN0ZWQgd29ya3NwYWNlLiBSZWZlcmVuY2UgRG9jczogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvIiwKICAgICAgICAibm9EYXRhTWVzc2FnZVN0eWxlIjogMiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIkROU1RpbWVCcnVzaCIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAibGluZWNoYXJ0IgogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRkROU1Byb3h5IgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiNTAiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDMwIC0gQ29weSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJBenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsRG5zUHJveHlcIlxyXG58IHdoZXJlIFJlc291cmNlIGlufiAoc3BsaXQoXCJ7UmVzb3VyY2U6bGFiZWx9XCIsIFwiLCBcIikpXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBcIkROUyBSZXF1ZXN0OiBcIiBDbGllbnRJUCBcIjpcIiBDbGllbnRQb3J0IFwiIC0gXCIgUXVlcnlJRCBcIiBcIiBSZXF1ZXN0X1R5cGUgXCIgXCIgUmVxdWVzdF9DbGFzcyBcIiBcIiBSZXF1ZXN0X05hbWUgXCIuIFwiIFJlcXVlc3RfUHJvdG9jb2wgXCIgXCIgUmVxdWVzdF9TaXplIFwiIFwiIEVETlNPX0RPIFwiIFwiIEVETlMwX0J1ZmZlcnNpemUgXCIgXCIgUmVzcG9uY2VfQ29kZSBcIiBcIiBSZXNwb25jZV9GbGFncyBcIiBcIiBSZXNwb25jZV9TaXplIFwiIFwiIFJlc3BvbnNlX0R1cmF0aW9uXHJcbnwgcHJvamVjdC1hd2F5IG1zZ19zXHJcbnwgd2hlcmUgJ3tETlNDbGllbnRJUH0nID09IENsaWVudElQIG9yICd7RE5TQ2xpZW50SVB9JyA9PSBcIipcIlxyXG58IHdoZXJlICd7RE5TUmVxdWVzdE5hbWV9JyA9PSBSZXF1ZXN0X05hbWUgb3IgJ3tETlNSZXF1ZXN0TmFtZX0nID09IFwiKlwiXHJcbnwgc3VtbWFyaXplIGJ5IFRpbWVHZW5lcmF0ZWQsIFJlc291cmNlSWQsIENsaWVudElQLCBDbGllbnRQb3J0LCBRdWVyeUlELCBSZXF1ZXN0X1R5cGUsIFJlcXVlc3RfQ2xhc3MsIFJlcXVlc3RfTmFtZSwgUmVxdWVzdF9Qcm90b2NvbCwgUmVxdWVzdF9TaXplLCBFRE5TT19ETywgRUROUzBfQnVmZmVyc2l6ZSwgUmVzcG9uY2VfQ29kZSwgUmVzcG9uY2VfRmxhZ3MsIFJlc3BvbmNlX1NpemUsIFJlc3BvbnNlX0R1cmF0aW9uLCBTdWJzY3JpcHRpb25JZCIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJzaG93QW5hbHl0aWNzIjogdHJ1ZSwKICAgICAgICAidGl0bGUiOiAiRE5TIFByb3h5IEluZm9ybWF0aW9uOiBRdWVyeSBUaW1lKHskcXVlcnlUaW1lfSkgOiBUb3RhbCBSb3dzKHskcm93Q291bnR9KSIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgYXJlIG5vIEROUyBQcm94eSBsb2dzIHdpdGhpbiB0aGUgc2VsZWN0ZWQgd29ya3NwYWNlcy4gSWYgeW91IGJlbGlldmUgdGhlIHNlbGVjdGlvbiBpcyBjb3JyZWN0LCBjb25maXJtIEROUyBQcm94eSBsb2dzIGFyZSBlbmFibGVkIGZvciB0aGUgQXp1cmUgRmlyZXdhbGwgYW5kIGZlZWRpbmcgaW50byB0aGlzIHNlbGVjdGVkIHdvcmtzcGFjZS4gUmVmZXJlbmNlIERvY3M6IGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsLyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJETlNUaW1lQnJ1c2giLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJncmlkU2V0dGluZ3MiOiB7CiAgICAgICAgICAicm93TGltaXQiOiAyMDAwLAogICAgICAgICAgImZpbHRlciI6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGRE5TUHJveHkiCiAgICAgIH0sCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gMzAiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDEsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJqc29uIjogIiMgQXp1cmUgRmlyZXdhbGwgUHJlbWl1bSAtIElEUFMiCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGSURTSVBTIgogICAgICB9LAogICAgICAibmFtZSI6ICJ0ZXh0IC0gNDIiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAiQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIFJlc291cmNlVHlwZSA9PSBcIkFaVVJFRklSRVdBTExTXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPT0gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RJUCBcIjpcIiBEZXN0UG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFNpZ25hdHVyZTogXCIgU2lnbmF0dXJlSUQgXCIuIElEUzpcIiBNZXNzYWdlIFwiLiBQcmlvcml0eTpcIiBQcmlvcml0eSBcIi4gQ2xhc3NpZmljYXRpb246XCIgQ2xhc3NpZmljYXRpb25cclxufCBwcm9qZWN0IFRpbWVHZW5lcmF0ZWQsIFByb3RvY29sLCBTb3VyY2VJUCwgU291cmNlUG9ydCwgRGVzdElQLCBEZXN0UG9ydCwgQWN0aW9uLCBTaWduYXR1cmVJRCwgTWVzc2FnZVxyXG58IHN1bW1hcml6ZSBjb3VudCgpIGJ5IEFjdGlvbiIsCiAgICAgICAgInNpemUiOiAyLAogICAgICAgICJ0aXRsZSI6ICJJRFBTIEFjdGlvbnMgQ291bnQsIGZpbHRlcmFibGUgYnkgQWN0aW9uIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGlzIGZlYXR1cmUgaXMgaW4gQXp1cmUgRmlyZXdhbGwgUHJlbWl1bTsgRm9yIG1vcmUgaW5mb3JtYXRpb24gZ28gdG8gaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvcHJlbWl1bS1mZWF0dXJlcyIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2VTdHlsZSI6IDIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJleHBvcnRGaWVsZE5hbWUiOiAic2VyaWVzIiwKICAgICAgICAiZXhwb3J0UGFyYW1ldGVyTmFtZSI6ICJJRFNJUFNBY3Rpb24iLAogICAgICAgICJleHBvcnREZWZhdWx0VmFsdWUiOiAiKiIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAicGllY2hhcnQiCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGSURTSVBTIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiMjUiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDQ0IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBSZXNvdXJjZVR5cGUgPT0gXCJBWlVSRUZJUkVXQUxMU1wiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCB3aGVyZSBPcGVyYXRpb25OYW1lID09IFwiQXp1cmVGaXJld2FsbElEU0xvZ1wiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0SVAgXCI6XCIgRGVzdFBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBTaWduYXR1cmU6IFwiIFNpZ25hdHVyZUlEIFwiLiBJRFM6XCIgTWVzc2FnZSBcIi4gUHJpb3JpdHk6XCIgUHJpb3JpdHkgXCIuIENsYXNzaWZpY2F0aW9uOlwiIENsYXNzaWZpY2F0aW9uXHJcbnwgcHJvamVjdCBUaW1lR2VuZXJhdGVkLCBQcm90b2NvbCwgU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RJUCwgRGVzdFBvcnQsIEFjdGlvbiwgU2lnbmF0dXJlSUQsIE1lc3NhZ2VcclxufCB3aGVyZSAne0lEU0lQU0FjdGlvbn0nID09IEFjdGlvbiBvciAne0lEU0lQU0FjdGlvbn0nID09IFwiKlwiXHJcbnwgc3VtbWFyaXplIGNvdW50KCkgYnkgUHJvdG9jb2wiLAogICAgICAgICJzaXplIjogMiwKICAgICAgICAidGl0bGUiOiAiSURQUyBQcm90b2NvbCBDb3VudCwgZmlsdGVyYWJsZSBieSBQcm90b2NvbCIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhpcyBmZWF0dXJlIGlzIGluIEF6dXJlIEZpcmV3YWxsIFByZW1pdW07IEZvciBtb3JlIGluZm9ybWF0aW9uIGdvIHRvIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsL3ByZW1pdW0tZmVhdHVyZXMiLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAiZXhwb3J0RmllbGROYW1lIjogInNlcmllcyIsCiAgICAgICAgImV4cG9ydFBhcmFtZXRlck5hbWUiOiAiSURTSVBTUHJvdG9jb2wiLAogICAgICAgICJleHBvcnREZWZhdWx0VmFsdWUiOiAiKiIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgInZpc3VhbGl6YXRpb24iOiAicGllY2hhcnQiCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGSURTSVBTIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiMjUiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDQ1IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBSZXNvdXJjZVR5cGUgPT0gXCJBWlVSRUZJUkVXQUxMU1wiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCB3aGVyZSBPcGVyYXRpb25OYW1lID09IFwiQXp1cmVGaXJld2FsbElEU0xvZ1wiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0SVAgXCI6XCIgRGVzdFBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBTaWduYXR1cmU6IFwiIFNpZ25hdHVyZUlEIFwiLiBJRFM6XCIgTWVzc2FnZSBcIi4gUHJpb3JpdHk6XCIgUHJpb3JpdHkgXCIuIENsYXNzaWZpY2F0aW9uOlwiIENsYXNzaWZpY2F0aW9uXHJcbnwgcHJvamVjdCBUaW1lR2VuZXJhdGVkLCBQcm90b2NvbCwgU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RJUCwgRGVzdFBvcnQsIEFjdGlvbiwgU2lnbmF0dXJlSUQsIE1lc3NhZ2VcclxufCB3aGVyZSAne0lEU0lQU0FjdGlvbn0nID09IEFjdGlvbiBvciAne0lEU0lQU0FjdGlvbn0nID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tJRFNJUFNQcm90b2NvbH0nID09IFByb3RvY29sIG9yICd7SURTSVBTUHJvdG9jb2x9JyA9PSBcIipcIlxyXG58IHN1bW1hcml6ZSBjb3VudCgpIGJ5IFNpZ25hdHVyZUlEXHJcbiIsCiAgICAgICAgInNpemUiOiAyLAogICAgICAgICJ0aXRsZSI6ICJJRFBTIFNpZ25hdHVyZUlEIENvdW50LCBmaWx0ZXJhYmxlIGJ5IFNpZ25hdHVyZUlEIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGlzIGZlYXR1cmUgaXMgaW4gQXp1cmUgRmlyZXdhbGwgUHJlbWl1bTsgRm9yIG1vcmUgaW5mb3JtYXRpb24gZ28gdG8gaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvcHJlbWl1bS1mZWF0dXJlcyIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJleHBvcnRGaWVsZE5hbWUiOiAic2VyaWVzIiwKICAgICAgICAiZXhwb3J0UGFyYW1ldGVyTmFtZSI6ICJJRFNJUFNTaWduYXR1cmVJRCIsCiAgICAgICAgImV4cG9ydERlZmF1bHRWYWx1ZSI6ICIqIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAidmlzdWFsaXphdGlvbiI6ICJwaWVjaGFydCIKICAgICAgfSwKICAgICAgImNvbmRpdGlvbmFsVmlzaWJpbGl0eSI6IHsKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzZWxlY3RlZFRhYiIsCiAgICAgICAgImNvbXBhcmlzb24iOiAiaXNFcXVhbFRvIiwKICAgICAgICAidmFsdWUiOiAiQUZJRFNJUFMiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIyNSIsCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gNDUgLSBDb3B5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBSZXNvdXJjZVR5cGUgPT0gXCJBWlVSRUZJUkVXQUxMU1wiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCB3aGVyZSBPcGVyYXRpb25OYW1lID09IFwiQXp1cmVGaXJld2FsbElEU0xvZ1wiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0SVAgXCI6XCIgRGVzdFBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBTaWduYXR1cmU6IFwiIFNpZ25hdHVyZUlEIFwiLiBJRFM6XCIgTWVzc2FnZSBcIi4gUHJpb3JpdHk6XCIgUHJpb3JpdHkgXCIuIENsYXNzaWZpY2F0aW9uOlwiIENsYXNzaWZpY2F0aW9uXHJcbnwgcHJvamVjdCBUaW1lR2VuZXJhdGVkLCBQcm90b2NvbCwgU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RJUCwgRGVzdFBvcnQsIEFjdGlvbiwgU2lnbmF0dXJlSUQsIE1lc3NhZ2VcclxufCB3aGVyZSAne0lEU0lQU0FjdGlvbn0nID09IEFjdGlvbiBvciAne0lEU0lQU0FjdGlvbn0nID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tJRFNJUFNQcm90b2NvbH0nID09IFByb3RvY29sIG9yICd7SURTSVBTUHJvdG9jb2x9JyA9PSBcIipcIlxyXG58IHdoZXJlICd7SURTSVBTU2lnbmF0dXJlSUR9JyA9PSBTaWduYXR1cmVJRCBvciAne0lEU0lQU1NpZ25hdHVyZUlEfScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBTb3VyY2VJUCwgRGVzdElQXHJcbnwgc29ydCBieSBjb3VudF8gZGVzYyIsCiAgICAgICAgInNpemUiOiAyLAogICAgICAgICJ0aXRsZSI6ICJJRFBTIFNvdXJjZUlQIENvdW50LCBmaWx0ZXJhYmxlIGJ5IFNvdXJjZUlQIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGlzIGZlYXR1cmUgaXMgaW4gQXp1cmUgRmlyZXdhbGwgUHJlbWl1bTsgRm9yIG1vcmUgaW5mb3JtYXRpb24gZ28gdG8gaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvcHJlbWl1bS1mZWF0dXJlcyIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJleHBvcnRGaWVsZE5hbWUiOiAic2VyaWVzIiwKICAgICAgICAiZXhwb3J0UGFyYW1ldGVyTmFtZSI6ICJJRFNJUFNTb3VyY2VJUCIsCiAgICAgICAgImV4cG9ydERlZmF1bHRWYWx1ZSI6ICIqIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAidmlzdWFsaXphdGlvbiI6ICJwaWVjaGFydCIsCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJmb3JtYXR0ZXJzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIlNvdXJjZUlQIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogNQogICAgICAgICAgICB9CiAgICAgICAgICBdLAogICAgICAgICAgImhpZXJhcmNoeVNldHRpbmdzIjogewogICAgICAgICAgICAidHJlZVR5cGUiOiAxLAogICAgICAgICAgICAiZ3JvdXBCeSI6IFsKICAgICAgICAgICAgICAiU291cmNlSVAiCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJleHBhbmRUb3BMZXZlbCI6IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRklEU0lQUyIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjI1IiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSA0NSAtIENvcHkgLSBDb3B5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBSZXNvdXJjZVR5cGUgPT0gXCJBWlVSRUZJUkVXQUxMU1wiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCB3aGVyZSBPcGVyYXRpb25OYW1lID09IFwiQXp1cmVGaXJld2FsbElEU0xvZ1wiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0SVAgXCI6XCIgRGVzdFBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBTaWduYXR1cmU6IFwiIFNpZ25hdHVyZUlEIFwiLiBJRFM6XCIgTWVzc2FnZSBcIi4gUHJpb3JpdHk6XCIgUHJpb3JpdHkgXCIuIENsYXNzaWZpY2F0aW9uOlwiIENsYXNzaWZpY2F0aW9uXHJcbi8vfCBwcm9qZWN0LWF3YXkgQ2F0ZWdvcnksIFJlc291cmNlSWQsIG1zZ19zLCBTdWJzY3JpcHRpb25JZCwgUmVzb3VyY2VQcm92aWRlciwgUmVzb3VyY2VUeXBlLCBPcGVyYXRpb25OYW1lLCBUeXBlXHJcbnwgcHJvamVjdCBUaW1lR2VuZXJhdGVkLCBQcm90b2NvbCwgU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RJUCwgRGVzdFBvcnQsIEFjdGlvbiwgU2lnbmF0dXJlSUQsIE1lc3NhZ2VcclxufCB3aGVyZSAne0lEU0lQU0FjdGlvbn0nID09IEFjdGlvbiBvciAne0lEU0lQU0FjdGlvbn0nID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tJRFNJUFNQcm90b2NvbH0nID09IFByb3RvY29sIG9yICd7SURTSVBTUHJvdG9jb2x9JyA9PSBcIipcIlxyXG58IHdoZXJlICd7SURTSVBTU2lnbmF0dXJlSUR9JyA9PSBTaWduYXR1cmVJRCBvciAne0lEU0lQU1NpZ25hdHVyZUlEfScgPT0gXCIqXCJcclxufCB3aGVyZSAne0lEU0lQU1NvdXJjZUlQfScgPT0gU291cmNlSVAgb3IgJ3tJRFNJUFNTb3VyY2VJUH0nID09IFwiKlwiXHJcbnwgc3VtbWFyaXplIGNvdW50KCkgYnkgQWN0aW9uIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInRpdGxlIjogIkZpbHRlcmVkIElEUFMgQWN0aW9ucyBieSBDb3VudCIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhpcyBmZWF0dXJlIGlzIGluIEF6dXJlIEZpcmV3YWxsIFByZW1pdW07IEZvciBtb3JlIGluZm9ybWF0aW9uIGdvIHRvIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsL3ByZW1pdW0tZmVhdHVyZXMiLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgImZvcm1hdHRlcnMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiY291bnRfIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRklEU0lQUyIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjI1IiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSA0NCAtIENvcHkiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAiQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIFJlc291cmNlVHlwZSA9PSBcIkFaVVJFRklSRVdBTExTXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPT0gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RJUCBcIjpcIiBEZXN0UG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFNpZ25hdHVyZTogXCIgU2lnbmF0dXJlSUQgXCIuIElEUzpcIiBNZXNzYWdlIFwiLiBQcmlvcml0eTpcIiBQcmlvcml0eSBcIi4gQ2xhc3NpZmljYXRpb246XCIgQ2xhc3NpZmljYXRpb25cclxuLy98IHByb2plY3QtYXdheSBDYXRlZ29yeSwgUmVzb3VyY2VJZCwgbXNnX3MsIFN1YnNjcmlwdGlvbklkLCBSZXNvdXJjZVByb3ZpZGVyLCBSZXNvdXJjZVR5cGUsIE9wZXJhdGlvbk5hbWUsIFR5cGVcclxufCBwcm9qZWN0IFRpbWVHZW5lcmF0ZWQsIFByb3RvY29sLCBTb3VyY2VJUCwgU291cmNlUG9ydCwgRGVzdElQLCBEZXN0UG9ydCwgQWN0aW9uLCBTaWduYXR1cmVJRCwgTWVzc2FnZVxyXG58IHdoZXJlICd7SURTSVBTQWN0aW9ufScgPT0gQWN0aW9uIG9yICd7SURTSVBTQWN0aW9ufScgPT0gXCIqXCJcclxufCB3aGVyZSAne0lEU0lQU1Byb3RvY29sfScgPT0gUHJvdG9jb2wgb3IgJ3tJRFNJUFNQcm90b2NvbH0nID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tJRFNJUFNTaWduYXR1cmVJRH0nID09IFNpZ25hdHVyZUlEIG9yICd7SURTSVBTU2lnbmF0dXJlSUR9JyA9PSBcIipcIlxyXG58IHdoZXJlICd7SURTSVBTU291cmNlSVB9JyA9PSBTb3VyY2VJUCBvciAne0lEU0lQU1NvdXJjZUlQfScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBQcm90b2NvbCIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJ0aXRsZSI6ICJGaWx0ZXJlZCBJRFBTIFByb3RvY29scyBieSBDb3VudCIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhpcyBmZWF0dXJlIGlzIGluIEF6dXJlIEZpcmV3YWxsIFByZW1pdW07IEZvciBtb3JlIGluZm9ybWF0aW9uIGdvIHRvIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsL3ByZW1pdW0tZmVhdHVyZXMiLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgImZvcm1hdHRlcnMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiY291bnRfIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRklEU0lQUyIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjI1IiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSA0NSAtIENvcHkiCiAgICB9LAogICAgewogICAgICAidHlwZSI6IDMsCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ2ZXJzaW9uIjogIktxbEl0ZW0vMS4wIiwKICAgICAgICAicXVlcnkiOiAiQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIFJlc291cmNlVHlwZSA9PSBcIkFaVVJFRklSRVdBTExTXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHdoZXJlIE9wZXJhdGlvbk5hbWUgPT0gXCJBenVyZUZpcmV3YWxsSURTTG9nXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIERlc3RJUCBcIjpcIiBEZXN0UG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFNpZ25hdHVyZTogXCIgU2lnbmF0dXJlSUQgXCIuIElEUzpcIiBNZXNzYWdlIFwiLiBQcmlvcml0eTpcIiBQcmlvcml0eSBcIi4gQ2xhc3NpZmljYXRpb246XCIgQ2xhc3NpZmljYXRpb25cclxuLy98IHByb2plY3QtYXdheSBDYXRlZ29yeSwgUmVzb3VyY2VJZCwgbXNnX3MsIFN1YnNjcmlwdGlvbklkLCBSZXNvdXJjZVByb3ZpZGVyLCBSZXNvdXJjZVR5cGUsIE9wZXJhdGlvbk5hbWUsIFR5cGVcclxufCBwcm9qZWN0IFRpbWVHZW5lcmF0ZWQsIFByb3RvY29sLCBTb3VyY2VJUCwgU291cmNlUG9ydCwgRGVzdElQLCBEZXN0UG9ydCwgQWN0aW9uLCBTaWduYXR1cmVJRCwgTWVzc2FnZVxyXG58IHdoZXJlICd7SURTSVBTQWN0aW9ufScgPT0gQWN0aW9uIG9yICd7SURTSVBTQWN0aW9ufScgPT0gXCIqXCJcclxufCB3aGVyZSAne0lEU0lQU1Byb3RvY29sfScgPT0gUHJvdG9jb2wgb3IgJ3tJRFNJUFNQcm90b2NvbH0nID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tJRFNJUFNTaWduYXR1cmVJRH0nID09IFNpZ25hdHVyZUlEIG9yICd7SURTSVBTU2lnbmF0dXJlSUR9JyA9PSBcIipcIlxyXG58IHdoZXJlICd7SURTSVBTU291cmNlSVB9JyA9PSBTb3VyY2VJUCBvciAne0lEU0lQU1NvdXJjZUlQfScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBTaWduYXR1cmVJRCIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJ0aXRsZSI6ICJGaWx0ZXJlZCBJRFBTIFNpZ25hdHVyZUlEcyBieSBDb3VudCIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhpcyBmZWF0dXJlIGlzIGluIEF6dXJlIEZpcmV3YWxsIFByZW1pdW07IEZvciBtb3JlIGluZm9ybWF0aW9uIGdvIHRvIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsL3ByZW1pdW0tZmVhdHVyZXMiLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgImZvcm1hdHRlcnMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiY291bnRfIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRklEU0lQUyIKICAgICAgfSwKICAgICAgImN1c3RvbVdpZHRoIjogIjI1IiwKICAgICAgIm5hbWUiOiAicXVlcnkgLSA0NSAtIENvcHkgLSBDb3B5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBSZXNvdXJjZVR5cGUgPT0gXCJBWlVSRUZJUkVXQUxMU1wiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCB3aGVyZSBPcGVyYXRpb25OYW1lID09IFwiQXp1cmVGaXJld2FsbElEU0xvZ1wiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0SVAgXCI6XCIgRGVzdFBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBTaWduYXR1cmU6IFwiIFNpZ25hdHVyZUlEIFwiLiBJRFM6XCIgTWVzc2FnZSBcIi4gUHJpb3JpdHk6XCIgUHJpb3JpdHkgXCIuIENsYXNzaWZpY2F0aW9uOlwiIENsYXNzaWZpY2F0aW9uXHJcbnwgcHJvamVjdCBUaW1lR2VuZXJhdGVkLCBQcm90b2NvbCwgU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RJUCwgRGVzdFBvcnQsIEFjdGlvbiwgU2lnbmF0dXJlSUQsIE1lc3NhZ2VcclxufCB3aGVyZSAne0lEU0lQU0FjdGlvbn0nID09IEFjdGlvbiBvciAne0lEU0lQU0FjdGlvbn0nID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tJRFNJUFNQcm90b2NvbH0nID09IFByb3RvY29sIG9yICd7SURTSVBTUHJvdG9jb2x9JyA9PSBcIipcIlxyXG58IHdoZXJlICd7SURTSVBTU2lnbmF0dXJlSUR9JyA9PSBTaWduYXR1cmVJRCBvciAne0lEU0lQU1NpZ25hdHVyZUlEfScgPT0gXCIqXCJcclxufCB3aGVyZSAne0lEU0lQU1NvdXJjZUlQfScgPT0gU291cmNlSVAgb3IgJ3tJRFNJUFNTb3VyY2VJUH0nID09IFwiKlwiXHJcbnwgc3VtbWFyaXplIFZvbHVtZT1jb3VudCgpIGJ5IERlc3RJUCwgU291cmNlSVBcclxufCBzb3J0IGJ5IFZvbHVtZSBkZXNjIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInRpdGxlIjogIkZpbHRlcmVkIFNvdXJjZUlQLCBmaWx0ZXJhYmxlIGJ5IERlc3RJUCIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhpcyBmZWF0dXJlIGlzIGluIEF6dXJlIEZpcmV3YWxsIFByZW1pdW07IEZvciBtb3JlIGluZm9ybWF0aW9uIGdvIHRvIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL2F6dXJlL2ZpcmV3YWxsL3ByZW1pdW0tZmVhdHVyZXMiLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAiZXhwb3J0RmllbGROYW1lIjogIkRlc3RJUCIsCiAgICAgICAgImV4cG9ydFBhcmFtZXRlck5hbWUiOiAiSURTSVBTRGVzdElQIiwKICAgICAgICAiZXhwb3J0RGVmYXVsdFZhbHVlIjogIioiLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInRhYmxlIiwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgImZvcm1hdHRlcnMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiU291cmNlSVAiLAogICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiA1CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiVm9sdW1lIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBdLAogICAgICAgICAgImhpZXJhcmNoeVNldHRpbmdzIjogewogICAgICAgICAgICAidHJlZVR5cGUiOiAxLAogICAgICAgICAgICAiZ3JvdXBCeSI6IFsKICAgICAgICAgICAgICAiU291cmNlSVAiCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJleHBhbmRUb3BMZXZlbCI6IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAidGlsZVNldHRpbmdzIjogewogICAgICAgICAgInNob3dCb3JkZXIiOiBmYWxzZSwKICAgICAgICAgICJ0aXRsZUNvbnRlbnQiOiB7CiAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJTb3VyY2VJUCIsCiAgICAgICAgICAgICJmb3JtYXR0ZXIiOiAxCiAgICAgICAgICB9LAogICAgICAgICAgImxlZnRDb250ZW50IjogewogICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiVm9sdW1lIiwKICAgICAgICAgICAgImZvcm1hdHRlciI6IDEyLAogICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAicGFsZXR0ZSI6ICJhdXRvIgogICAgICAgICAgICB9LAogICAgICAgICAgICAibnVtYmVyRm9ybWF0IjogewogICAgICAgICAgICAgICJ1bml0IjogMTcsCiAgICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAibWF4aW11bVNpZ25pZmljYW50RGlnaXRzIjogMywKICAgICAgICAgICAgICAgICJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiOiAyCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiZ3JhcGhTZXR0aW5ncyI6IHsKICAgICAgICAgICJ0eXBlIjogMCwKICAgICAgICAgICJ0b3BDb250ZW50IjogewogICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiU291cmNlSVAiLAogICAgICAgICAgICAiZm9ybWF0dGVyIjogMQogICAgICAgICAgfSwKICAgICAgICAgICJjZW50ZXJDb250ZW50IjogewogICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiVm9sdW1lIiwKICAgICAgICAgICAgImZvcm1hdHRlciI6IDEsCiAgICAgICAgICAgICJudW1iZXJGb3JtYXQiOiB7CiAgICAgICAgICAgICAgInVuaXQiOiAxNywKICAgICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHMiOiAzLAogICAgICAgICAgICAgICAgIm1heGltdW1GcmFjdGlvbkRpZ2l0cyI6IDIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGSURTSVBTIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiMjUiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDQ1IC0gQ29weSAtIENvcHkgLSBDb3B5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBSZXNvdXJjZVR5cGUgPT0gXCJBWlVSRUZJUkVXQUxMU1wiXHJcbnwgd2hlcmUgT3BlcmF0aW9uTmFtZSA9PSBcIkF6dXJlRmlyZXdhbGxJRFNMb2dcIlxyXG58IHdoZXJlIFJlc291cmNlIGlufiAoc3BsaXQoXCJ7UmVzb3VyY2U6bGFiZWx9XCIsIFwiLCBcIikpXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBEZXN0SVAgXCI6XCIgRGVzdFBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBTaWduYXR1cmU6IFwiIFNpZ25hdHVyZUlEIFwiLiBJRFM6XCIgTWVzc2FnZSBcIi4gUHJpb3JpdHk6XCIgUHJpb3JpdHkgXCIuIENsYXNzaWZpY2F0aW9uOlwiIENsYXNzaWZpY2F0aW9uXHJcbnwgcHJvamVjdCBUaW1lR2VuZXJhdGVkLCBQcm90b2NvbCwgU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RJUCwgRGVzdFBvcnQsIEFjdGlvbiwgU2lnbmF0dXJlSUQsIE1lc3NhZ2UsIFJlc291cmNlXHJcbnwgd2hlcmUgJ3tJRFNJUFNBY3Rpb259JyA9PSBBY3Rpb24gb3IgJ3tJRFNJUFNBY3Rpb259JyA9PSBcIipcIlxyXG58IHdoZXJlICd7SURTSVBTUHJvdG9jb2x9JyA9PSBQcm90b2NvbCBvciAne0lEU0lQU1Byb3RvY29sfScgPT0gXCIqXCJcclxufCB3aGVyZSAne0lEU0lQU1NpZ25hdHVyZUlEfScgPT0gU2lnbmF0dXJlSUQgb3IgJ3tJRFNJUFNTaWduYXR1cmVJRH0nID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tJRFNJUFNTb3VyY2VJUH0nID09IFNvdXJjZUlQIG9yICd7SURTSVBTU291cmNlSVB9JyA9PSBcIipcIlxyXG58IHdoZXJlICd7SURTSVBTRGVzdElQfScgPT0gRGVzdElQIG9yICd7SURTSVBTRGVzdElQfScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgY291bnQoKSBieSBSZXNvdXJjZSwgYmluKFRpbWVHZW5lcmF0ZWQse1RpbWVSYW5nZTpncmFpbn0pIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInRpdGxlIjogIkF6dXJlIEZpcmV3YWxsIElEUFMgY291bnQgb3ZlciB0aW1lIiwKICAgICAgICAibm9EYXRhTWVzc2FnZSI6ICJUaGlzIGZlYXR1cmUgaXMgaW4gQXp1cmUgRmlyZXdhbGwgUHJlbWl1bTsgRm9yIG1vcmUgaW5mb3JtYXRpb24gZ28gdG8gaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZmlyZXdhbGwvcHJlbWl1bS1mZWF0dXJlcyIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJ0aW1lQnJ1c2hQYXJhbWV0ZXJOYW1lIjogIkFGSURTSVBTQnJ1c2giLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJ2aXN1YWxpemF0aW9uIjogInRpbWVjaGFydCIsCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJmb3JtYXR0ZXJzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIlNvdXJjZUlQIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogNQogICAgICAgICAgICB9CiAgICAgICAgICBdLAogICAgICAgICAgImhpZXJhcmNoeVNldHRpbmdzIjogewogICAgICAgICAgICAidHJlZVR5cGUiOiAxLAogICAgICAgICAgICAiZ3JvdXBCeSI6IFsKICAgICAgICAgICAgICAiU291cmNlSVAiCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJleHBhbmRUb3BMZXZlbCI6IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRklEU0lQUyIKICAgICAgfSwKICAgICAgIm5hbWUiOiAicXVlcnkgLSA0NSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICIvL3JlZmVyZW5jZSBsaXN0IHBvc3RlZCBoZXJlIDogaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvYXp1cmUvZGF0YS1leHBsb3Jlci9rdXN0by9xdWVyeS9pcHY0LWxvb2t1cC1wbHVnaW5cclxubGV0IGdlb0RhdGEgPSBleHRlcm5hbGRhdGFcclxuKG5ldHdvcms6c3RyaW5nLGdlb25hbWVfaWQ6c3RyaW5nLGNvbnRpbmVudF9jb2RlOnN0cmluZyxjb250aW5lbnRfbmFtZTpzdHJpbmcsXHJcbmNvdW50cnlfaXNvX2NvZGU6c3RyaW5nLGNvdW50cnlfbmFtZTpzdHJpbmcsaXNfYW5vbnltb3VzX3Byb3h5OnN0cmluZyxpc19zYXRlbGxpdGVfcHJvdmlkZXI6c3RyaW5nKVxyXG5bQFwie0dlb0xvY2F0aW9ufVwiXSB3aXRoIChpZ25vcmVGaXJzdFJlY29yZD10cnVlLCBmb3JtYXQ9XCJjc3ZcIik7XHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBSZXNvdXJjZVR5cGUgPT0gXCJBWlVSRUZJUkVXQUxMU1wiXHJcbnwgd2hlcmUgT3BlcmF0aW9uTmFtZSA9PSBcIkF6dXJlRmlyZXdhbGxJRFNMb2dcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdElQIFwiOlwiIERlc3RQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gU2lnbmF0dXJlOiBcIiBTaWduYXR1cmVJRCBcIi4gSURTOlwiIE1lc3NhZ2UgXCIuIFByaW9yaXR5OlwiIFByaW9yaXR5IFwiLiBDbGFzc2lmaWNhdGlvbjpcIiBDbGFzc2lmaWNhdGlvblxyXG58IHByb2plY3QgVGltZUdlbmVyYXRlZCwgU2lnbmF0dXJlSUQsIE1lc3NhZ2UsIFByaW9yaXR5LCBDbGFzc2lmaWNhdGlvbiwgUHJvdG9jb2wsIFNvdXJjZUlQLCBTb3VyY2VQb3J0LCBEZXN0SVAsIERlc3RQb3J0LCBBY3Rpb24sIFJlc291cmNlXHJcbnwgd2hlcmUgJ3tJRFNJUFNBY3Rpb259JyA9PSBBY3Rpb24gb3IgJ3tJRFNJUFNBY3Rpb259JyA9PSBcIipcIlxyXG58IHdoZXJlICd7SURTSVBTUHJvdG9jb2x9JyA9PSBQcm90b2NvbCBvciAne0lEU0lQU1Byb3RvY29sfScgPT0gXCIqXCJcclxufCB3aGVyZSAne0lEU0lQU1NpZ25hdHVyZUlEfScgPT0gU2lnbmF0dXJlSUQgb3IgJ3tJRFNJUFNTaWduYXR1cmVJRH0nID09IFwiKlwiXHJcbnwgd2hlcmUgJ3tJRFNJUFNTb3VyY2VJUH0nID09IFNvdXJjZUlQIG9yICd7SURTSVBTU291cmNlSVB9JyA9PSBcIipcIlxyXG58IHdoZXJlICd7SURTSVBTRGVzdElQfScgPT0gRGVzdElQIG9yICd7SURTSVBTRGVzdElQfScgPT0gXCIqXCJcclxufCBldmFsdWF0ZSBpcHY0X2xvb2t1cCAoZ2VvRGF0YSwgRGVzdElQLCAgbmV0d29yaywgZmFsc2UpIiwKICAgICAgICAic2l6ZSI6IDAsCiAgICAgICAgInNob3dBbmFseXRpY3MiOiB0cnVlLAogICAgICAgICJ0aXRsZSI6ICJBenVyZSBGaXJld2FsbCBJRFBTIGxvZ3Mgd2l0aCBHZW9Mb2NhdGlvbjogUXVlcnkgVGltZSh7JHF1ZXJ5VGltZX0pIDogVG90YWwgUm93cyh7JHJvd0NvdW50fSkiLAogICAgICAgICJub0RhdGFNZXNzYWdlIjogIlRoaXMgZmVhdHVyZSBpcyBpbiBBenVyZSBGaXJld2FsbCBQcmVtaXVtOyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBnbyB0byBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9maXJld2FsbC9wcmVtaXVtLWZlYXR1cmVzIiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIkFGSURTSVBTQnJ1c2giLAogICAgICAgICJ0aW1lQnJ1c2hQYXJhbWV0ZXJOYW1lIjogIkFGSURTSVBTQnJ1c2giLAogICAgICAgICJzaG93RXhwb3J0VG9FeGNlbCI6IHRydWUsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJoaWVyYXJjaHlTZXR0aW5ncyI6IHsKICAgICAgICAgICAgInRyZWVUeXBlIjogMSwKICAgICAgICAgICAgImdyb3VwQnkiOiBbCiAgICAgICAgICAgICAgIk1lc3NhZ2UiLAogICAgICAgICAgICAgICJjb3VudHJ5X25hbWUiCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJleHBhbmRUb3BMZXZlbCI6IHRydWUKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGSURTSVBTIgogICAgICB9LAogICAgICAibmFtZSI6ICJxdWVyeSAtIDQ1IC0gQ29weSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMSwKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgImpzb24iOiAiIyBBenVyZSBGaXJld2FsbCAtIEludmVzdGlnYXRpb24iCiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGSW52ZXN0aWdhdGUiCiAgICAgIH0sCiAgICAgICJuYW1lIjogInRleHQgLSA0MyIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsQXBwbGljYXRpb25SdWxlXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgUmVzb3VyY2VJZCxSZXNvdXJjZUdyb3VwLFN1YnNjcmlwdGlvbklkLCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQpO1xyXG51bmlvblxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOlwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTpcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyAgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCIgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pXHJcbnwgc3VtbWFyaXplIGNvdW50KCkgYnkgRlFETiwgQWN0aW9uXHJcbnwgc29ydCBieSBjb3VudF8gZGVzYyIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJ0aXRsZSI6ICJGUUROIFRyYWZmaWMgYnkgQ291bnQsIGZpbHRlcmFibGUgYnkgRlFETjogUXVlcnkgVGltZSh7JHF1ZXJ5VGltZX0pIDogVG90YWwgUm93cyh7JHJvd0NvdW50fSkiLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAiZXhwb3J0RmllbGROYW1lIjogIkZRRE4iLAogICAgICAgICJleHBvcnRQYXJhbWV0ZXJOYW1lIjogIkZ1bGxOYW1lIiwKICAgICAgICAiZXhwb3J0RGVmYXVsdFZhbHVlIjogIioiLAogICAgICAgICJzaG93RXhwb3J0VG9FeGNlbCI6IHRydWUsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJmb3JtYXR0ZXJzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIkZRRE4iLAogICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiA1CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiY291bnRfIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAibnVtYmVyRm9ybWF0IjogewogICAgICAgICAgICAgICAgInVuaXQiOiAxNywKICAgICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgICAic3R5bGUiOiAiZGVjaW1hbCIsCiAgICAgICAgICAgICAgICAgICJ1c2VHcm91cGluZyI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAibWluaW11bUludGVnZXJEaWdpdHMiOiAxLAogICAgICAgICAgICAgICAgICAibWF4aW11bUZyYWN0aW9uRGlnaXRzIjogMSwKICAgICAgICAgICAgICAgICAgIm1heGltdW1TaWduaWZpY2FudERpZ2l0cyI6IDQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICAicm93TGltaXQiOiAyMDAwLAogICAgICAgICAgImZpbHRlciI6IHRydWUsCiAgICAgICAgICAiaGllcmFyY2h5U2V0dGluZ3MiOiB7CiAgICAgICAgICAgICJ0cmVlVHlwZSI6IDEsCiAgICAgICAgICAgICJncm91cEJ5IjogWwogICAgICAgICAgICAgICJGUUROIgogICAgICAgICAgICBdLAogICAgICAgICAgICAiZXhwYW5kVG9wTGV2ZWwiOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRkludmVzdGlnYXRlIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiMzUiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDI5IC0gQ29weSIKICAgIH0sCiAgICB7CiAgICAgICJ0eXBlIjogMywKICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgInZlcnNpb24iOiAiS3FsSXRlbS8xLjAiLAogICAgICAgICJxdWVyeSI6ICJsZXQgbWF0ZXJpYWxpemVkRGF0YSA9XHJcbm1hdGVyaWFsaXplKFxyXG5BenVyZURpYWdub3N0aWNzXHJcbnwgd2hlcmUgQ2F0ZWdvcnkgPT0gXCJBenVyZUZpcmV3YWxsQXBwbGljYXRpb25SdWxlXCJcclxufCB3aGVyZSBSZXNvdXJjZSBpbn4gKHNwbGl0KFwie1Jlc291cmNlOmxhYmVsfVwiLCBcIiwgXCIpKVxyXG58IHByb2plY3QgUmVzb3VyY2VJZCxSZXNvdXJjZUdyb3VwLFN1YnNjcmlwdGlvbklkLCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQpO1xyXG51bmlvblxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOlwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTpcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyBoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyBoYXMgXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOlwiIFVybCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIE5vIHJ1bGUgbWF0Y2hlZFwiICpcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zICFoYXMgXCIuIFVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFJ1bGUgQ29sbGVjdGlvbjpcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTpcIiBSdWxlIFwiLiBXZWIgQ2F0ZWdvcnk6XCIgV2ViQ2F0ZWdvcnlcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIiBSZWFzb246XCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUmVhc29uOiBcIiBSdWxlIFwiLlwiXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyAgXCJUTFMgZXh0ZW5zaW9uIHdhcyBtaXNzaW5nXCIgYW5kIG1zZ19zICFoYXMgXCJObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246IFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOiBcIiBSdWxlXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiIFJlYXNvbjogXCJcclxufCB3aGVyZSBtc2dfcyBoYXMgXCJSdWxlIENvbGxlY3Rpb24gR3JvdXBcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBQb2xpY3k6XCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6XCIgUnVsZUNvbGxlY3Rpb25Hcm91cCBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pXHJcbnwgd2hlcmUgU291cmNlSVAgPD4gXCJcIlxyXG58IHdoZXJlIEZRRE4gPT0gXCJ7RnVsbE5hbWU6bGFiZWx9XCIgb3IgJ3tGdWxsTmFtZX0nID09IFwiKlwiXHJcbnwgc3VtbWFyaXplIGNvdW50KCkgYnkgU291cmNlSVAsIFN1YnNjcmlwdGlvbklkXHJcbnwgc29ydCBieSBjb3VudF8iLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiU291cmNlSVAgQWRkcmVzcywgZmlsdGVyYWJsZTogUXVlcnkgVGltZSh7JHF1ZXJ5VGltZX0pIiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgImV4cG9ydGVkUGFyYW1ldGVycyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgImZpZWxkTmFtZSI6ICJTb3VyY2VJUCIsCiAgICAgICAgICAgICJwYXJhbWV0ZXJOYW1lIjogIkludmVzdGlnYXRlSVAiLAogICAgICAgICAgICAicGFyYW1ldGVyVHlwZSI6IDEsCiAgICAgICAgICAgICJkZWZhdWx0VmFsdWUiOiAicHJpdmF0ZUlQQWRkcmVzcyIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJmaWVsZE5hbWUiOiAiU291cmNlSVAiLAogICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJJbnZlc3RpZ2F0ZUlQV0MiLAogICAgICAgICAgICAicGFyYW1ldGVyVHlwZSI6IDEsCiAgICAgICAgICAgICJkZWZhdWx0VmFsdWUiOiAiKiIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJmaWVsZE5hbWUiOiAiU3Vic2NyaXB0aW9uSWQiLAogICAgICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJTZWxlY3RlZFN1YnNjcmlwdGlvbklkIiwKICAgICAgICAgICAgInBhcmFtZXRlclR5cGUiOiAxLAogICAgICAgICAgICAiZGVmYXVsdFZhbHVlIjogIi0iCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAicXVlcnlUeXBlIjogMCwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5vcGVyYXRpb25hbGluc2lnaHRzL3dvcmtzcGFjZXMiLAogICAgICAgICJjcm9zc0NvbXBvbmVudFJlc291cmNlcyI6IFsKICAgICAgICAgICJ7V29ya3NwYWNlc30iCiAgICAgICAgXSwKICAgICAgICAiZ3JpZFNldHRpbmdzIjogewogICAgICAgICAgImZvcm1hdHRlcnMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiU3Vic2NyaXB0aW9uSWQiLAogICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiA1CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiY291bnRfIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogOCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJwYWxldHRlIjogIndoaXRlQmxhY2siCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAibnVtYmVyRm9ybWF0IjogewogICAgICAgICAgICAgICAgInVuaXQiOiAxNywKICAgICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgICAic3R5bGUiOiAiZGVjaW1hbCIsCiAgICAgICAgICAgICAgICAgICJ1c2VHcm91cGluZyI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAibWF4aW11bVNpZ25pZmljYW50RGlnaXRzIjogNAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgXSwKICAgICAgICAgICJmaWx0ZXIiOiB0cnVlCiAgICAgICAgfSwKICAgICAgICAidGlsZVNldHRpbmdzIjogewogICAgICAgICAgInRpdGxlQ29udGVudCI6IHsKICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIlNvdXJjZUlQIiwKICAgICAgICAgICAgImZvcm1hdHRlciI6IDQsCiAgICAgICAgICAgICJmb3JtYXRPcHRpb25zIjogewogICAgICAgICAgICAgICJwYWxldHRlIjogIm9yYW5nZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgIm51bWJlckZvcm1hdCI6IHsKICAgICAgICAgICAgICAidW5pdCI6IDAsCiAgICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAic3R5bGUiOiAiZGVjaW1hbCIsCiAgICAgICAgICAgICAgICAidXNlR3JvdXBpbmciOiBmYWxzZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICJzaG93Qm9yZGVyIjogdHJ1ZSwKICAgICAgICAgICJzaXplIjogImF1dG8iCiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRkludmVzdGlnYXRlIgogICAgICB9LAogICAgICAiY3VzdG9tV2lkdGgiOiAiMTUiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDMzIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIlJlc291cmNlc1xyXG58IHdoZXJlIHR5cGUgPX4gJ21pY3Jvc29mdC5uZXR3b3JrL25ldHdvcmtpbnRlcmZhY2VzJ1xyXG58IHdoZXJlIHByb3BlcnRpZXMgY29udGFpbnMgXCJ7SW52ZXN0aWdhdGVJUH1cIlxyXG58IGV4dGVuZCBOU0cgPSBwcm9wZXJ0aWVzWyduZXR3b3JrU2VjdXJpdHlHcm91cCddWydpZCddXHJcbnwgcGFyc2UgTlNHIHdpdGggXCIvc3Vic2NyaXB0aW9ucy9cIiBOZXR3b3JrU2VjdXJpdHlHcm91cF9TdWIgXCIvcmVzb3VyY2VHcm91cHMvXCIgTmV0d29ya1NlY3VyaXR5R3JvdXBfcmcgXCIvcHJvdmlkZXJzL01pY3Jvc29mdC5OZXR3b3JrL25ldHdvcmtTZWN1cml0eUdyb3Vwcy9cIiBOZXR3b3JrU2VjdXJpdHlHcm91cF9OYW1lXHJcbnwgcHJvamVjdCBpZCwgUHJpdmF0ZUlQQWRkcmVzcyA9IHRvc3RyaW5nKHByb3BlcnRpZXNbJ2lwQ29uZmlndXJhdGlvbnMnXVswXVsncHJvcGVydGllcyddWydwcml2YXRlSVBBZGRyZXNzJ10pLCAgUHVibGljSVBBZGRyZXNzID0gdG9zdHJpbmcocHJvcGVydGllc1snaXBDb25maWd1cmF0aW9ucyddWzBdWydwcm9wZXJ0aWVzJ11bJ3B1YmxpY0lQQWRkcmVzcyddWydpZCddKSwgVmlydHVhbE1hY2hpbmUgPSB0b3N0cmluZyhwcm9wZXJ0aWVzWyd2aXJ0dWFsTWFjaGluZSddWydpZCddKSwgc3VibmV0ID0gdG9zdHJpbmcocHJvcGVydGllc1snaXBDb25maWd1cmF0aW9ucyddWzBdWydwcm9wZXJ0aWVzJ11bJ3N1Ym5ldCddWydpZCddKSwgTmV0d29ya1NlY3VyaXR5R3JvdXAgPSBOZXR3b3JrU2VjdXJpdHlHcm91cF9OYW1lLCBwcm9wZXJ0aWVzLCBzdWJzY3JpcHRpb25JZCwgdGVuYW50SWQiLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiU291cmNlSVBBZGRyZXNzIFJlc291cmNlIExvb2t1cDogUXVlcnkgVGltZSh7JHF1ZXJ5VGltZX0pIDogVG90YWwgUm93cyh7JHJvd0NvdW50fSkiLAogICAgICAgICJleHBvcnRGaWVsZE5hbWUiOiAiaWQiLAogICAgICAgICJleHBvcnRQYXJhbWV0ZXJOYW1lIjogIlRlc3RpZCIsCiAgICAgICAgImV4cG9ydERlZmF1bHRWYWx1ZSI6ICIqIiwKICAgICAgICAicXVlcnlUeXBlIjogMSwKICAgICAgICAicmVzb3VyY2VUeXBlIjogIm1pY3Jvc29mdC5yZXNvdXJjZWdyYXBoL3Jlc291cmNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgInZhbHVlOjpzZWxlY3RlZCIKICAgICAgICBdLAogICAgICAgICJncmlkU2V0dGluZ3MiOiB7CiAgICAgICAgICAiZm9ybWF0dGVycyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJwcm9wZXJ0aWVzIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogNQogICAgICAgICAgICB9CiAgICAgICAgICBdLAogICAgICAgICAgImZpbHRlciI6IHRydWUKICAgICAgICB9LAogICAgICAgICJ0aWxlU2V0dGluZ3MiOiB7CiAgICAgICAgICAidGl0bGVDb250ZW50IjogewogICAgICAgICAgICAiY29sdW1uTWF0Y2giOiAiU291cmNlSVAiLAogICAgICAgICAgICAiZm9ybWF0dGVyIjogNCwKICAgICAgICAgICAgImZvcm1hdE9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgInBhbGV0dGUiOiAib3JhbmdlIgogICAgICAgICAgICB9LAogICAgICAgICAgICAibnVtYmVyRm9ybWF0IjogewogICAgICAgICAgICAgICJ1bml0IjogMCwKICAgICAgICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJzdHlsZSI6ICJkZWNpbWFsIiwKICAgICAgICAgICAgICAgICJ1c2VHcm91cGluZyI6IGZhbHNlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgInNob3dCb3JkZXIiOiB0cnVlLAogICAgICAgICAgInNpemUiOiAiYXV0byIKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGSW52ZXN0aWdhdGUiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICI1MCIsCiAgICAgICJuYW1lIjogInF1ZXJ5IC0gMzMgLSBDb3B5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogImxldCBtYXRlcmlhbGl6ZWREYXRhID1cclxubWF0ZXJpYWxpemUoXHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxBcHBsaWNhdGlvblJ1bGVcIlxyXG58IHdoZXJlIFJlc291cmNlIGlufiAoc3BsaXQoXCJ7UmVzb3VyY2U6bGFiZWx9XCIsIFwiLCBcIikpXHJcbnwgcHJvamVjdCBSZXNvdXJjZUlkLFJlc291cmNlR3JvdXAsU3Vic2NyaXB0aW9uSWQsIG1zZ19zLCBSZXNvdXJjZSwgVGltZUdlbmVyYXRlZCk7XHJcbnVuaW9uXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgaGFzIFwiLiBVcmxcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIFVybDpcIiBVcmwgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSdWxlIENvbGxlY3Rpb246XCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6XCIgUnVsZSBcIi4gV2ViIENhdGVnb3J5OlwiIFdlYkNhdGVnb3J5XHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kIG1zZ19zIGhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zIGhhcyBcIi4gTm8gcnVsZSBtYXRjaGVkXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBVcmw6XCIgVXJsIFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gTm8gcnVsZSBtYXRjaGVkXCIgKlxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgaGFzIFwiLiBObyBydWxlIG1hdGNoZWRcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRlFETiBcIjpcIiBEZXN0aW5hdGlvblBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBObyBydWxlIG1hdGNoZWRcIiAqXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgbXNnX3MgIWhhcyBcIi4gVXJsXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOlwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBSdWxlOlwiIFJ1bGUgXCIuIFdlYiBDYXRlZ29yeTpcIiBXZWJDYXRlZ29yeVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCJSdWxlIENvbGxlY3Rpb25cIiBhbmQgbXNnX3MgIWhhcyBcIiBSZWFzb246IFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFwiIFJ1bGVDb2xsZWN0aW9uIFwiLiBcIiBSdWxlXHJcbiksXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zICFoYXMgXCJXZWIgQ2F0ZWdvcnk6XCIgYW5kICBtc2dfcyAhaGFzIFwiLiBVcmxcIiBhbmQgbXNnX3MgIWhhcyBcIlJ1bGUgQ29sbGVjdGlvblwiIGFuZCBtc2dfcyAhaGFzIFwiVExTIGV4dGVuc2lvbiB3YXMgbWlzc2luZ1wiXHJcbnwgd2hlcmUgbXNnX3MgaGFzIFwiIFJlYXNvbjpcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBSZWFzb246IFwiIFJ1bGUgXCIuXCJcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIldlYiBDYXRlZ29yeTpcIiBhbmQgIG1zZ19zICFoYXMgXCIuIFVybFwiIGFuZCBtc2dfcyAhaGFzICBcIlRMUyBleHRlbnNpb24gd2FzIG1pc3NpbmdcIiBhbmQgbXNnX3MgIWhhcyBcIk5vIHJ1bGUgbWF0Y2hlZFwiIGFuZCBtc2dfcyAhaGFzIFwiUnVsZSBDb2xsZWN0aW9uIEdyb3VwXCJcclxufCBwYXJzZSBtc2dfcyB3aXRoIFByb3RvY29sIFwiIHJlcXVlc3QgZnJvbSBcIiBTb3VyY2VJUCBcIjpcIiBTb3VyY2VQb3J0IFwiIHRvIFwiIEZRRE4gXCI6XCIgRGVzdGluYXRpb25Qb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gUnVsZSBDb2xsZWN0aW9uOiBcIiBSdWxlQ29sbGVjdGlvbiBcIi4gUnVsZTogXCIgUnVsZVxyXG4pLFxyXG4oXHJcbm1hdGVyaWFsaXplZERhdGFcclxufCB3aGVyZSBtc2dfcyAhaGFzIFwiV2ViIENhdGVnb3J5OlwiIGFuZCAgbXNnX3MgIWhhcyBcIi4gVXJsXCIgYW5kIG1zZ19zICFoYXMgXCIgUmVhc29uOiBcIlxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlJ1bGUgQ29sbGVjdGlvbiBHcm91cFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFBvbGljeTogXCIgUG9saWN5IFwiLiBSdWxlIENvbGxlY3Rpb24gR3JvdXA6IFwiIFJ1bGVDb2xsZWN0aW9uR3JvdXAgXCIuIFJ1bGUgQ29sbGVjdGlvbjogXCIgUnVsZUNvbGxlY3Rpb24gXCIuIFJ1bGU6IFwiIFJ1bGVcclxuKVxyXG58IHdoZXJlIFNvdXJjZUlQID09IFwie0ludmVzdGlnYXRlSVBXQzpsYWJlbH1cIiBvciAne0ludmVzdGlnYXRlSVBXQ30nID09IFwiKlwiXHJcbnwgd2hlcmUgRlFETiA9PSBcIntGdWxsTmFtZTpsYWJlbH1cIiBvciAne0Z1bGxOYW1lfScgPT0gXCIqXCJcclxufCBzdW1tYXJpemUgYnkgVGltZUdlbmVyYXRlZCwgRlFETiwgUHJvdG9jb2wsIEFjdGlvbiwgU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RpbmF0aW9uUG9ydCAsIFJlc291cmNlSWQgLCBSZXNvdXJjZUdyb3VwICwgUnVsZUNvbGxlY3Rpb24sIFJ1bGUsIFdlYkNhdGVnb3J5LCBTdWJzY3JpcHRpb25JZFxyXG5cclxuXHJcbiIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJ0aXRsZSI6ICJGUUROIExvb2t1cCBsb2dzOiBRdWVyeSBUaW1lKHskcXVlcnlUaW1lfSkgOiBUb3RhbCBSb3dzKHskcm93Q291bnR9KSIsCiAgICAgICAgInRpbWVDb250ZXh0RnJvbVBhcmFtZXRlciI6ICJUaW1lUmFuZ2UiLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJncmlkU2V0dGluZ3MiOiB7CiAgICAgICAgICAicm93TGltaXQiOiAyMDAwLAogICAgICAgICAgImZpbHRlciI6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJjb25kaXRpb25hbFZpc2liaWxpdHkiOiB7CiAgICAgICAgInBhcmFtZXRlck5hbWUiOiAic2VsZWN0ZWRUYWIiLAogICAgICAgICJjb21wYXJpc29uIjogImlzRXF1YWxUbyIsCiAgICAgICAgInZhbHVlIjogIkFGSW52ZXN0aWdhdGUiCiAgICAgIH0sCiAgICAgICJjdXN0b21XaWR0aCI6ICIxMDAiLAogICAgICAibmFtZSI6ICJxdWVyeSAtIDMzIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogImxldCBtYXRlcmlhbGl6ZWREYXRhID1cclxubWF0ZXJpYWxpemUoXHJcbkF6dXJlRGlhZ25vc3RpY3NcclxufCB3aGVyZSBDYXRlZ29yeSA9PSBcIkF6dXJlRmlyZXdhbGxOZXR3b3JrUnVsZVwiXHJcbnwgd2hlcmUgT3BlcmF0aW9uTmFtZSA9PSBcIkF6dXJlRmlyZXdhbGxUaHJlYXRJbnRlbExvZ1wiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCB3aGVyZSBtc2dfcyBjb250YWlucyBcIntJbnZlc3RpZ2F0ZUlQV0M6bGFiZWx9XCIgb3IgJ3tJbnZlc3RpZ2F0ZUlQV0N9JyA9PSBcIipcIlxyXG58IHdoZXJlIG1zZ19zIDw+IFwiIHJlcXVlc3QgZnJvbSAgdG8gLiBBY3Rpb246IC4gVGhyZWF0SW50ZWw6IFwiXHJcbnwgcHJvamVjdCBtc2dfcywgUmVzb3VyY2UsIFRpbWVHZW5lcmF0ZWQsUmVzb3VyY2VJZCAsIFJlc291cmNlR3JvdXAgLCBTdWJzY3JpcHRpb25JZCk7XHJcbnVuaW9uXHJcbihcclxubWF0ZXJpYWxpemVkRGF0YVxyXG58IHdoZXJlIG1zZ19zIGhhcyBcIlVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gVXJsOiBcIiBVcmwgXCIuIEFjdGlvbjogXCIgQWN0aW9uIFwiLiBUaHJlYXRJbnRlbDogXCIgVGhyZWF0SW50ZWxNc2dcclxuKSxcclxuKFxyXG5tYXRlcmlhbGl6ZWREYXRhXHJcbnwgd2hlcmUgbXNnX3MgIWhhcyBcIlVybFwiXHJcbnwgcGFyc2UgbXNnX3Mgd2l0aCBQcm90b2NvbCBcIiByZXF1ZXN0IGZyb20gXCIgU291cmNlSVAgXCI6XCIgU291cmNlUG9ydCBcIiB0byBcIiBGUUROIFwiOlwiIERlc3RpbmF0aW9uUG9ydCBcIi4gQWN0aW9uOiBcIiBBY3Rpb24gXCIuIFRocmVhdEludGVsOiBcIiBUaHJlYXRJbnRlbE1zZ1xyXG4pXHJcbnwgc3VtbWFyaXplIGJ5IFRpbWVHZW5lcmF0ZWQsIFByb3RvY29sLCBTb3VyY2VJUCwgU291cmNlUG9ydCwgRlFETiwgRGVzdGluYXRpb25Qb3J0LCBVcmwsIEFjdGlvbiwgVGhyZWF0SW50ZWxNc2ciLAogICAgICAgICJzaXplIjogMCwKICAgICAgICAidGl0bGUiOiAiQXp1cmUgRmlyZXdhbGwgVGhyZWF0IEludGVsOiBRdWVyeSBUaW1lKHskcXVlcnlUaW1lfSkgOiBUb3RhbCBSb3dzKHskcm93Q291bnR9KSIsCiAgICAgICAgIm5vRGF0YU1lc3NhZ2UiOiAiVGhlcmUgaXMgbm8gQXp1cmUgRmlyZXdhbGwgVGhyZWF0IEludGVsIGZvciB5b3VyIGZpbHRlcmVkIHJlc3VsdHMiLAogICAgICAgICJ0aW1lQ29udGV4dEZyb21QYXJhbWV0ZXIiOiAiVGltZVJhbmdlIiwKICAgICAgICAic2hvd0V4cG9ydFRvRXhjZWwiOiB0cnVlLAogICAgICAgICJxdWVyeVR5cGUiOiAwLAogICAgICAgICJyZXNvdXJjZVR5cGUiOiAibWljcm9zb2Z0Lm9wZXJhdGlvbmFsaW5zaWdodHMvd29ya3NwYWNlcyIsCiAgICAgICAgImNyb3NzQ29tcG9uZW50UmVzb3VyY2VzIjogWwogICAgICAgICAgIntXb3Jrc3BhY2VzfSIKICAgICAgICBdLAogICAgICAgICJncmlkU2V0dGluZ3MiOiB7CiAgICAgICAgICAicm93TGltaXQiOiAyMDAwLAogICAgICAgICAgImZpbHRlciI6IHRydWUsCiAgICAgICAgICAic29ydEJ5IjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgIml0ZW1LZXkiOiAiVGltZUdlbmVyYXRlZCIsCiAgICAgICAgICAgICAgInNvcnRPcmRlciI6IDEKICAgICAgICAgICAgfQogICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgInNvcnRCeSI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgIml0ZW1LZXkiOiAiVGltZUdlbmVyYXRlZCIsCiAgICAgICAgICAgICJzb3J0T3JkZXIiOiAxCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRkludmVzdGlnYXRlIgogICAgICB9LAogICAgICAibmFtZSI6ICJxdWVyeSAtIDI5IgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAzLAogICAgICAiY29udGVudCI6IHsKICAgICAgICAidmVyc2lvbiI6ICJLcWxJdGVtLzEuMCIsCiAgICAgICAgInF1ZXJ5IjogIi8vcmVmZXJlbmNlIGxpc3QgcG9zdGVkIGhlcmUgOiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9kYXRhLWV4cGxvcmVyL2t1c3RvL3F1ZXJ5L2lwdjQtbG9va3VwLXBsdWdpblxyXG5sZXQgZ2VvRGF0YSA9IGV4dGVybmFsZGF0YVxyXG4obmV0d29yazpzdHJpbmcsZ2VvbmFtZV9pZDpzdHJpbmcsY29udGluZW50X2NvZGU6c3RyaW5nLGNvbnRpbmVudF9uYW1lOnN0cmluZyxcclxuY291bnRyeV9pc29fY29kZTpzdHJpbmcsY291bnRyeV9uYW1lOnN0cmluZyxpc19hbm9ueW1vdXNfcHJveHk6c3RyaW5nLGlzX3NhdGVsbGl0ZV9wcm92aWRlcjpzdHJpbmcpXHJcbltAXCJ7R2VvTG9jYXRpb259XCJdIHdpdGggKGlnbm9yZUZpcnN0UmVjb3JkPXRydWUsIGZvcm1hdD1cImNzdlwiKTtcclxuQXp1cmVEaWFnbm9zdGljc1xyXG58IHdoZXJlIFJlc291cmNlVHlwZSA9PSBcIkFaVVJFRklSRVdBTExTXCJcclxufCB3aGVyZSBPcGVyYXRpb25OYW1lID09IFwiQXp1cmVGaXJld2FsbElEU0xvZ1wiXHJcbnwgd2hlcmUgUmVzb3VyY2UgaW5+IChzcGxpdChcIntSZXNvdXJjZTpsYWJlbH1cIiwgXCIsIFwiKSlcclxufCB3aGVyZSBtc2dfcyBjb250YWlucyBcIntJbnZlc3RpZ2F0ZUlQV0M6bGFiZWx9XCIgb3IgJ3tJbnZlc3RpZ2F0ZUlQV0N9JyA9PSBcIipcIlxyXG58IHBhcnNlIG1zZ19zIHdpdGggUHJvdG9jb2wgXCIgcmVxdWVzdCBmcm9tIFwiIFNvdXJjZUlQIFwiOlwiIFNvdXJjZVBvcnQgXCIgdG8gXCIgRGVzdElQIFwiOlwiIERlc3RQb3J0IFwiLiBBY3Rpb246IFwiIEFjdGlvbiBcIi4gU2lnbmF0dXJlOiBcIiBTaWduYXR1cmVJRCBcIi4gSURTOlwiIE1lc3NhZ2UgXCIuIFByaW9yaXR5OlwiIFByaW9yaXR5IFwiLiBDbGFzc2lmaWNhdGlvbjpcIiBDbGFzc2lmaWNhdGlvblxyXG58IHN1bW1hcml6ZSBieSBUaW1lR2VuZXJhdGVkLCBTaWduYXR1cmVJRCwgTWVzc2FnZSwgUHJpb3JpdHksIENsYXNzaWZpY2F0aW9uLCBQcm90b2NvbCwgU291cmNlSVAsIFNvdXJjZVBvcnQsIERlc3RJUCwgRGVzdFBvcnQsIEFjdGlvbiwgUmVzb3VyY2VcclxufCBldmFsdWF0ZSBpcHY0X2xvb2t1cCAoZ2VvRGF0YSwgRGVzdElQLCAgbmV0d29yaywgZmFsc2UpXHJcbiIsCiAgICAgICAgInNpemUiOiAwLAogICAgICAgICJ0aXRsZSI6ICJBenVyZSBGaXJld2FsbCBQcmVtaXVtIHdpdGggR2VvTG9jYXRpb24tIElEUFM6IFF1ZXJ5IFRpbWUoeyRxdWVyeVRpbWV9KSA6IFRvdGFsIFJvd3MoeyRyb3dDb3VudH0pIiwKICAgICAgICAidGltZUNvbnRleHRGcm9tUGFyYW1ldGVyIjogIlRpbWVSYW5nZSIsCiAgICAgICAgInF1ZXJ5VHlwZSI6IDAsCiAgICAgICAgInJlc291cmNlVHlwZSI6ICJtaWNyb3NvZnQub3BlcmF0aW9uYWxpbnNpZ2h0cy93b3Jrc3BhY2VzIiwKICAgICAgICAiY3Jvc3NDb21wb25lbnRSZXNvdXJjZXMiOiBbCiAgICAgICAgICAie1dvcmtzcGFjZXN9IgogICAgICAgIF0sCiAgICAgICAgImdyaWRTZXR0aW5ncyI6IHsKICAgICAgICAgICJmb3JtYXR0ZXJzIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogIiRnZW5fZ3JvdXAiLAogICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiAwLAogICAgICAgICAgICAgICJmb3JtYXRPcHRpb25zIjogewogICAgICAgICAgICAgICAgImN1c3RvbUNvbHVtbldpZHRoU2V0dGluZyI6ICI2MGNoIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICJNZXNzYWdlIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogNQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNvbHVtbk1hdGNoIjogImNvdW50cnlfbmFtZSIsCiAgICAgICAgICAgICAgImZvcm1hdHRlciI6IDUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICJjb2x1bW5NYXRjaCI6ICIkZ2VuX2dyb3VwIiwKICAgICAgICAgICAgICAiZm9ybWF0dGVyIjogMCwKICAgICAgICAgICAgICAiZm9ybWF0T3B0aW9ucyI6IHsKICAgICAgICAgICAgICAgICJjdXN0b21Db2x1bW5XaWR0aFNldHRpbmciOiAiNjBjaCIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICAiaGllcmFyY2h5U2V0dGluZ3MiOiB7CiAgICAgICAgICAgICJ0cmVlVHlwZSI6IDEsCiAgICAgICAgICAgICJncm91cEJ5IjogWwogICAgICAgICAgICAgICJNZXNzYWdlIiwKICAgICAgICAgICAgICAiY291bnRyeV9uYW1lIgogICAgICAgICAgICBdLAogICAgICAgICAgICAiZXhwYW5kVG9wTGV2ZWwiOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAiY29uZGl0aW9uYWxWaXNpYmlsaXR5IjogewogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInNlbGVjdGVkVGFiIiwKICAgICAgICAiY29tcGFyaXNvbiI6ICJpc0VxdWFsVG8iLAogICAgICAgICJ2YWx1ZSI6ICJBRkludmVzdGlnYXRlIgogICAgICB9LAogICAgICAibmFtZSI6ICJxdWVyeSAtIDU4IgogICAgfQogIF0sCiAgImZhbGxiYWNrUmVzb3VyY2VJZHMiOiBbCiAgICAiQXp1cmUgTW9uaXRvciIKICBdLAogICJmcm9tVGVtcGxhdGVJZCI6ICJzZW50aW5lbC1Vc2VyV29ya2Jvb2siLAogICIkc2NoZW1hIjogImh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvQXBwbGljYXRpb24tSW5zaWdodHMtV29ya2Jvb2tzL2Jsb2IvbWFzdGVyL3NjaGVtYS93b3JrYm9vay5qc29uIgp9Cg==",
            "response_headers": {
              "Accept-Ranges": "bytes",
              "Access-Control-Allow-Origin": "*",
              "Cache-Control": "max-age=300",
              "Content-Security-Policy": "default-src 'none'; style-src 'unsafe-inline'; sandbox",
              "Content-Type": "text/plain; charset=utf-8",
              "Cross-Origin-Resource-Policy": "cross-origin",
              "Date": "Mon, 26 Feb 2024 16:06:55 GMT",
              "Etag": "W/\"8845cff08f21ef3ca1960706813db5638b94d1067ebd5ced1ce3b35eb1f765df\"",
              "Expires": "Mon, 26 Feb 2024 16:11:55 GMT",
              "Source-Age": "292",
              "Strict-Transport-Security": "max-age=31536000",
              "Vary": "Authorization,Accept-Encoding,Origin",
              "Via": "1.1 varnish",
              "X-Cache": "HIT",
              "X-Cache-Hits": "1",
              "X-Content-Type-Options": "nosniff",
              "X-Fastly-Request-Id": "c6edade474480055f622b1c9c0daa2a80e8c4996",
              "X-Frame-Options": "deny",
              "X-Github-Request-Id": "BDE6:0E90:A62759:ADAE82:65DCAC56",
              "X-Served-By": "cache-par-lfpg1960085-PAR",
              "X-Timer": "S1708963615.459129,VS0,VE1",
              "X-Xss-Protection": "1; mode=block"
            },
            "retry": null,
            "status_code": 200,
            "url": "https://raw.githubusercontent.com/Azure/Azure-Network-Security/master/Azure%20Firewall/Workbook%20-%20Azure%20Firewall%20Monitor%20Workbook/Azure%20Firewall_Gallery.json"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azapi_resource",
      "name": "appservice_domain",
      "provider": "provider[\"registry.terraform.io/azure/azapi\"].subscription_hub",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "body": "{\"properties\":{\"autoRenew\":false,\"consent\":{\"agreedAt\":\"2023-08-13T15:06:59.264Z\",\"agreedBy\":\"2a04:cec0:11d9:24c8:8898:3820:8631:d83\",\"agreementKeys\":[\"DNRA\"]},\"contactAdmin\":{\"addressMailing\":{\"address1\":\"1 Microsoft Way\",\"city\":\"Redmond\",\"country\":\"US\",\"postalCode\":\"98052\",\"state\":\"WA\"},\"email\":\"houssem.dellai@live.com\",\"nameFirst\":\"azureuser\",\"nameLast\":\"Dellai\",\"phone\":\"+33.762954328\"},\"contactBilling\":{\"addressMailing\":{\"address1\":\"1 Microsoft Way\",\"city\":\"Redmond\",\"country\":\"US\",\"postalCode\":\"98052\",\"state\":\"WA\"},\"email\":\"houssem.dellai@live.com\",\"nameFirst\":\"azureuser\",\"nameLast\":\"Dellai\",\"phone\":\"+33.762954328\"},\"contactRegistrant\":{\"addressMailing\":{\"address1\":\"1 Microsoft Way\",\"city\":\"Redmond\",\"country\":\"US\",\"postalCode\":\"98052\",\"state\":\"WA\"},\"email\":\"houssem.dellai@live.com\",\"nameFirst\":\"azureuser\",\"nameLast\":\"Dellai\",\"phone\":\"+33.762954328\"},\"contactTech\":{\"addressMailing\":{\"address1\":\"1 Microsoft Way\",\"city\":\"Redmond\",\"country\":\"US\",\"postalCode\":\"98052\",\"state\":\"WA\"},\"email\":\"houssem.dellai@live.com\",\"nameFirst\":\"azureuser\",\"nameLast\":\"Dellai\",\"phone\":\"+33.762954328\"},\"dnsType\":\"AzureDns\",\"dnsZoneId\":\"/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/dnsZones/houssem17.com\",\"privacy\":false}}",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.DomainRegistration/domains/houssem17.com",
            "identity": [],
            "ignore_casing": false,
            "ignore_missing_property": true,
            "location": "global",
            "locks": null,
            "name": "houssem17.com",
            "output": "{}",
            "parent_id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu",
            "removing_special_chars": false,
            "response_export_values": null,
            "schema_validation_enabled": true,
            "tags": {},
            "timeouts": null,
            "type": "Microsoft.DomainRegistration/domains@2022-09-01"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_dns_zone.dns_zone_parent",
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_application_insights_workbook",
      "name": "workbook",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "category": "workbook",
            "data_json": "{\n  \"version\": \"Notebook/1.0\",\n  \"items\": [\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"## Azure Firewall Workbook\\r\\n---\\r\\n\"\n      },\n      \"name\": \"text - 23\"\n    },\n    {\n      \"type\": 11,\n      \"content\": {\n        \"version\": \"LinkItem/1.0\",\n        \"style\": \"tabs\",\n        \"links\": [\n          {\n            \"id\": \"20847ce8-91bc-4d8b-b878-a5a41c95c31c\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall Overview\",\n            \"subTarget\": \"AFOverview\",\n            \"preText\": \"Azure Firewall Overview\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"f564709d-1658-46a1-8b44-892210e13017\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - Application rule log statistics\",\n            \"subTarget\": \"AFAppRule\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"1f6661e2-f873-4d56-879d-4d085d8cf1d4\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - Network rule log statistics\",\n            \"subTarget\": \"AFNetRule\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"ef1548c5-ef55-4eaa-8a81-b049cb93b56c\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - DNS Proxy\",\n            \"subTarget\": \"AFDNSProxy\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"18a4a585-2176-4d9f-907c-8e8d5f984efa\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall Premium - IDPS\",\n            \"subTarget\": \"AFIDSIPS\",\n            \"style\": \"link\"\n          },\n          {\n            \"id\": \"97dc7364-961d-4c19-a730-7b9024f46b91\",\n            \"cellValue\": \"selectedTab\",\n            \"linkTarget\": \"parameter\",\n            \"linkLabel\": \"Azure Firewall - Investigation\",\n            \"subTarget\": \"AFInvestigate\",\n            \"style\": \"link\"\n          }\n        ]\n      },\n      \"name\": \"links - 24\"\n    },\n    {\n      \"type\": 9,\n      \"content\": {\n        \"version\": \"KqlParameterItem/1.0\",\n        \"parameters\": [\n          {\n            \"id\": \"ab7d6c51-d7df-436c-96a2-429163aa50ec\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"TimeRange\",\n            \"type\": 4,\n            \"isRequired\": true,\n            \"isGlobal\": true,\n            \"value\": {\n              \"durationMs\": 7776000000\n            },\n            \"typeSettings\": {\n              \"selectableValues\": [\n                {\n                  \"durationMs\": 300000\n                },\n                {\n                  \"durationMs\": 900000\n                },\n                {\n                  \"durationMs\": 1800000\n                },\n                {\n                  \"durationMs\": 3600000\n                },\n                {\n                  \"durationMs\": 14400000\n                },\n                {\n                  \"durationMs\": 43200000\n                },\n                {\n                  \"durationMs\": 86400000\n                },\n                {\n                  \"durationMs\": 172800000\n                },\n                {\n                  \"durationMs\": 259200000\n                },\n                {\n                  \"durationMs\": 604800000\n                },\n                {\n                  \"durationMs\": 1209600000\n                },\n                {\n                  \"durationMs\": 2419200000\n                },\n                {\n                  \"durationMs\": 2592000000\n                },\n                {\n                  \"durationMs\": 5184000000\n                },\n                {\n                  \"durationMs\": 7776000000\n                }\n              ],\n              \"allowCustom\": false\n            }\n          },\n          {\n            \"id\": \"add90eb3-ff5f-4b19-9658-ff15c8043af5\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"Workspaces\",\n            \"type\": 5,\n            \"isRequired\": true,\n            \"multiSelect\": true,\n            \"quote\": \"'\",\n            \"delimiter\": \",\",\n            \"query\": \"where type =~ 'microsoft.operationalinsights/workspaces'\\r\\n| project id, name\\r\\n| order by name desc\",\n            \"crossComponentResources\": [\n              \"value::selected\"\n            ],\n            \"value\": [\n              \"value::100\"\n            ],\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [\n                \"value::100\"\n              ]\n            },\n            \"queryType\": 1,\n            \"resourceType\": \"microsoft.resourcegraph/resources\"\n          },\n          {\n            \"id\": \"5084e141-6c56-4d7f-bd8a-09f7ef9af1bc\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"Resource\",\n            \"label\": \"Azure Firewalls\",\n            \"type\": 5,\n            \"isRequired\": true,\n            \"multiSelect\": true,\n            \"quote\": \"'\",\n            \"delimiter\": \",\",\n            \"query\": \"where type =~ 'Microsoft.Network/azureFirewalls'\\r\\n| project id, name\",\n            \"crossComponentResources\": [\n              \"value::selected\"\n            ],\n            \"value\": [\n              \"value::all\"\n            ],\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [\n                \"value::all\"\n              ]\n            },\n            \"queryType\": 1,\n            \"resourceType\": \"microsoft.resourcegraph/resources\"\n          },\n          {\n            \"id\": \"13d9f6e9-9290-4b1e-b0d0-a7c0ebdc1aed\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"Help\",\n            \"label\": \"Show Help\",\n            \"type\": 10,\n            \"description\": \"This will show some help information to help you understand the page you are on\",\n            \"isRequired\": true,\n            \"typeSettings\": {\n              \"additionalResourceOptions\": []\n            },\n            \"jsonData\": \"[\\r\\n { \\\"value\\\": \\\"Yes\\\", \\\"label\\\": \\\"Yes\\\"},\\r\\n {\\\"value\\\": \\\"No\\\", \\\"label\\\": \\\"No\\\", \\\"selected\\\":true },\\r\\n { \\\"value\\\": \\\"Change Log\\\", \\\"label\\\": \\\"Change Log\\\"}\\r\\n]\"\n          },\n          {\n            \"id\": \"68f2cb32-03d4-4307-8eb5-1f66dfc09a85\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"FirewallResources\",\n            \"label\": \"Show Resources\",\n            \"type\": 2,\n            \"description\": \"The is only used on the Overview page.\",\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [],\n              \"showDefault\": false\n            },\n            \"jsonData\": \"[\\r\\n { \\\"value\\\": \\\"Yes\\\", \\\"label\\\": \\\"Yes\\\", \\\"selected\\\":true},\\r\\n {\\\"value\\\": \\\"No\\\", \\\"label\\\": \\\"No\\\" }\\r\\n]\",\n            \"value\": \"No\"\n          },\n          {\n            \"id\": \"53aa8daf-29de-40a1-9147-c0970e32fac4\",\n            \"version\": \"KqlParameterItem/1.0\",\n            \"name\": \"GeoLocation\",\n            \"label\": \"GeoLocationCSV\",\n            \"type\": 2,\n            \"description\": \"Supplied as a value for GeoLocation lookup on queries: Read more here - https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin#ipv4-lookup---matching-rows-only\",\n            \"typeSettings\": {\n              \"additionalResourceOptions\": [],\n              \"showDefault\": false\n            },\n            \"jsonData\": \"\\r\\n[\\r\\n{\\r\\n\\\"value\\\": \\\"https://raw.githubusercontent.com/datasets/geoip2-ipv4/master/data/geoip2-ipv4.csv\\\", \\\"label\\\": \\\"GeoLocationDefault\\\", \\\"selected\\\": \\\"true\\\"  \\r\\n}\\r\\n]\\r\\n\\r\\n\"\n          }\n        ],\n        \"style\": \"pills\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\"\n      },\n      \"name\": \"parameters - 1\"\n    },\n    {\n      \"type\": 12,\n      \"content\": {\n        \"version\": \"NotebookGroup/1.0\",\n        \"groupType\": \"editable\",\n        \"items\": [\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Overview - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|v1.0\\t|Initial Version|\\r\\n|V1.1.0\\t|Split up the data sets, Overview, Application Rule Logs, Network Rule Logs, DNS Proxy Logs. Added in Investigation visibility with Azure Firewall + Azure Graph. Added in visibility to multiple workspaces and filtering to Firewall resources. |\\r\\n|V1.2.0 | Added new filteres, \\\"Show Help\\\", \\\"Show Resources\\\", \\\"GeoLocationCSV\\\", Updated query parsing to the Overview queries. Improved overall performance in large data scale performance with new parsing requirements.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFOverview\"\n              }\n            ],\n            \"name\": \"text - 40\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall - App Rules - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|v1.0.0 | Initial Version\\r\\n|V1.2.0 | Added in new Querires for Azure Firewall features, parsing is now used differently. Added Web Category.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFAppRule\"\n              },\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              }\n            ],\n            \"name\": \"text - 63\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall - Network Rule - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.0.0 | Initial Version\\r\\n|V1.2.0 | Added in new Querires for Azure Firewall features, parsing is now used differently. Added in GeoLocation queries, updated main query to use GeoLocation data.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFNetRule\"\n              }\n            ],\n            \"name\": \"text - 64\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall - DNSProxy - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.1.0 | Initial Version\\r\\n|V1.2.0 | No modifications were made\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFDNSProxy\"\n              }\n            ],\n            \"name\": \"text - 65\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall Prem - IDPS - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.2.0 | Initial Version\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFIDSIPS\"\n              },\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              }\n            ],\n            \"name\": \"text - 66\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"### Azure Firewall Prem - IDPS - Change Log\\r\\n|Version|Description|\\r\\n|---|---|\\r\\n|V1.0.0 | Initial Version\\r\\n|V1.2.0 | Added IDPS Logs to the investgation experience, Added in GeoLocation infromation. Updated the KQL logic to be faster for large data volume.\"\n            },\n            \"conditionalVisibilities\": [\n              {\n                \"parameterName\": \"Help\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"Change Log\"\n              },\n              {\n                \"parameterName\": \"selectedTab\",\n                \"comparison\": \"isEqualTo\",\n                \"value\": \"AFInvestigate\"\n              }\n            ],\n            \"name\": \"text - 67\"\n          }\n        ]\n      },\n      \"name\": \"ChangeLogGroup\"\n    },\n    {\n      \"type\": 12,\n      \"content\": {\n        \"version\": \"NotebookGroup/1.0\",\n        \"groupType\": \"editable\",\n        \"items\": [\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Overview page has the following features.\\r\\n\\r\\n- All Firewall Data Log Analytics Volume (Total)\\r\\n- All Firewall Data Log Analytics Volume (Per Firewall)\\r\\n- All Firewall Event Categories\\r\\n- All Firewall Event Categories over time\\r\\n- Azure Firewall Metrics data\\r\\n  - Traffic\\r\\n  - SNAT Port\\r\\n  - Network Rule Count\\r\\n  - Application Rule Count\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nStart by looking at the workbook filters, examples would be TimeRange, Workspace, Azure Firewall. Note these are filtered based on your azure portal settings of \\\"Default subscription filter\\\". Selecting more resources or more workspaces has an impact on speed of results depending on the data volume of your workspaces. Why TimeRange is a large factor when looking at looking at extremely large data sets of volume(example over 1 Billion logs) so multiple filters have been offered to finetune the results without having to build your own queries.\\r\\n\\r\\nIf this is your first time looking at this workbook, my suggestion is to use 14 days(this is the fastest cached data in Log Analytics), a single workspace, a single firewall, if you're wanting to see the results of one firewall. Best to know where your firewall is sending it's logs too to confirm you didn't select a workspace that doesn't have that firewalls data. How to check, go to the Azure Firewall, click Diagnostic settings, see what Log Analytics workspace is currently configured.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, and sending to workspace your azure ad user had RBAC permissions to. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\\r\\n- Azure Metrics requires resource permissions of the Firewall you're wanting data on. \"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFOverview\"\n            },\n            \"name\": \"text - 59\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Application rule log statistics page has the following features.\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- Unique Source IP Address*\\r\\n- Application Rule Usage\\r\\n- Denied/Allowed FQDN over time\\r\\n- Denied/Allowed FQDN count\\r\\n- Denied/Allowed Web Categories over time\\r\\n- Denied/Allowed Web Categories count\\r\\n- Pre-parsed Azure Firewall Application Rule Logs with a search feature.\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll see the unique source of IP addresses based on the global filters you have in place, this is showing only the top 10 IPAddresses, you can modify the KQL query to show more if needed if you click the \\\"Edit\\\" button. We added in the logic to show the volume over time, under the IP address/count information. If you click on the highest count (my example is 415,786 count, 10.0.24.4 ipaddress) it'll filter everything on the Application rule log statistic page to this IP address specifically. (Only Exception is the Rule Usage). Note this could cause other data sets to become blank as a result, sometimes you only have Approved or Denied access based on the configuration of the firewall.\\r\\n\\r\\nIf you're wanting to search for something a little more specific other than IPAddress filter, you can use the \\\"Search\\\" bar under the \\\"All IP Address events\\\" query to create a custom filter to the parsed logs. Example could be an FQDN \\\"wdcp.microsoft.com\\\" to pull up those logs specifically with that name in it.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, specifically requires Application Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFAppRule\"\n            },\n            \"name\": \"text - 1\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Network rule log statistics page has the following features.\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- Rule Actions*\\r\\n\\r\\n- Target Ports*\\r\\n\\r\\n- DNAT Actions*\\r\\n\\r\\n- GeoLocation\\r\\n\\r\\n- Actions over time(Time scrub enabled)\\r\\n\\r\\n- Pre-parsed Network Rule data with GeoLocation added\\r\\n\\r\\n  *Note: GeoLocation is using an public file, you have to modify your GeoLocation Global Filter tab to add your own data.*\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll get see pie charts on the screen, each of these can be clicked on to filter the data below. You'll have to click on the color of the wheel in order to use the filter feature. Downfall of this, if it's an extremely small data set, its hard to click on that color due to the challenge of even seeing it. These filters are a top down approach, meaning what clicked on top, filters below. If you'd like, feel free to test this out now. Under \\\"Target Ports, filterable by Target Port\\\" find port 53 ( pretty common port). Click on the wheel with the color that's associated to port 53. You'll see everything change below only showing data that has port 53 associated to it. If you'd like to remove this filter you have a few options. \\r\\n\\r\\n1. Click the \\\"Go back\\\" at the top right of the wheel\\r\\n2. Refresh the whole workbook\\r\\n3. Refresh the whole browser window\\r\\n\\r\\n*A note about the new feature added \\\"GeoLocation\\\", this is public data shared through the Log Analytics developer team to show the feature to associate IP addresses with a GeoLocation file. This had been added to the workbook to show you what's possible, it's encouraged for you to use your own data which could be further enriched. If you had Lat/Long data, you could even add in a map feature into this workbook to show you where the traffic is mostly.*\\r\\n\\r\\nMid-way down the page you'll see the \\\"Actions, by time\\\", if we saw a large spike and wanted to lower the window of traffic, select on the left side(where you're wanting to start, before the event occurred) drag, and move it over to the right. Example March 24th - March 27th. When i was looking over 14 days of time. This will filter the \\\"All IP Addresses events\\\" down to this new time window.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, specifically requires Network Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFNetRule\"\n            },\n            \"name\": \"text - 2\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - DNS Proxy page has the following features.\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- DNS Traffic by count (Time scrub enabled)\\r\\n- DNS Proxy by Request Name, by Count*\\r\\n- DNS Proxy Request by ClientIP, by Count*\\r\\n- Count over time of Proxy Requests by ClientIP\\r\\n- Pre-parsed DNS Proxy data\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll see the DNS Proxy traffic count, this is a great way to start to narrow down the proxy traffic over a period of time. Example we're looking at the 14 day window, but there was an odd spike or dip in proxy traffic, why? use the time scrub feature to select on the left side(where you're wanting to start, before the event occurred) drag, and move it over to the right. Example March 24th - March 27th.\\r\\n\\r\\nAfter adding our second time filter to the page, move forward to looking at the DNS requests. You might see a large spike in a specific DNS request, could be something you're not even familiar with. Using an example, i see a DNS request for \\\"md-fpp31tsvhx4s.blob.core.windows.net\\\" for 300K times in my current filters. By selecting this Request Name, it'll filter on the right showing me which clients are requesting this DNS traffic. Which after clicking on my request, i see 2 different IP addresses now. Oddly though, one is much smaller than the other. Lets select that Ip address to add an additional filter to the logs. Now we can see the logs related to that machine client ip, specifically around that DNS request name. This might help you narrow down if there are any actions that need to be taken on your firewall.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Diagnostic settings enabled, specifically requires DNS Proxy Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFDNSProxy\"\n            },\n            \"name\": \"text - 3\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall Premium- IDPS page has the following features.\\r\\n\\r\\n*As noted on the title, these logs are only created on the Azure Firewall Premium sku*\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- IDPS Actions Count*\\r\\n- IDPS Protocol Count*\\r\\n- IDPS SignatureID Count*\\r\\n- IDPS SourceIP Count*\\r\\n- Azure Firewall IDPS count over time (Time Scrub Enabled)\\r\\n- Azure Firewall IDPS logs with GeoLocation\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nStarting out you'll see Pie Charts offering multiple filtering options to your IDPS logs, showing Alerts, Protocols, SignatureIDs and Sources of the logs. Lets start by selecting an ClientIP address(SourceIP) under the \\\"IDPS SourceIP Count, filterable by SourceIP\\\". I clicked on the largest one, you might of noticed most of the traffic under the IDPS logs are alerts, Mostly TCP to this ClientIP address and there could be some specific SignatureID's are being triggered. Looking further into the logs, you should expand the Source IP to see the different IP Addresses this client has talked to within the past 14 days(current global filter). The majority of the traffic is going to XX.XX.XX.XX, which is something to remember.\\r\\n\\r\\nGoing further down, you might noticed a spike in traffic, lets use the time scrub feature to narrow down the time window to that spike. Start by selecting on the left side(where you're wanting to start time to be, before the event occurred) drag, and move it over to the right(the end time). Example March 24th - March 27th.\\r\\n\\r\\n*Note; The GeoLocation + Data can take a long time to refresh.*\\r\\n\\r\\nYou should now be able to see data we filtered down to, with it based on  GeoLocation/Signature ID's\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- Azure Firewall Premium Diagnostic settings enabled, specifically requires IDPS Diagnostic logs to be enabled for the workspace. You need a minimum of read rights to the AzureDiagnostics table within the Log Analytics workspace.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFIDSIPS\"\n            },\n            \"name\": \"text - 4\"\n          },\n          {\n            \"type\": 1,\n            \"content\": {\n              \"json\": \"##### What's on this page?\\r\\n\\r\\nThe Azure Firewall - Investigation page has the following features.\\r\\n\\r\\n*Note, this is a combination of all the logs within the Azure Firewall workbook. Some logs are from the Azure Firewall Premium sku*\\r\\n\\r\\nAnything that can be used as a filter within the workbook, you'll see a * next to it. If it's filterable, this mean you can click on something within the data set that will be pushed down the workbook for more additional filtering.\\r\\n\\r\\n- IFQDN Traffic by Count*\\r\\n- SourceIP Address*\\r\\n- SourceIPAddress Resource Lookup (Azure Resource Graph)\\r\\n- FQDN Lookup logs\\r\\n- Azure Firewall Threat Intel\\r\\n- Azure Firewall Premium with GeoLocation- IDPS\\r\\n\\r\\n##### How to use this page?\\r\\n\\r\\nIf  you're not comfortable with the filters on this workbook, my suggestion is to use the get-help on the overview page to get started.\\r\\n\\r\\nThis is the page where we narrow down everything, You should considering adding your own twist based on your own investigations to this page. Leverage this as a template of where to start and how to move forward.\\r\\n\\r\\nStarting out we see FQDN and IP Address are the page's first filters offered.\\r\\n\\r\\nLooking at source count, you might see something that has a large count. Like the following example \\\"watson.telemetry.microsoft.com\\\".  Click on the \\\"Deny\\\"/'Count' line to use the filter feature for the whole page.\\r\\n\\r\\nThis narrowed down our large list of client (SourceIP) address to a smaller list, which could be used to find out which client is being the loudest or maybe something that sneaked in that wasn't suppose to be talking to this FQDN in the first place. Click on an IPAddress(SourceIP). \\r\\n\\r\\nAzure Resource Graph is then used to find which machine this is, which Azure Resource NIC, Public IP address, Subnet, etc.\\r\\n\\r\\nUse the other data sets to help see the logs you've filtered based on the FQDN + IPAddress above. \\r\\n\\r\\n*Note, FQDN isn't required for the Azure Resource Graph lookup.*\\r\\n\\r\\nSome log sources might be blank, that's perfectly acceptable in this scenario as we're filtering down to alerts and events.\\r\\n\\r\\n##### What's required for this workbook to function?\\r\\n\\r\\n- All Azure Firewall Diagnostic Logs\\r\\n- RBAC Permissions for Azure Resource Graph lookup.\"\n            },\n            \"conditionalVisibility\": {\n              \"parameterName\": \"selectedTab\",\n              \"comparison\": \"isEqualTo\",\n              \"value\": \"AFInvestigate\"\n            },\n            \"name\": \"text - 5\"\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"Help\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"Yes\"\n      },\n      \"name\": \"Get-Help\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall - overview\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"name\": \"Main title\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"where type =~ 'Microsoft.Network/azureFirewalls'\\r\\n| extend Tier = trim(' ', tostring(properties.sku.tier))\\r\\n| extend Status = trim(' ', tostring(iif(isempty(properties.ipConfigurations.[0].properties.provisioningState),properties.provisioningState,properties.ipConfigurations.[0].properties.provisioningState)))\\r\\n| extend Premium = iff(Tier == \\\"Premium\\\", \\\"Yes\\\", \\\"No\\\")\\r\\n| extend Standard = iff(Tier == \\\"Standard\\\", \\\"Yes\\\", \\\"No\\\")\\r\\n| extend ProvisionedState = iff(Status == \\\"Succeeded\\\", \\\"Running\\\", \\\"Not Running\\\")\\r\\n| extend Policy = trim(' ', tostring(properties.firewallPolicy.id))\\r\\n| extend ApplicationRule1 = trim(' ', tostring(properties.applicationRuleCollections.[0].id))\\r\\n| extend ApplicationRule2 = trim(' ', tostring(properties.applicationRuleCollections.[0].id))\\r\\n| extend ApplicationRule3 = iff(ApplicationRule1 == \\\"\\\", \\\"N/A\\\", \\\"\\\")\\r\\n| extend ApplicationRule4 = iff(ApplicationRule2 contains \\\"subscription\\\", \\\"Configured\\\", \\\"\\\")\\r\\n| extend ApplicationRuleClassic = strcat(ApplicationRule3, ApplicationRule4)\\r\\n| extend NetworkRule1 = trim(' ', tostring(properties.networkRuleCollections.[0].id))\\r\\n| extend NetworkRule2 = trim(' ', tostring(properties.networkRuleCollections.[0].id))\\r\\n| extend NetworkRule3 = iff(NetworkRule1 == \\\"\\\", \\\"N/A\\\", \\\"\\\")\\r\\n| extend NetworkRule4 = iff(NetworkRule1 contains \\\"subscription\\\", \\\"Configured\\\", \\\"\\\")\\r\\n| extend NetworkRuleClassic = strcat(NetworkRule3, NetworkRule4)\\r\\n| project Firewall=id, Premium, Standard, ProvisionedState,FirewallPolicy= Policy, ApplicationRuleClassic, NetworkRuleClassic, location, resourceGroup, subscriptionId, tenantId\",\n        \"size\": 1,\n        \"title\": \"Azure Firewall Resource List\",\n        \"queryType\": 1,\n        \"resourceType\": \"microsoft.resourcegraph/resources\",\n        \"crossComponentResources\": [\n          \"value::selected\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"Premium\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Yes\",\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"No\",\n                    \"representation\": \"grayBlue\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": null,\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"Standard\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Yes\",\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"No\",\n                    \"representation\": \"grayBlue\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": null,\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"ProvisionedState\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Running\",\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"Not Running\",\n                    \"representation\": \"grayBlue\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"ApplicationRuleClassic\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"N/A\",\n                    \"representation\": \"gray\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            },\n            {\n              \"columnMatch\": \"NetworkRuleClassic\",\n              \"formatter\": 18,\n              \"formatOptions\": {\n                \"thresholdsOptions\": \"colors\",\n                \"thresholdsGrid\": [\n                  {\n                    \"operator\": \"==\",\n                    \"thresholdValue\": \"N/A\",\n                    \"representation\": \"gray\",\n                    \"text\": \"{0}{1}\"\n                  },\n                  {\n                    \"operator\": \"Default\",\n                    \"thresholdValue\": null,\n                    \"representation\": \"green\",\n                    \"text\": \"{0}{1}\"\n                  }\n                ]\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"FirewallResources\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"Yes\"\n      },\n      \"customWidth\": \"100\",\n      \"name\": \"query - 60\",\n      \"styleSettings\": {\n        \"margin\": \"0\"\n      }\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics \\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\" \\r\\n| summarize Volume=count() by bin(TimeGenerated, {TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Events, by time: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 16\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\" \\r\\n| summarize Volume=count() by Resource, bin(TimeGenerated, {TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Events, by firewall over time: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportParameterName\": \"TopEvent\",\n        \"exportDefaultValue\": \"{\\\"Resource\\\":\\\"*\\\",\\\"ResourceGroup\\\":\\\"*\\\"}\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"linechart\",\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"Resource\",\n            \"formatter\": 1\n          },\n          \"leftContent\": {\n            \"columnMatch\": \"amount\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"palette\": \"auto\"\n            },\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          },\n          \"showBorder\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"Firewall per Resource Group\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| project Category, ResourceType, OperationName);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by OperationName\\r\\n    | project Category=OperationName, Volume\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | summarize Volume=count() by OperationName\\r\\n    | project Category=OperationName, Volume\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by Category\\r\\n)\\r\\n| sort by Volume desc\",\n        \"size\": 0,\n        \"title\": \"Events, by category: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"Category\",\n        \"exportParameterName\": \"SelectedCategory\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\",\n        \"tileSettings\": {\n          \"showBorder\": false,\n          \"titleContent\": {\n            \"columnMatch\": \"Category\",\n            \"formatter\": 1\n          },\n          \"leftContent\": {\n            \"columnMatch\": \"Volume\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"palette\": \"auto\"\n            },\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"Events by category\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| project Category, ResourceType, OperationName, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by OperationName, bin(TimeGenerated, {TimeRange:grain})\\r\\n    | project Category=OperationName, Volume, TimeGenerated\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName == \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | summarize Volume=count() by OperationName, bin(TimeGenerated, {TimeRange:grain})\\r\\n    | project Category=OperationName, Volume, TimeGenerated\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n    | where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n    | summarize Volume=count() by Category, bin(TimeGenerated, {TimeRange:grain})\\r\\n)\\r\\n| sort by Volume desc\",\n        \"size\": 0,\n        \"title\": \"Events categories, by time: Query Time({$queryTime})\",\n        \"noDataMessage\": \"There are no firewall events being feed within the selected workspaces. If you believe the selection is correct, confirm logging has been enabled for the Azure Firewall and feeding into the selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 4,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"Events categories by time\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"### Firewall Metrics\\r\\nThe data below dosen't read from the Log Analytics workpsace, it's reading directly from the resources which requires resource visibility. \\r\\nClick [here for more information on Azure Metrics](https://docs.microsoft.com/en-us/azure/azure-monitor/platform/data-platform-metrics)\\r\\n\",\n        \"style\": \"info\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"name\": \"text - 39\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--Throughput\",\n            \"aggregation\": 4,\n            \"splitBy\": null,\n            \"columnName\": \"All Firewall Throughput Average\"\n          }\n        ],\n        \"title\": \"Average Throughput of Firewall Traffic\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--SNATPortUtilization\",\n            \"aggregation\": 4,\n            \"splitBy\": null\n          }\n        ],\n        \"title\": \"SNAT Port Utilization\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25 - Copy\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--NetworkRuleHit\",\n            \"aggregation\": 1,\n            \"splitBy\": null\n          }\n        ],\n        \"title\": \"Network Rule Hitcount (SUM)\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25 - Copy - Copy\"\n    },\n    {\n      \"type\": 10,\n      \"content\": {\n        \"chartId\": \"workbook76864ed5-dd34-42d0-ae35-f3db9f9e8f15\",\n        \"version\": \"MetricsItem/2.0\",\n        \"size\": 0,\n        \"chartType\": 2,\n        \"resourceType\": \"microsoft.network/azurefirewalls\",\n        \"metricScope\": 0,\n        \"resourceParameter\": \"Resource\",\n        \"resourceIds\": [\n          \"{Resource}\"\n        ],\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeContext\": {\n          \"durationMs\": 7776000000\n        },\n        \"metrics\": [\n          {\n            \"namespace\": \"microsoft.network/azurefirewalls\",\n            \"metric\": \"microsoft.network/azurefirewalls--ApplicationRuleHit\",\n            \"aggregation\": 1,\n            \"splitBy\": null\n          }\n        ],\n        \"title\": \"Application Rule Hitcount (SUM)\",\n        \"gridSettings\": {\n          \"rowLimit\": 10000\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFOverview\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"metric - 25 - Copy - Copy - Copy\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"---\\r\\n# Azure Firewall - Application rule log statistics\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"name\": \"text - 14\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize Amount=count() by SourceIP\\r\\n| join kind = inner\\r\\n( union (\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n    | make-series Trend = count() default = 0 on bin(TimeGenerated, 1d) from {TimeRange:start} to {TimeRange:end} step {TimeRange:grain} by SourceIP) on SourceIP\\r\\n    | project-away SourceIP1, TimeGenerated\\r\\n    | top 10 by Amount\\r\\n    | sort by Amount\\r\\n\",\n        \"size\": 1,\n        \"title\": \"Unique Source IP addresses, filterable by SelectedSourceIP: Query Time ({$queryTime})\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"SourceIP\",\n        \"exportParameterName\": \"SelectedSourceIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"tiles\",\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"Amount\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"showIcon\": true\n            }\n          },\n          \"subtitleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 1,\n            \"formatOptions\": {\n              \"showIcon\": true\n            }\n          },\n          \"secondaryContent\": {\n            \"columnMatch\": \"Trend\",\n            \"formatter\": 9,\n            \"formatOptions\": {\n              \"showIcon\": true\n            }\n          },\n          \"showBorder\": false\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 4\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where RuleCollection matches regex \\\".*\\\" \\r\\n| summarize Count = count(), last_log = datetime_diff(\\\"second\\\", now(), max(TimeGenerated)) by RuleCollection, Rule, WebCategory\",\n        \"size\": 1,\n        \"title\": \"Application Rule Usage : Query Time ({$queryTime})\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"Count\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            },\n            {\n              \"columnMatch\": \"last_log\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"greenRed\"\n              },\n              \"numberFormat\": {\n                \"unit\": 24,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false\n                }\n              }\n            }\n          ],\n          \"sortBy\": [\n            {\n              \"itemKey\": \"$gen_heatmap_last_log_4\",\n              \"sortOrder\": 1\n            }\n          ]\n        },\n        \"sortBy\": [\n          {\n            \"itemKey\": \"$gen_heatmap_last_log_4\",\n            \"sortOrder\": 1\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 36\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize count() by FQDN, bin(TimeGenerated,{TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Denied FQDN's over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"tileSettings\": {\n          \"showBorder\": false\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 3\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize count() by FQDN\\r\\n| sort by count_ desc\\r\\n\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Denied FQDN's by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"sortBy\": [\n            {\n              \"itemKey\": \"$gen_heatmap_count__1\",\n              \"sortOrder\": 2\n            }\n          ]\n        },\n        \"sortBy\": [\n          {\n            \"itemKey\": \"$gen_heatmap_count__1\",\n            \"sortOrder\": 2\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 7\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n    | where Resource in~ (split(\\\"AzureFirewall_hub1, firewall-lat, FW-Test-DNATPIP, lg-NS-FW-netsec, SOC-NS-FW\\\", \\\", \\\"))\\r\\n    | project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n    | where msg_s has \\\" Reason:\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n        and msg_s !has \\\"No rule matched\\\"\\r\\n        and msg_s has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | where msg_s has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    ) \\r\\n| where Action == \\\"Allow\\\"\\r\\n| summarize count() by FQDN, bin(TimeGenerated, 6h)\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Allowed FQDN's over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\" and msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"Allow\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"   \\r\\n| summarize count() by FQDN\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Allowed FQDN's by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        },\n        \"sortBy\": []\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 2\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n    (\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n    | where Resource in~ (split(\\\"AzureFirewall_hub1, firewall-lat, FW-Test-DNATPIP, lg-NS-FW-netsec, SOC-NS-FW\\\", \\\", \\\"))\\r\\n    | project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" URL \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s has \\\". Url\\\"\\r\\n        and msg_s has \\\". No rule matched\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s has \\\". No rule matched\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"Rule Collection\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n    | where msg_s has \\\" Reason:\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\"TLS extension was missing\\\"\\r\\n        and msg_s !has \\\"No rule matched\\\"\\r\\n        and msg_s !has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    ),\\r\\n    (\\r\\n    materializedData\\r\\n    | where msg_s !has \\\"Web Category:\\\"\\r\\n        and msg_s !has \\\". Url\\\"\\r\\n        and msg_s !has \\\" Reason: \\\"\\r\\n    | where msg_s has \\\"Rule Collection Group\\\"\\r\\n    | parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n    )\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Allow\\\"\\r\\n| where '*' == SourceIP or '*' == \\\"*\\\"  \\r\\n| summarize count() by WebCategory, bin(TimeGenerated, 6hrs)\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Allowed Web Categories over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"chartSettings\": {\n          \"showLegend\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url: \\\" Url \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Allow\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by WebCategory\\r\\n| sort by count_ desc\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Allowed Web Categories by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        },\n        \"chartSettings\": {\n          \"showLegend\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\" . Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize count() by WebCategory, bin(TimeGenerated,{TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Denied Web Categories over time\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"chartSettings\": {\n          \"showLegend\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 5 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\n(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection:\\\" RuleCollection \\\". Rule: \\\" Rule \\\". Web Category: \\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where isnotempty(WebCategory)\\r\\n| where Action == \\\"Deny\\\"\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by WebCategory\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Denied Web Catgories by count\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        },\n        \"sortBy\": []\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 2 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{SelectedSourceIP}' == SourceIP or '{SelectedSourceIP}' == \\\"*\\\"  \\r\\n| summarize by TimeGenerated, FQDN, Protocol, Action, SourceIP, SourcePort, DestinationPort , ResourceId , ResourceGroup , RuleCollection, Rule, WebCategory, SubscriptionId\\r\\n\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"All IP addresses events: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no Application Rule logs within the selected workspaces. If you believe the selection is correct, confirm Application Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFAppRule\"\n      },\n      \"name\": \"query - 9\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"---\\r\\n# Azure Firewall - Network rule log statistics\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"name\": \"text - 14\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize count() by Action\",\n        \"size\": 3,\n        \"title\": \"Rule actions, filterable by RuleAction\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"RuleAction\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 7\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize Count=count() by DestinationPort\",\n        \"size\": 3,\n        \"title\": \"Target ports, filterable by TargetPort\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"DestinationPort\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 10\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"DNAT'ed\\\"\\r\\n| summarize Amount=count() by NatDestination\\r\\n\",\n        \"size\": 3,\n        \"title\": \"DNAT actions, filterable by NatDestination\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"NatDestination\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 12\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nlet materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| project DestinationIP\\r\\n| evaluate ipv4_lookup (geoData, DestinationIP,  network, false)\\r\\n| summarize count() by continent_name\\r\\n\",\n        \"size\": 2,\n        \"title\": \"GeoLocation\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showRefreshButton\": true,\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"netcontinent\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 61\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize amount = count() by Action , SourceIP\\r\\n| sort by amount desc\",\n        \"size\": 0,\n        \"title\": \"Rule actions, by IP addresses\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"Action\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"amount\",\n              \"formatter\": 3,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            },\n            {\n              \"columnMatch\": \"eventCount\",\n              \"formatter\": 3,\n              \"formatOptions\": {\n                \"min\": 0,\n                \"palette\": \"blue\"\n              }\n            }\n          ],\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"Action\"\n            ],\n            \"expandTopLevel\": false,\n            \"finalBy\": \"Action\"\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 8\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"   \\r\\n| summarize AMOUNT=count() by DestinationPort, SourceIP\\r\\n| sort by AMOUNT desc\",\n        \"size\": 0,\n        \"title\": \"Target ports, by Source IP: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"DestinationPort\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"AMOUNT\",\n              \"formatter\": 3,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"DestinationPort\"\n            ],\n            \"expandTopLevel\": false\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 11\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where Action == \\\"DNAT'ed\\\"\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize Amount=count() by NatDestination, bin(TimeGenerated, {TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"DNAT'ed over time\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 13\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nlet materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| project DestinationIP, TimeGenerated\\r\\n| evaluate ipv4_lookup (geoData, DestinationIP,  network, false)\\r\\n| summarize Amount=count() by continent_name, bin(TimeGenerated, {TimeRange:grain})\\r\\n\\r\\n\",\n        \"size\": 0,\n        \"title\": \"GeoLocation over time\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 13 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\" and  msg_s has \\\"Action\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\".. Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize count() by Action, bin(TimeGenerated, {TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Actions, by time\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeBrushParameterName\": \"ActionsByTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"name\": \"query - 15\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nlet materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where OperationName \u003c\u003e \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\n// Azure Firewall Networking - Standard Log\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Type=\\\" and msg_s !has \\\"DNAT'ed\\\" and msg_s !has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking with ICMP\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Type=\\\"\\r\\n| parse msg_s with Protocol \\\" Type=\\\" ICMPType \\\" request from \\\" SourceIP \\\" to \\\" DestinationIP \\\". Action: \\\" Action\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule - Standard\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s !has \\\". Rule Collection:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Networking DNAT rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"DNAT'ed\\\" and msg_s has \\\". Rule Collection:\\\" and msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\" was \\\" Action \\\" to \\\" NatDestination \\\". Policy: \\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall not using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Rule Collection:\\\" and msg_s !has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n),\\r\\n(\\r\\n// Azure Firewall Network rule (firewall using policy)\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Policy:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestinationIP \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule Name: \\\" Rule\\r\\n)\\r\\n| where '{DestinationPort}' == DestinationPort or '{DestinationPort}' == \\\"*\\\"\\r\\n| where \\\"{RuleAction}\\\" == Action or \\\"{RuleAction}\\\" == \\\"*\\\"\\r\\n| where '{NatDestination}' == NatDestination or '{NatDestination}' == \\\"*\\\"\\r\\n| summarize by TimeGenerated,Protocol, ICMPType, Action,SourceIP, SourcePort, DestinationIP , DestinationPort , NatDestination, ResourceId , ResourceGroup , SubscriptionId\\r\\n| evaluate ipv4_lookup (geoData, DestinationIP,  network, false)\\r\\n\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"All IP addresses events with GeoLocation: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no Network Rule logs within the selected workspaces. If you believe the selection is correct, confirm Network Rule logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"ActionsByTimeBrush\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFNetRule\"\n      },\n      \"name\": \"query - 22\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall -DNS Proxy\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"name\": \"text - 41\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project Resource, TimeGenerated\\r\\n| summarize count() by Resource, bin(TimeGenerated,{TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"DNSProxy Traffic by count per Firewall: Query Time({$queryTime}) \",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeBrushParameterName\": \"DNSTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"linechart\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"name\": \"query - 30 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| summarize count() by Request_Name\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"title\": \"DNSProxy count by Request Name, filterable by Request_Name\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"exportFieldName\": \"Request_Name\",\n        \"exportParameterName\": \"DNSRequestName\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 30 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| where '{DNSRequestName}' == Request_Name or '{DNSRequestName}' == \\\"*\\\"\\r\\n| summarize count() by ClientIP\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"title\": \"DNSProxy Request count by ClientIP, filterable by ClientIP\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"exportFieldName\": \"ClientIP\",\n        \"exportParameterName\": \"DNSClientIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 30 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| where '{DNSClientIP}' == ClientIP or '{DNSClientIP}' == \\\"*\\\"\\r\\n| where '{DNSRequestName}' == Request_Name or '{DNSRequestName}' == \\\"*\\\"\\r\\n| summarize count() by ClientIP, bin(TimeGenerated, {TimeRange:grain})\\r\\n\",\n        \"size\": 0,\n        \"title\": \"DNS Proxy Request over time by ClientIP\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"linechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 30 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallDnsProxy\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with \\\"DNS Request: \\\" ClientIP \\\":\\\" ClientPort \\\" - \\\" QueryID \\\" \\\" Request_Type \\\" \\\" Request_Class \\\" \\\" Request_Name \\\". \\\" Request_Protocol \\\" \\\" Request_Size \\\" \\\" EDNSO_DO \\\" \\\" EDNS0_Buffersize \\\" \\\" Responce_Code \\\" \\\" Responce_Flags \\\" \\\" Responce_Size \\\" \\\" Response_Duration\\r\\n| project-away msg_s\\r\\n| where '{DNSClientIP}' == ClientIP or '{DNSClientIP}' == \\\"*\\\"\\r\\n| where '{DNSRequestName}' == Request_Name or '{DNSRequestName}' == \\\"*\\\"\\r\\n| summarize by TimeGenerated, ResourceId, ClientIP, ClientPort, QueryID, Request_Type, Request_Class, Request_Name, Request_Protocol, Request_Size, EDNSO_DO, EDNS0_Buffersize, Responce_Code, Responce_Flags, Responce_Size, Response_Duration, SubscriptionId\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"DNS Proxy Information: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There are no DNS Proxy logs within the selected workspaces. If you believe the selection is correct, confirm DNS Proxy logs are enabled for the Azure Firewall and feeding into this selected workspace. Reference Docs: https://docs.microsoft.com/en-us/azure/firewall/\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"DNSTimeBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFDNSProxy\"\n      },\n      \"name\": \"query - 30\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall Premium - IDPS\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"name\": \"text - 42\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| summarize count() by Action\",\n        \"size\": 2,\n        \"title\": \"IDPS Actions Count, filterable by Action\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"noDataMessageStyle\": 2,\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSAction\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 44\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| summarize count() by Protocol\",\n        \"size\": 2,\n        \"title\": \"IDPS Protocol Count, filterable by Protocol\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSProtocol\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| summarize count() by SignatureID\\r\\n\",\n        \"size\": 2,\n        \"title\": \"IDPS SignatureID Count, filterable by SignatureID\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSSignatureID\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| summarize count() by SourceIP, DestIP\\r\\n| sort by count_ desc\",\n        \"size\": 2,\n        \"title\": \"IDPS SourceIP Count, filterable by SourceIP\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"series\",\n        \"exportParameterName\": \"IDSIPSSourceIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"piechart\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SourceIP\",\n              \"formatter\": 5\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"SourceIP\"\n            ],\n            \"expandTopLevel\": false\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n//| project-away Category, ResourceId, msg_s, SubscriptionId, ResourceProvider, ResourceType, OperationName, Type\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by Action\",\n        \"size\": 0,\n        \"title\": \"Filtered IDPS Actions by Count\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 44 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n//| project-away Category, ResourceId, msg_s, SubscriptionId, ResourceProvider, ResourceType, OperationName, Type\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by Protocol\",\n        \"size\": 0,\n        \"title\": \"Filtered IDPS Protocols by Count\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n//| project-away Category, ResourceId, msg_s, SubscriptionId, ResourceProvider, ResourceType, OperationName, Type\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize count() by SignatureID\",\n        \"size\": 0,\n        \"title\": \"Filtered IDPS SignatureIDs by Count\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ]\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| summarize Volume=count() by DestIP, SourceIP\\r\\n| sort by Volume desc\",\n        \"size\": 0,\n        \"title\": \"Filtered SourceIP, filterable by DestIP\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"DestIP\",\n        \"exportParameterName\": \"IDSIPSDestIP\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"table\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SourceIP\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"Volume\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              }\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"SourceIP\"\n            ],\n            \"expandTopLevel\": false\n          }\n        },\n        \"tileSettings\": {\n          \"showBorder\": false,\n          \"titleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 1\n          },\n          \"leftContent\": {\n            \"columnMatch\": \"Volume\",\n            \"formatter\": 12,\n            \"formatOptions\": {\n              \"palette\": \"auto\"\n            },\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          }\n        },\n        \"graphSettings\": {\n          \"type\": 0,\n          \"topContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 1\n          },\n          \"centerContent\": {\n            \"columnMatch\": \"Volume\",\n            \"formatter\": 1,\n            \"numberFormat\": {\n              \"unit\": 17,\n              \"options\": {\n                \"maximumSignificantDigits\": 3,\n                \"maximumFractionDigits\": 2\n              }\n            }\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"customWidth\": \"25\",\n      \"name\": \"query - 45 - Copy - Copy - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"AzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, SignatureID, Message, Resource\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| where '{IDSIPSDestIP}' == DestIP or '{IDSIPSDestIP}' == \\\"*\\\"\\r\\n| summarize count() by Resource, bin(TimeGenerated,{TimeRange:grain})\",\n        \"size\": 0,\n        \"title\": \"Azure Firewall IDPS count over time\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"timeBrushParameterName\": \"AFIDSIPSBrush\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"visualization\": \"timechart\",\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SourceIP\",\n              \"formatter\": 5\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"SourceIP\"\n            ],\n            \"expandTopLevel\": false\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"name\": \"query - 45\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| project TimeGenerated, SignatureID, Message, Priority, Classification, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, Resource\\r\\n| where '{IDSIPSAction}' == Action or '{IDSIPSAction}' == \\\"*\\\"\\r\\n| where '{IDSIPSProtocol}' == Protocol or '{IDSIPSProtocol}' == \\\"*\\\"\\r\\n| where '{IDSIPSSignatureID}' == SignatureID or '{IDSIPSSignatureID}' == \\\"*\\\"\\r\\n| where '{IDSIPSSourceIP}' == SourceIP or '{IDSIPSSourceIP}' == \\\"*\\\"\\r\\n| where '{IDSIPSDestIP}' == DestIP or '{IDSIPSDestIP}' == \\\"*\\\"\\r\\n| evaluate ipv4_lookup (geoData, DestIP,  network, false)\",\n        \"size\": 0,\n        \"showAnalytics\": true,\n        \"title\": \"Azure Firewall IDPS logs with GeoLocation: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"This feature is in Azure Firewall Premium; For more information go to https://docs.microsoft.com/en-us/azure/firewall/premium-features\",\n        \"timeContextFromParameter\": \"AFIDSIPSBrush\",\n        \"timeBrushParameterName\": \"AFIDSIPSBrush\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"Message\",\n              \"country_name\"\n            ],\n            \"expandTopLevel\": true\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFIDSIPS\"\n      },\n      \"name\": \"query - 45 - Copy\"\n    },\n    {\n      \"type\": 1,\n      \"content\": {\n        \"json\": \"# Azure Firewall - Investigation\"\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"name\": \"text - 43\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| summarize count() by FQDN, Action\\r\\n| sort by count_ desc\",\n        \"size\": 0,\n        \"title\": \"FQDN Traffic by Count, filterable by FQDN: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportFieldName\": \"FQDN\",\n        \"exportParameterName\": \"FullName\",\n        \"exportDefaultValue\": \"*\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"FQDN\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"minimumIntegerDigits\": 1,\n                  \"maximumFractionDigits\": 1,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"FQDN\"\n            ],\n            \"expandTopLevel\": true\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"35\",\n      \"name\": \"query - 29 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy:\\\" Policy \\\". Rule Collection Group:\\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where SourceIP \u003c\u003e \\\"\\\"\\r\\n| where FQDN == \\\"{FullName:label}\\\" or '{FullName}' == \\\"*\\\"\\r\\n| summarize count() by SourceIP, SubscriptionId\\r\\n| sort by count_\",\n        \"size\": 0,\n        \"title\": \"SourceIP Address, filterable: Query Time({$queryTime})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"exportedParameters\": [\n          {\n            \"fieldName\": \"SourceIP\",\n            \"parameterName\": \"InvestigateIP\",\n            \"parameterType\": 1,\n            \"defaultValue\": \"privateIPAddress\"\n          },\n          {\n            \"fieldName\": \"SourceIP\",\n            \"parameterName\": \"InvestigateIPWC\",\n            \"parameterType\": 1,\n            \"defaultValue\": \"*\"\n          },\n          {\n            \"fieldName\": \"SubscriptionId\",\n            \"parameterName\": \"SelectedSubscriptionId\",\n            \"parameterType\": 1,\n            \"defaultValue\": \"-\"\n          }\n        ],\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"SubscriptionId\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"count_\",\n              \"formatter\": 8,\n              \"formatOptions\": {\n                \"palette\": \"whiteBlack\"\n              },\n              \"numberFormat\": {\n                \"unit\": 17,\n                \"options\": {\n                  \"style\": \"decimal\",\n                  \"useGrouping\": false,\n                  \"maximumSignificantDigits\": 4\n                }\n              }\n            }\n          ],\n          \"filter\": true\n        },\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 4,\n            \"formatOptions\": {\n              \"palette\": \"orange\"\n            },\n            \"numberFormat\": {\n              \"unit\": 0,\n              \"options\": {\n                \"style\": \"decimal\",\n                \"useGrouping\": false\n              }\n            }\n          },\n          \"showBorder\": true,\n          \"size\": \"auto\"\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"15\",\n      \"name\": \"query - 33\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"Resources\\r\\n| where type =~ 'microsoft.network/networkinterfaces'\\r\\n| where properties contains \\\"{InvestigateIP}\\\"\\r\\n| extend NSG = properties['networkSecurityGroup']['id']\\r\\n| parse NSG with \\\"/subscriptions/\\\" NetworkSecurityGroup_Sub \\\"/resourceGroups/\\\" NetworkSecurityGroup_rg \\\"/providers/Microsoft.Network/networkSecurityGroups/\\\" NetworkSecurityGroup_Name\\r\\n| project id, PrivateIPAddress = tostring(properties['ipConfigurations'][0]['properties']['privateIPAddress']),  PublicIPAddress = tostring(properties['ipConfigurations'][0]['properties']['publicIPAddress']['id']), VirtualMachine = tostring(properties['virtualMachine']['id']), subnet = tostring(properties['ipConfigurations'][0]['properties']['subnet']['id']), NetworkSecurityGroup = NetworkSecurityGroup_Name, properties, subscriptionId, tenantId\",\n        \"size\": 0,\n        \"title\": \"SourceIPAddress Resource Lookup: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"exportFieldName\": \"id\",\n        \"exportParameterName\": \"Testid\",\n        \"exportDefaultValue\": \"*\",\n        \"queryType\": 1,\n        \"resourceType\": \"microsoft.resourcegraph/resources\",\n        \"crossComponentResources\": [\n          \"value::selected\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"properties\",\n              \"formatter\": 5\n            }\n          ],\n          \"filter\": true\n        },\n        \"tileSettings\": {\n          \"titleContent\": {\n            \"columnMatch\": \"SourceIP\",\n            \"formatter\": 4,\n            \"formatOptions\": {\n              \"palette\": \"orange\"\n            },\n            \"numberFormat\": {\n              \"unit\": 0,\n              \"options\": {\n                \"style\": \"decimal\",\n                \"useGrouping\": false\n              }\n            }\n          },\n          \"showBorder\": true,\n          \"size\": \"auto\"\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"50\",\n      \"name\": \"query - 33 - Copy\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallApplicationRule\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| project ResourceId,ResourceGroup,SubscriptionId, msg_s, Resource, TimeGenerated);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url:\\\" Url \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\" and msg_s has \\\". No rule matched\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". No rule matched\\\" *\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Web Category:\\\" and msg_s !has \\\". Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection:\\\" RuleCollection \\\". Rule:\\\" Rule \\\". Web Category:\\\" WebCategory\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". \\\" RuleCollection \\\". \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\"Rule Collection\\\" and msg_s !has \\\"TLS extension was missing\\\"\\r\\n| where msg_s has \\\" Reason:\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\". Action: \\\" Action \\\". Reason: \\\" Rule \\\".\\\"\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has  \\\"TLS extension was missing\\\" and msg_s !has \\\"No rule matched\\\" and msg_s !has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Web Category:\\\" and  msg_s !has \\\". Url\\\" and msg_s !has \\\" Reason: \\\"\\r\\n| where msg_s has \\\"Rule Collection Group\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". Policy: \\\" Policy \\\". Rule Collection Group: \\\" RuleCollectionGroup \\\". Rule Collection: \\\" RuleCollection \\\". Rule: \\\" Rule\\r\\n)\\r\\n| where SourceIP == \\\"{InvestigateIPWC:label}\\\" or '{InvestigateIPWC}' == \\\"*\\\"\\r\\n| where FQDN == \\\"{FullName:label}\\\" or '{FullName}' == \\\"*\\\"\\r\\n| summarize by TimeGenerated, FQDN, Protocol, Action, SourceIP, SourcePort, DestinationPort , ResourceId , ResourceGroup , RuleCollection, Rule, WebCategory, SubscriptionId\\r\\n\\r\\n\\r\\n\",\n        \"size\": 0,\n        \"title\": \"FQDN Lookup logs: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"customWidth\": \"100\",\n      \"name\": \"query - 33\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"let materializedData =\\r\\nmaterialize(\\r\\nAzureDiagnostics\\r\\n| where Category == \\\"AzureFirewallNetworkRule\\\"\\r\\n| where OperationName == \\\"AzureFirewallThreatIntelLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where msg_s contains \\\"{InvestigateIPWC:label}\\\" or '{InvestigateIPWC}' == \\\"*\\\"\\r\\n| where msg_s \u003c\u003e \\\" request from  to . Action: . ThreatIntel: \\\"\\r\\n| project msg_s, Resource, TimeGenerated,ResourceId , ResourceGroup , SubscriptionId);\\r\\nunion\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s has \\\"Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Url: \\\" Url \\\". Action: \\\" Action \\\". ThreatIntel: \\\" ThreatIntelMsg\\r\\n),\\r\\n(\\r\\nmaterializedData\\r\\n| where msg_s !has \\\"Url\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" FQDN \\\":\\\" DestinationPort \\\". Action: \\\" Action \\\". ThreatIntel: \\\" ThreatIntelMsg\\r\\n)\\r\\n| summarize by TimeGenerated, Protocol, SourceIP, SourcePort, FQDN, DestinationPort, Url, Action, ThreatIntelMsg\",\n        \"size\": 0,\n        \"title\": \"Azure Firewall Threat Intel: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"noDataMessage\": \"There is no Azure Firewall Threat Intel for your filtered results\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"showExportToExcel\": true,\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"rowLimit\": 2000,\n          \"filter\": true,\n          \"sortBy\": [\n            {\n              \"itemKey\": \"TimeGenerated\",\n              \"sortOrder\": 1\n            }\n          ]\n        },\n        \"sortBy\": [\n          {\n            \"itemKey\": \"TimeGenerated\",\n            \"sortOrder\": 1\n          }\n        ]\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"name\": \"query - 29\"\n    },\n    {\n      \"type\": 3,\n      \"content\": {\n        \"version\": \"KqlItem/1.0\",\n        \"query\": \"//reference list posted here : https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/ipv4-lookup-plugin\\r\\nlet geoData = externaldata\\r\\n(network:string,geoname_id:string,continent_code:string,continent_name:string,\\r\\ncountry_iso_code:string,country_name:string,is_anonymous_proxy:string,is_satellite_provider:string)\\r\\n[@\\\"{GeoLocation}\\\"] with (ignoreFirstRecord=true, format=\\\"csv\\\");\\r\\nAzureDiagnostics\\r\\n| where ResourceType == \\\"AZUREFIREWALLS\\\"\\r\\n| where OperationName == \\\"AzureFirewallIDSLog\\\"\\r\\n| where Resource in~ (split(\\\"{Resource:label}\\\", \\\", \\\"))\\r\\n| where msg_s contains \\\"{InvestigateIPWC:label}\\\" or '{InvestigateIPWC}' == \\\"*\\\"\\r\\n| parse msg_s with Protocol \\\" request from \\\" SourceIP \\\":\\\" SourcePort \\\" to \\\" DestIP \\\":\\\" DestPort \\\". Action: \\\" Action \\\". Signature: \\\" SignatureID \\\". IDS:\\\" Message \\\". Priority:\\\" Priority \\\". Classification:\\\" Classification\\r\\n| summarize by TimeGenerated, SignatureID, Message, Priority, Classification, Protocol, SourceIP, SourcePort, DestIP, DestPort, Action, Resource\\r\\n| evaluate ipv4_lookup (geoData, DestIP,  network, false)\\r\\n\",\n        \"size\": 0,\n        \"title\": \"Azure Firewall Premium with GeoLocation- IDPS: Query Time({$queryTime}) : Total Rows({$rowCount})\",\n        \"timeContextFromParameter\": \"TimeRange\",\n        \"queryType\": 0,\n        \"resourceType\": \"microsoft.operationalinsights/workspaces\",\n        \"crossComponentResources\": [\n          \"{Workspaces}\"\n        ],\n        \"gridSettings\": {\n          \"formatters\": [\n            {\n              \"columnMatch\": \"$gen_group\",\n              \"formatter\": 0,\n              \"formatOptions\": {\n                \"customColumnWidthSetting\": \"60ch\"\n              }\n            },\n            {\n              \"columnMatch\": \"Message\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"country_name\",\n              \"formatter\": 5\n            },\n            {\n              \"columnMatch\": \"$gen_group\",\n              \"formatter\": 0,\n              \"formatOptions\": {\n                \"customColumnWidthSetting\": \"60ch\"\n              }\n            }\n          ],\n          \"hierarchySettings\": {\n            \"treeType\": 1,\n            \"groupBy\": [\n              \"Message\",\n              \"country_name\"\n            ],\n            \"expandTopLevel\": true\n          }\n        }\n      },\n      \"conditionalVisibility\": {\n        \"parameterName\": \"selectedTab\",\n        \"comparison\": \"isEqualTo\",\n        \"value\": \"AFInvestigate\"\n      },\n      \"name\": \"query - 58\"\n    }\n  ],\n  \"fallbackResourceIds\": [\n    \"Azure Monitor\"\n  ],\n  \"fromTemplateId\": \"sentinel-UserWorkbook\",\n  \"$schema\": \"https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json\"\n}\n",
            "description": "",
            "display_name": "Azure Firewall Monitor Workbook",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Insights/workbooks/85b3e8bb-fc93-40be-83f2-98f6bec18ba0",
            "identity": [],
            "location": "swedencentral",
            "name": "85b3e8bb-fc93-40be-83f2-98f6bec18ba0",
            "resource_group_name": "rg-lzaks-hub-weu",
            "source_id": "azure monitor",
            "storage_container_id": "",
            "tags": {
              "architecture": "Hub\u0026Spoke",
              "environment": "development",
              "source": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "data.http.firewall_workbook"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_bastion_host",
      "name": "bastion_host",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "copy_paste_enabled": true,
            "dns_name": "bst-1ce0f174-0286-4097-af55-e73cbd75e646.bastion.azure.com",
            "file_copy_enabled": true,
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/bastionHosts/bastion-host",
            "ip_configuration": [
              {
                "name": "configuration",
                "public_ip_address_id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/publicIPAddresses/public-ip-bastion",
                "subnet_id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureBastionSubnet"
              }
            ],
            "ip_connect_enabled": true,
            "location": "swedencentral",
            "name": "bastion-host",
            "resource_group_name": "rg-lzaks-hub-weu",
            "scale_units": 2,
            "shareable_link_enabled": true,
            "sku": "Standard",
            "tags": {
              "architecture": "Hub\u0026Spoke",
              "environment": "development",
              "source": "terraform"
            },
            "timeouts": null,
            "tunneling_enabled": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.public_ip_bastion",
            "azurerm_resource_group.rg",
            "azurerm_subnet.subnet_bastion",
            "azurerm_virtual_network.vnet_hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_dns_a_record",
      "name": "a_record_test",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "fqdn": "test.apps.houssem17.com.",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/dnsZones/apps.houssem17.com/A/test",
            "name": "test",
            "records": [
              "100.101.102.103"
            ],
            "resource_group_name": "rg-lzaks-hub-weu",
            "tags": {},
            "target_resource_id": "",
            "timeouts": null,
            "ttl": 300,
            "zone_name": "apps.houssem17.com"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_dns_zone.dns_zone_apps",
            "azurerm_dns_zone.dns_zone_parent",
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_dns_a_record",
      "name": "dns_a_record",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "fqdn": "test.houssem17.com.",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/dnsZones/houssem17.com/A/test",
            "name": "test",
            "records": [
              "1.2.3.4"
            ],
            "resource_group_name": "rg-lzaks-hub-weu",
            "tags": {},
            "target_resource_id": "",
            "timeouts": null,
            "ttl": 300,
            "zone_name": "houssem17.com"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_dns_zone.dns_zone_parent",
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_dns_ns_record",
      "name": "dns_ns_record",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "fqdn": "apps.houssem17.com.",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/dnsZones/houssem17.com/NS/apps",
            "name": "apps",
            "records": [
              "ns1-38.azure-dns.com.",
              "ns2-38.azure-dns.net.",
              "ns3-38.azure-dns.org.",
              "ns4-38.azure-dns.info."
            ],
            "resource_group_name": "rg-lzaks-hub-weu",
            "tags": {},
            "timeouts": null,
            "ttl": 3600,
            "zone_name": "houssem17.com"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_dns_zone.dns_zone_apps",
            "azurerm_dns_zone.dns_zone_parent",
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_dns_zone",
      "name": "dns_zone_apps",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/dnsZones/apps.houssem17.com",
            "max_number_of_record_sets": 10000,
            "name": "apps.houssem17.com",
            "name_servers": [
              "ns1-38.azure-dns.com.",
              "ns2-38.azure-dns.net.",
              "ns3-38.azure-dns.org.",
              "ns4-38.azure-dns.info."
            ],
            "number_of_record_sets": 3,
            "resource_group_name": "rg-lzaks-hub-weu",
            "soa_record": [
              {
                "email": "azuredns-hostmaster.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "apps.houssem17.com.",
                "host_name": "ns1-38.azure-dns.com.",
                "minimum_ttl": 300,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_dns_zone.dns_zone_parent",
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_dns_zone",
      "name": "dns_zone_parent",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/dnsZones/houssem17.com",
            "max_number_of_record_sets": 10000,
            "name": "houssem17.com",
            "name_servers": [
              "ns1-36.azure-dns.com.",
              "ns2-36.azure-dns.net.",
              "ns3-36.azure-dns.org.",
              "ns4-36.azure-dns.info."
            ],
            "number_of_record_sets": 4,
            "resource_group_name": "rg-lzaks-hub-weu",
            "soa_record": [
              {
                "email": "azuredns-hostmaster.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "houssem17.com.",
                "host_name": "ns1-36.azure-dns.com.",
                "minimum_ttl": 300,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall",
      "name": "firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "dns_proxy_enabled": false,
            "dns_servers": [],
            "firewall_policy_id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/firewallPolicies/firewall-policy",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/azureFirewalls/firewall-hub",
            "ip_configuration": [
              {
                "name": "configuration",
                "private_ip_address": "172.16.0.4",
                "public_ip_address_id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/publicIPAddresses/public-ip-firewall",
                "subnet_id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet"
              }
            ],
            "location": "swedencentral",
            "management_ip_configuration": [],
            "name": "firewall-hub",
            "private_ip_ranges": [],
            "resource_group_name": "rg-lzaks-hub-weu",
            "sku_name": "AZFW_VNet",
            "sku_tier": "Standard",
            "tags": {
              "architecture": "Hub\u0026Spoke",
              "environment": "development",
              "source": "terraform"
            },
            "threat_intel_mode": "Alert",
            "timeouts": null,
            "virtual_hub": [],
            "zones": [
              "1"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall_policy.firewall_policy",
            "azurerm_public_ip.public_ip_firewall",
            "azurerm_public_ip.public_ip_firewall_mgmt",
            "azurerm_resource_group.rg",
            "azurerm_subnet.subnet_firewall",
            "azurerm_subnet.subnet_firewall_mgmt",
            "azurerm_virtual_network.vnet_hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall_policy",
      "name": "firewall_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "auto_learn_private_ranges_enabled": false,
            "base_policy_id": "",
            "child_policies": [],
            "dns": [
              {
                "proxy_enabled": true,
                "servers": [
                  "168.63.129.16"
                ]
              }
            ],
            "explicit_proxy": [],
            "firewalls": [
              "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/azureFirewalls/firewall-hub"
            ],
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/firewallPolicies/firewall-policy",
            "identity": [],
            "insights": [],
            "intrusion_detection": [],
            "location": "swedencentral",
            "name": "firewall-policy",
            "private_ip_ranges": [],
            "resource_group_name": "rg-lzaks-hub-weu",
            "rule_collection_groups": [
              "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/firewallPolicies/firewall-policy/ruleCollectionGroups/policy_group_deny"
            ],
            "sku": "Standard",
            "sql_redirect_allowed": null,
            "tags": {},
            "threat_intelligence_allowlist": [],
            "threat_intelligence_mode": "Alert",
            "timeouts": null,
            "tls_certificate": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall_policy_rule_collection_group",
      "name": "policy_group_deny",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "application_rule_collection": [
              {
                "action": "Deny",
                "name": "app_rules_deny_yahoo_com_any_source",
                "priority": 100,
                "rule": [
                  {
                    "description": "",
                    "destination_addresses": [],
                    "destination_fqdn_tags": [],
                    "destination_fqdns": [
                      "*.yahoo.com"
                    ],
                    "destination_urls": [],
                    "http_headers": [],
                    "name": "deny_yahoo_com",
                    "protocols": [
                      {
                        "port": 80,
                        "type": "Http"
                      },
                      {
                        "port": 443,
                        "type": "Https"
                      }
                    ],
                    "source_addresses": [
                      "*"
                    ],
                    "source_ip_groups": [],
                    "terminate_tls": false,
                    "web_categories": []
                  }
                ]
              },
              {
                "action": "Allow",
                "name": "app_rules_allow_githubusercontent_any_source",
                "priority": 101,
                "rule": [
                  {
                    "description": "",
                    "destination_addresses": [],
                    "destination_fqdn_tags": [],
                    "destination_fqdns": [
                      "raw.githubusercontent.com"
                    ],
                    "destination_urls": [],
                    "http_headers": [],
                    "name": "allow_githubusercontent_com",
                    "protocols": [
                      {
                        "port": 80,
                        "type": "Http"
                      },
                      {
                        "port": 443,
                        "type": "Https"
                      }
                    ],
                    "source_addresses": [
                      "*"
                    ],
                    "source_ip_groups": [],
                    "terminate_tls": false,
                    "web_categories": []
                  }
                ]
              }
            ],
            "firewall_policy_id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/firewallPolicies/firewall-policy",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/firewallPolicies/firewall-policy/ruleCollectionGroups/policy_group_deny",
            "name": "policy_group_deny",
            "nat_rule_collection": [],
            "network_rule_collection": [],
            "priority": 100,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall_policy.firewall_policy",
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "public_ip_bastion",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/publicIPAddresses/public-ip-bastion",
            "idle_timeout_in_minutes": 4,
            "ip_address": "4.223.125.195",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "swedencentral",
            "name": "public-ip-bastion",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg-lzaks-hub-weu",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {
              "architecture": "Hub\u0026Spoke",
              "environment": "development",
              "source": "terraform"
            },
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "public_ip_firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/publicIPAddresses/public-ip-firewall",
            "idle_timeout_in_minutes": 4,
            "ip_address": "51.12.211.169",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "swedencentral",
            "name": "public-ip-firewall",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg-lzaks-hub-weu",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {
              "architecture": "Hub\u0026Spoke",
              "environment": "development",
              "source": "terraform"
            },
            "timeouts": null,
            "zones": [
              "1"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "rg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu",
            "location": "swedencentral",
            "managed_by": "",
            "name": "rg-lzaks-hub-weu",
            "tags": {
              "architecture": "Hub\u0026Spoke",
              "environment": "development",
              "source": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_route",
      "name": "route_to_firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "0.0.0.0/0",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/routeTables/route-table-to-firewall/routes/route-to-firewall",
            "name": "route-to-firewall",
            "next_hop_in_ip_address": "172.16.0.4",
            "next_hop_type": "VirtualAppliance",
            "resource_group_name": "rg-lzaks-hub-weu",
            "route_table_name": "route-table-to-firewall",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.firewall",
            "azurerm_firewall_policy.firewall_policy",
            "azurerm_public_ip.public_ip_firewall",
            "azurerm_public_ip.public_ip_firewall_mgmt",
            "azurerm_resource_group.rg",
            "azurerm_route_table.route_table_to_firewall",
            "azurerm_subnet.subnet_firewall",
            "azurerm_subnet.subnet_firewall_mgmt",
            "azurerm_virtual_network.vnet_hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_route_table",
      "name": "route_table_to_firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "disable_bgp_route_propagation": true,
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/routeTables/route-table-to-firewall",
            "location": "swedencentral",
            "name": "route-table-to-firewall",
            "resource_group_name": "rg-lzaks-hub-weu",
            "route": [
              {
                "address_prefix": "0.0.0.0/0",
                "name": "route-to-firewall",
                "next_hop_in_ip_address": "172.16.0.4",
                "next_hop_type": "VirtualAppliance"
              }
            ],
            "subnets": [
              "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/subnet-vm"
            ],
            "tags": {
              "architecture": "Hub\u0026Spoke",
              "environment": "development",
              "source": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "subnet_bastion",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "172.16.1.0/27"
            ],
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureBastionSubnet",
            "name": "AzureBastionSubnet",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-lzaks-hub-weu",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "vnet-hub"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_virtual_network.vnet_hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "subnet_firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "172.16.0.0/26"
            ],
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": true,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet",
            "name": "AzureFirewallSubnet",
            "private_endpoint_network_policies_enabled": false,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-lzaks-hub-weu",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "vnet-hub"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_virtual_network.vnet_hub"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "vnet_hub",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"].subscription_hub",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "172.16.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "503283bd-8847-4acf-8b7b-3af81a168b62",
            "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub",
            "location": "swedencentral",
            "name": "vnet-hub",
            "resource_group_name": "rg-lzaks-hub-weu",
            "subnet": [
              {
                "address_prefix": "172.16.0.0/26",
                "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureFirewallSubnet",
                "name": "AzureFirewallSubnet",
                "security_group": ""
              },
              {
                "address_prefix": "172.16.1.0/27",
                "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/AzureBastionSubnet",
                "name": "AzureBastionSubnet",
                "security_group": ""
              },
              {
                "address_prefix": "172.16.2.0/26",
                "id": "/subscriptions/38977b70-47bf-4da5-a492-88712fce8725/resourceGroups/rg-lzaks-hub-weu/providers/Microsoft.Network/virtualNetworks/vnet-hub/subnets/subnet-vm",
                "name": "subnet-vm",
                "security_group": ""
              }
            ],
            "tags": {
              "architecture": "Hub\u0026Spoke",
              "environment": "development",
              "source": "terraform"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "firewall_monitor_workbook",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "6859569023842187592",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "var.firewall_sku_tier",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.firewall_sku_tier",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.domain_name",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.domain_name",
          "status": "pass"
        }
      ]
    }
  ]
}
